(function(){(function () {
                  'use strict';

                  window.zamaf=window.zamaf||{};window.zamaf.user=window.zamaf.user||{};
                                    window.zamaf.user.region="mo";
                                    window.zamaf.user.countryCode="us";
                                    window.zamaf.user.isGDPR=false;
                                    window.zamaf.user.isCCPA=false;
                                    window.zamaf.user.deviceType="desktop";
                                    window.zamaf.user.isDesktop=true;
                                    window.debug=window.debug||null;

}());
})();
!function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?e(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.zaf_globals={site:"wowhead",version:"2.2.2",id:"6526ed70441f960008e4a5a8",adFormationId:window.zaf_formation_id,qualifier:"undefined"},window.zamaf_loadCount=window.zamaf_loadCount||0;var c,u,d,l,f=((window.location.search||"").match(/zaf=([^&]*)/)||[])[1];if(f&&!window.zamaf_loadCount){window.zamaf_loadCount=1;var p=document.createElement("script");p.setAttribute("async","async"),p.src="https://zaf.api.fanbyte.com/stable/js/"+window.zaf_globals.site+".js?id="+f,document.getElementsByTagName("head")[0].appendChild(p),window.zamaf_cancel=!0}else window.zamaf_cancel=!1;window.zamaf_cancel||(function(){var e,t,a="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}var u=s,d=c;function l(e){if(u===setTimeout)return setTimeout(e,0);if((u===s||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}"function"==typeof a.setTimeout&&(u=setTimeout),"function"==typeof a.clearTimeout&&(d=clearTimeout);var f,p=[],m=!1,g=-1;function h(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&v())}function v(){if(!m){var e=l(h);m=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,m=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===c||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function y(){}b.prototype.run=function(){this.fun.apply(null,this.array)};var w,I,_=y,C=y,S=y,x=y,E=y,A=y,T=y,O=a.performance||{},k=O.now||O.mozNow||O.msNow||O.oNow||O.webkitNow||function(){return(new Date).getTime()},j=new Date,R={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new b(e,t)),1!==p.length||m||l(v)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:_,addListener:C,once:S,off:x,removeListener:E,removeAllListeners:A,emit:T,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*k.call(O),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-j)/1e3}},z={exports:{}};function D(){if(I)return w;I=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return w=function(s,c){c=c||{};var u=typeof s;if("string"===u&&s.length>0)return function(a){if(!((a=String(a)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(s){var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(s);if("number"===u&&isFinite(s))return c.long?function(i){var o=Math.abs(i);return o>=r?a(i,o,r,"day"):o>=n?a(i,o,n,"hour"):o>=t?a(i,o,t,"minute"):o>=e?a(i,o,e,"second"):i+" ms"}(s):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}var B,P,N=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n);var d=o.log||t.log;d.apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(o(t.names.map(r)),o(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=D(),t.destroy=function(){},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};function F(e){var t=this;if(!e.getAdUnitPath)return"unknown slot";var n,r={};return(e&&e.getTargetingKeys&&e.getTargetingKeys()||[]).forEach((function(n){r[n]=e.getTargeting(n),0===r[n].length&&t.error(e.getSlotElementId(),"key",n,"is empty!")})),{targeting:r,adUnitPath:e.getAdUnitPath(),slotElementId:e.getSlotElementId(),slotId:e.getSlotId().toString(),sizes:(n=e.getSizes(),"fluid"===n[0]?n[0]:n.filter((function(e){return"fluid"!=e})).map((function(e){return e.getWidth?[e.getWidth(),e.getHeight()]:[0,0]}))),_slot:e}}B=z,(P=z.exports).formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+B.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),e.splice(r,0,t)}},P.save=function(e){try{e?P.storage.setItem("debug",e):P.storage.removeItem("debug")}catch(e){}},P.load=function(){var e;try{e=P.storage.getItem("debug")}catch(e){}return!e&&void 0!==R&&"env"in R&&(e=R.env.DEBUG),e},P.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},P.storage=function(){try{return localStorage}catch(e){}}(),P.destroy=function(){},P.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],P.log=console.debug||console.log||function(){},B.exports=N(P),B.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};class U{constructor(e){this.namespace=e}log(){}error(){}warn(){}_slots(){}slots(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"slots",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t;void 0!==t&&(n=[]),n=Array.isArray(t)?t:[t],this._slots(e,n.filter((function(e){return!!e})).map(F.bind(this)))}}function M(e){return new U(e)}var q="dataTags",L="dom:zafInit",W="dom:loading",H="dom:interactive",V="dom:loaded",G="dom:beforeunload",J="dom:unloaded",$="dom:ended",K="dom:visibilityChanged",X=function(){return Math.random.apply(Math,arguments)};function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function Y(e,t){var n=this.event&&this.event.type,r="unload"===n||"beforeunload"===n,i="XMLHttpRequest"in this?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.open("POST",e,!r),i.withCredentials=!0,i.setRequestHeader("Accept","*/*"),"string"==typeof t?(i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.responseType="text"):function(e){return e instanceof Blob}(t)&&t.type&&i.setRequestHeader("Content-Type",t.type);try{i.send(t)}catch(e){return!1}return!0}function Z(){}function ee(){ee.init.call(this)}function te(e){return void 0===e._maxListeners?ee.defaultMaxListeners:e._maxListeners}function ne(e,t,n){if(t)e.call(n);else for(var r=e.length,i=de(e,r),o=0;o<r;++o)i[o].call(n)}function re(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=de(e,i),a=0;a<i;++a)o[a].call(n,r)}function ie(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=de(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function oe(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=de(e,a),c=0;c<a;++c)s[c].call(n,r,i,o)}function ae(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=de(e,i),a=0;a<i;++a)o[a].apply(n,r)}function se(e,t,n,r){var i,o,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]):(o=e._events=new Z,e._eventsCount=0),a){if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(i=te(e))&&i>0&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length}}else a=o[t]=n,++e._eventsCount;return e}function ce(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function ue(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function de(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function le(){return window._domEventEmitter=window._domEventEmitter||new ee,window._domEventEmitter}function fe(e){return e?(e^16*X()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,fe)}(function(){"navigator"in this||(this.navigator={}),"function"!=typeof this.navigator.sendBeacon&&(this.navigator.sendBeacon=Y.bind(this))}).call("object"===("undefined"==typeof window?"undefined":Q(window))?window:{}),M("utils"),Z.prototype=Object.create(null),ee.EventEmitter=ee,ee.usingDomains=!1,ee.prototype.domain=void 0,ee.prototype._events=void 0,ee.prototype._maxListeners=void 0,ee.defaultMaxListeners=10,ee.init=function(){this.domain=null,ee.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Z,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ee.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},ee.prototype.getMaxListeners=function(){return te(this)},ee.prototype.emit=function(e){var t,n,r,i,o,a,s,c="error"===e;if(a=this._events)c=c&&null==a.error;else if(!c)return!1;if(s=this.domain,c){if(t=arguments[1],!s){if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=a[e]))return!1;var d="function"==typeof n;switch(r=arguments.length){case 1:ne(n,d,this);break;case 2:re(n,d,this,arguments[1]);break;case 3:ie(n,d,this,arguments[1],arguments[2]);break;case 4:oe(n,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];ae(n,d,this,i)}return!0},ee.prototype.addListener=function(e,t){return se(this,e,t,!1)},ee.prototype.on=ee.prototype.addListener,ee.prototype.prependListener=function(e,t){return se(this,e,t,!0)},ee.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,ce(this,e,t)),this},ee.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,ce(this,e,t)),this},ee.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new Z:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new Z,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,a||t)}return this},ee.prototype.off=function(e,t){return this.removeListener(e,t)},ee.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new Z,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new Z:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Z,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},ee.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},ee.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):ue.call(e,t)},ee.prototype.listenerCount=ue,ee.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var pe=M("zaf:tracking-utils"),me="zafusr",ge="localStorage",he="sessionStorage";function ve(e,t){var n=window[e].getItem(t);return n||(n=fe(),window[e].setItem(t,n)),n}function be(){zamaf.user=zamaf.user||{};var e=zamaf.user.consents||{},t=!1;return zamaf.user.isCCPA||zamaf.user.isGDPR||(t=!0,pe.log("user is not ccpa nor gdpr, can store user id: ".concat(t))),zamaf.user.isGDPR&&e.storeUserId&&e.adPerformance&&(t=!0,pe.log("user is gdpr but has given consent, can store user id: ".concat(t))),t||(pe.log("removing zafUserKey from local/session storage"),window[ge].removeItem(me),window[he].removeItem(me)),t}function ye(){try{var e=window[he].getItem("zaf-dt");e=e?JSON.parse(e):[];var t=window[ge].getItem("zaf-dt");return t=t?JSON.parse(t):[],o(new Set([].concat(o(e),o(t))))}catch(e){console.error("Cannot find data tags",e)}return[]}function we(e){return Number.parseFloat(e).toFixed(2)}window.zamaf_adt=function(e,t){window.zamaf.user=window.zamaf.user||{};var n=zamaf.user.consents||{};if(!window.zamaf.user.isGDPR||n.storeUserId){t=t===he?he:ge;var r=window[t].getItem("zaf-dt");(r=r?JSON.parse(r):[]).push(e),window[t].setItem("zaf-dt",JSON.stringify(r))}},window.zamaf_rdt=function(e){[he,ge].forEach((function(t){var n=window[he].getItem("zaf-dt"),r=(n=n?JSON.parse(n):[]).indexOf(e);-1!==r&&n.splice(r,1),window[t].setItem("zaf-dt",JSON.stringify(n))}))};var Ie=window.performance.now();function _e(){return we(window.performance.now()-Ie)}function Ce(){window._zafTrackingVisibility||(window._zafTrackingVisibility=!0,window._zafLastVisibleTime=window.performance.now())}function Se(e){e?window._zafLastVisibleTime=window.performance.now():window._zafVisibilityTime+=window.performance.now()-window._zafLastVisibleTime}var xe=fe(),Ee=(n(e={},"userId",(function(){return be()?ve(ge,me):"NONE"})),n(e,"sessionId",(function(){return be()?ve(he,me):"NONE"})),n(e,"pageId",(function(){return xe})),n(e,"elapsedTime",_e),n(e,"absoluteTime",(function(){return we(window.performance.now())})),n(e,"visibilityTime",(function(){window._zafVisibilityTime=window._zafVisibilityTime||0,window._zafLastVisibleTime=window._zafLastVisibleTime||0;var e=window._zafVisibilityTime;return document.hidden||(e+=window.performance.now()-window._zafLastVisibleTime),we(e)})),n(e,q,ye),e);function Ae(e,t){var n=Ee[e];if(n){var r=n();return r&&(t[e]=r),!0}return!1}var Te=M("requestqueue"),Oe="https://tr.api.fanbyte.com/ev/bulk",ke={requestTimeout:!1,queue:[],site:"",init:function(e,t){var n;this.user=t,this.site=e.site,n=this.clearQueue.bind(this),"complete"!==document.readyState?window.addEventListener("load",(function(){n()})):n(),le().on($,this.clearQueue.bind(this)),le().on(K,this.clearQueue.bind(this))},addToQueue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.site=t.site||this.site,Te.log("adding to queue...",e,t.site);var n=e.replace(/:/g,".");this.queue.push({eventName:n,params:t}),this.requestTimeout||(this.requestTimeout=this.deferRequest())},deferRequest:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4;return setTimeout((function(){e.clearQueue(),clearTimeout(e.requestTimeout),e.requestTimeout=!1}),t)},getCurrentTrackingEvents:function(){for(var e=[];0!==this.queue.length;){var t=this.queue.pop();e.push(t)}return e.length||Te.log("nothing in queue"),e},sendRequest:function(e){var t=JSON.stringify(e);return Te.log("sending tracking data to ".concat(Oe)),navigator.sendBeacon(Oe,t),!0},clearQueue:function(){var e=this.getCurrentTrackingEvents();if(Te.log("clearing queue...",e),0!==e.length){var t={zu:this.user,r:document.referrer,u:window.location.href,e:e,t:_e()};this.sendRequest(t)}}},je=M("zaf:tracker");function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ke.addToQueue(e,t)}var ze=["zaf:unit:renderinfo","zaf:unit:loadinfo","zaf:unit:pbjsrender","zaf:error"].concat(o(Object.values({LOADSTART:"video:loadstart",SOURCESET:"video:sourceset",WAITING:"video:waiting",ENDED:"video:ended",SEEKING:"video:seeking",PLAY:"video:play",FIRSTPLAY:"video:firstplay",PAUSE:"video:pause",DURATIONCHANGE:"video:durationchange",FULLSCREENCHANGE:"video:fullscreenchange",ENTERPICTUREINPICTURE:"video:enterpictureinpicture",LEAVEPICTUREINPICTURE:"video:leavepictureinpicture",ERROR:"video:error",LOADEDMETADATA:"video:loadedmetadata",POSTERCHANGE:"video:posterchange",TEXTDATA:"video:textdata",RATECHANGE:"video:ratechange"})),o(Object.values({ADSTARTED:"videoad:started",ADSTARTEDXSECOND:"videoad:startedXSeconds",BIDFETCHED:"videoad:bidFetched"}))),De={handleDefaultMetrics:Ae,initialize:function(e){if(e.events){if(ke.init(e),e.percentage=e.percentage?Number(e.percentage):0,Math.floor(101*X())>e.events.percentage)return je.log("tracking: Tracking disabled"),void(e.events={});je.log("tracking: Tracking enabled")}else je.warn("no events set")},serviceCall:Re,track:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0!==e)if(void 0!==t)if(t.events&&t.events[e])if(t.events[e].percentage&&t.events[e].percentage<100&&101*Math.random()>t.events[e].percentage)je.log("cannot track event ".concat(e,": disabled by randomization"),t.events);else if(0!==t.events[e].percentage)try{je.log("tracking: Tracking event %j",e);var i={},a=t.events[e];a.metrics&&a.metrics.forEach((function(e){if(!Ae(e,i)){var t=n[e];i[e]=void 0===t?"EMPTY":t}})),ze.includes(e)&&(i=r(i,JSON.parse(JSON.stringify(n))));var s=window.zaf_globals||{};i.site=s.site,i.version=s.version,i.id=s.id,i.adFormationId=s.adFormationId,i.qualifier=s.qualifier||"EMPTY",i.dataTags=[].concat(o(n.dataTags||[]),o(ye())),Re(e,i)}catch(e){je.error("tracking: unable to send tracking event",e)}else je.log("cannot track event ".concat(e,": percentage is set to 0"),t.events);else je.log("cannot track event ".concat(e,": does not exist in trackingConfig.events"),t.events);else je.log("cannot track event ".concat(e,": no config passed!"));else je.log("cannot track event no eventName passed!")}},Be=M("domtracking");function Pe(){var e=parseInt(window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop||0),t=parseInt(window.innerHeight||(document.documentElement||document.body).clientHeight||0),n=e+t;if(!(window.zamaf.pagePosition.viewableDepth&&window.zamaf.pagePosition.viewableDepth>n)){var r,i=parseInt(((r=document).body?Math.max(r.body.scrollHeight,r.documentElement.scrollHeight,r.body.offsetHeight,r.documentElement.offsetHeight,r.body.clientHeight,r.documentElement.clientHeight):Math.max(r.documentElement.scrollHeight,r.documentElement.offsetHeight,r.documentElement.clientHeight))||0);Object.keys(window.zamaf.pagePosition).length||(window.zamaf.pagePosition.pageHeight=i,window.zamaf.pagePosition.trackLength=i-t),n>window.zamaf.pagePosition.pageHeight?(window.zamaf.pagePosition.scrollPercentage=100,window.zamaf.pagePosition.viewablePercentage=100,window.zamaf.pagePosition.scrollDepth=window.zamaf.pagePosition.trackLength,window.zamaf.pagePosition.viewableDepth=window.zamaf.pagePosition.pageHeight):(window.zamaf.pagePosition.scrollPercentage=e?Math.floor(e/window.zamaf.pagePosition.trackLength*100):0,window.zamaf.pagePosition.viewablePercentage=Math.floor(n/window.zamaf.pagePosition.pageHeight*100),window.zamaf.pagePosition.scrollDepth=e,window.zamaf.pagePosition.viewableDepth=n),window.zamaf.pagePosition.finalPageHeight=i,window.zamaf.pagePosition.finalTrackLength=i-t,window.zamaf.pagePosition.finalViewableDepth=n,window.zamaf.pagePosition.finalScrollDepth=e}}function Ne(e,t){var n=Object.entries(Ee).reduce((function(e,t){var n=i(t,2),r=n[0],o=n[1];return e[r]=o(),e}),{}),o=window.zaf_globals||{};n.version=o.version;var a=r({},n,t);Be.log("Tracking data for ".concat(e,": ").concat(JSON.stringify(a))),window.zamaf_tr_tl.serviceCall(e,a)}var Fe=(n(t={},L,(function(e){Ne(L,n({},L,parseInt(e)))})),n(t,W,(function(){Ne(W,n({},W,parseInt(window.performance.timing.domLoading-window.performance.timeOrigin)))})),n(t,H,(function(){Ne(H,n({},H,parseInt(window.performance.timing.domInteractive-window.performance.timeOrigin)))})),n(t,V,(function(){window.addEventListener("load",(function(e){Ne(V,n({},V,parseInt(e.timeStamp)))}))})),n(t,G,(function(){window.addEventListener("beforeunload",(function(e){Ne(G,n({},G,parseInt(e.timeStamp)))}))})),n(t,J,(function(){var e;"complete"!==document.readyState?window.addEventListener("load",(function(){window.zamaf.pagePosition={},Pe()})):(window.zamaf.pagePosition={},Pe()),window.addEventListener("scroll",(function(){clearTimeout(e),e=setTimeout((function(){window.zamaf.pagePosition&&Pe()}),50)}),!1),le().on(J,(function(e){var t;window.zamaf.pagePosition||(window.zamaf.pagePosition={},Pe()),Ne(J,(n(t={},J,parseInt(e.timeStamp)),n(t,"scrollDepth",window.zamaf.pagePosition.scrollDepth),n(t,"viewableDepth",window.zamaf.pagePosition.viewableDepth),n(t,"pageHeight",window.zamaf.pagePosition.pageHeight),n(t,"trackLength",window.zamaf.pagePosition.trackLength),n(t,"scrollPercentage",window.zamaf.pagePosition.scrollPercentage),n(t,"viewablePercentage",window.zamaf.pagePosition.viewablePercentage),n(t,"finalScrollDepth",window.zamaf.pagePosition.finalScrollDepth),n(t,"finalViewableDepth",window.zamaf.pagePosition.finalViewableDepth),n(t,"finalPageHeight",window.zamaf.pagePosition.finalPageHeight),n(t,"finalTrackLength",window.zamaf.pagePosition.finalTrackLength),t))}))})),t),Ue={setupDOMTracking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Be.log("setting up dom tracking");var n=le();if(window.addEventListener("pagehide",(function(e){n.emit(J,e),n.emit($,e)})),Ce(),document.addEventListener("visibilitychange",(function(e){Se(!document.hidden),document.hidden&&n.emit(K,e)})),!e.events)return null;var r=[],i=Object.keys(e.events);for(var o of i)try{void 0!==Fe[o]&&(r.push(o),Fe[o](t))}catch(e){return Be.error("tracking: unable to process dom tracking event data",e),null}return Be.log("matched dom events found in config: ".concat(JSON.stringify(r))),r},sendTrackingData:Ne,listeners:Fe},Me=M("tracking");window.zamaf_setup_tracking=function(e){var t=window.performance.now();window.zamaf_tr_tl=De,De.initialize(e),Ue.setupDOMTracking(e,t);var n={};Object.entries(e.events).forEach((function(t){var r=i(t,2),o=r[0];r[1];var a=null,s=o.split(":");"zaf"==s[0]?a="zamaf":"pbjs"==s[0]&&(a="pbjs"),a&&(n[a]||(n[a]=[]),n[a].push({eventName:o,percentage:e.percentage}))})),Object.entries(n).forEach((function(t){var n=i(t,2),r=n[0],o=n[1];!function(e,t,n){var r="cmd",i="on",o=function(e){return e};"pbjs"==t&&(r="que",i="onEvent",o=function(e){return e.substr("pbjs:".length)});var a=window[t]||{};a[r]=a[r]||[],a[r].push((function(){a=window[t],n.forEach((function(t){var n=t.eventName,r=t.percentage,s=o(n);a[i](s,(function(t,i){r&&r<100&&101*Math.random()>r?Me.log("cannot track event ".concat(n,": disabled by randomization")):0!==r?De.track(n,e,i):Me.log("cannot track event ".concat(n,": percentage is set to 0"))}))}))}))}(e,r,o)}))}}(),window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.zamaf_setup_tracking({archived:!1,label:"e7cf4d89-5636-4e1f-803a-8c1f924eeca2",events:{"zaf:page:load":{metrics:["userId","sessionId","pageId","elapsedTime"]},"zaf:unit:renderinfo":{metrics:["userId","sessionId","pageId","elapsedTime"]},"zaf:unit:loadinfo":{metrics:["userId","sessionId","pageId","elapsedTime"]},"zaf:unit:pbjsrender":{metrics:["userId","sessionId","pageId","elapsedTime"]},"dom:unloaded":{metrics:["userId","sessionId","pageId","elapsedTime","absoluteTime","visibilityTime","version","scrollDepth","viewableDepth","pageHeight","trackLength","scrollPercentage","viewablePercentage","finalScrollDepth","finalViewableDepth","finalPageHeight","finalTrackLength"]},"zaf:error":{metrics:["userId","sessionId","pageId","elapsedTime","error"]},"zaf:auctionEndMetrics":{metrics:["userId","sessionId","pageId","elementId","auctionId","auctionStart","auctionEnd","minBid","maxBid","meanBid","medianBid","bidFloor","biddersConfigured","biddersParticipated","biddersConfiguredCount","biddersReceivedCount","winningBidder","elapsedTime"]}},generatorVersion:"2_2_2",site:"wowhead",qualifier:"*|*|*",audit:{created:{user:{id:"5a29f217c6034f0001ad6949",type:"user"},date:"2023-03-28T18:51:57.698Z"}},_id:"6423374d768adb000836fdc8",version:"2.2.2",percentage:"100"}),function(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zamaf=window.zamaf||{},zamaf.skinRenderCallback=function(e){WH.WAS.displaySkin(e)},zamaf.runWowSkin=function(e){WH.WAS.displaySkin(e),zamaf.addImpressionTracker&&zamaf.addImpressionTracker(e)},window.zamaf.ccpa_referrer=window.location.protocol+"//"+window.location.host+"/home";var e=document.createElement("script");e.src="https://tagan.adlightning.com/zam/op.js",e.defer=!0,document.getElementsByTagName("head")[0].appendChild(e);var t=window.location.href,n="";if(t.indexOf("pwtv=")>0){var r=/pwtv=(.*?)(&|$)/g.exec(t);r.length>=2&&r[1].length>0&&(n="/"+r[1])}var i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src="//ads.pubmatic.com/AdServer/js/pwt/157733/2943"+n+"/pwt.js";var o,a=document.getElementsByTagName("script")[0];function s(e){!function(e){if(!window.cnx){window.cnx={},window.cnx.cmd=[];var t=e.createElement("iframe");t.src="javascript:false",t.display="none",t.onload=function(){var e=t.contentWindow.document,n=e.createElement("script");n.src="//cd.connatix.com/connatix.player.js?cid=e42b69b5-eab9-4c20-81a2-0a9187783587",n.setAttribute("async","1"),n.setAttribute("type","text/javascript"),e.body.appendChild(n)},e.head.appendChild(t)}}(document);var t=document.createElement("script");t.setAttribute("language","javascript"),t.setAttribute("type","text/javascript"),t.setAttribute("id","14ca455cb990453190570af98c521b87"),t.innerHTML='(new Image()).src = \'https://capi.connatix.com/tr/si?token=bba7c7f8-144d-4703-adec-750755a09475&cid=e42b69b5-eab9-4c20-81a2-0a9187783587\';  cnx.cmd.push(function() {    cnx({      playerId: "bba7c7f8-144d-4703-adec-750755a09475"    }).render("14ca455cb990453190570af98c521b87");  });',e.appendChild(t)}a.parentNode.insertBefore(i,a),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=document.getElementById("video-pos-inner");(t=t||document.getElementById("ac-container"))?(t.innerHTML="",s(t)):e<50&&setTimeout((function(){o(e++)}),100)},o(),function(e,t,n,r,i,o,a){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(o=n.createElement(r)).async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=n.getElementsByTagName(r)[0]).parentNode.insertBefore(o,a))}("apstag",window,document,"script");var c=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(zamaf.user.isDesktop)e=document.getElementsByClassName("footer-utility-site-links")[0];else{var n=document.getElementsByClassName("footer-list");e=n.length&&n[n.length-1]}if(e){var r=document.createElement("a"),i=document.createElement("li");r.href="javascript:ccpaShowDialog()",r.innerHTML="Do Not Sell My Personal Information",i.prepend(r),i.classList.add("footer-list-item"),e.append(i)}else t<50&&setTimeout((function(){c(t++)}),100)};window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zamaf.cmd.push((function(){zamaf&&zamaf.user&&zamaf.user.isCCPA&&window.zamaf_config&&window.zamaf_config.enableCCPA&&c()}));var u,d=document.createElement("style");d.type="text/css",d.innerHTML=".body--prelude #ad-skin {position: relative;z-index: 10000;top: 0; width:100%;} .body--prelude .header-wrapper {position:static;} .body--prelude .header-wrapper.zaf-position-fixed {position:fixed;top:0;}",document.getElementsByTagName("head")[0].appendChild(d),window.addEventListener("scroll",(function(){(u=u||document.getElementsByClassName("header-wrapper")[0])&&(window.scrollY>=690?u.classList.add("zaf-position-fixed"):window.scrollY<690&&u.classList.remove("zaf-position-fixed"))})),window.zamaf&&window.zamaf.user&&"mobile"===window.zamaf.user.deviceType&&window.zamaf.cmd.push((function(){var e=window.zamaf.config.options.prebid.bidderGroups[0].indexOf("sharethrough");e>-1&&window.zamaf.config.options.prebid.bidderGroups[0].splice(e,1)})),window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zamaf.cmd.push((function(){var e=WH.getPageData("pageHash");e&&pbjs.que.push((function(){pbjs.setConfig({userSync:{userIds:[{name:"publinkId",storage:{type:"cookie",name:"pbjs_publink",expires:30},params:{e:e,site_id:"121482",api_key:"6a0e0a9d-6cfe-4c10-a282-763fecf1e654"}}],syncDelay:3e3}}),pbjs.refreshUserIds({submoduleNames:["publinkId"]})}))}))}(),window.Element.prototype.matches||(window.Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),window.Element.prototype.closest||(window.Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),[window.Element.prototype,window.Document.prototype,window.DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.insertBefore(t,this.firstChild)}})})),window.Array.from||(window.Array.from=(c=Object.prototype.toString,u=function(e){return"function"==typeof e||"[object Function]"===c.call(e)},d=Math.pow(2,53)-1,l=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),d)},function(e){var t=this,n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!u(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var o,a=l(n.length),s=u(t)?Object(new t(a)):new Array(a),c=0;c<a;)o=n[c],s[c]=i?void 0===r?i(o,c):i.call(r,o,c):o,c+=1;return s.length=a,s})),window.activateCMP=function(){function e(t,n){if(null!==t&&"string"!=typeof t&&"object"==typeof t&&n){if("object"==typeof t)for(var r in t)n[r]=e(t[r],n[r])}else n=t;return n}window.zamaf=window.zamaf||{},zamaf.cmd=zamaf.cmd||[],zamaf.cmd.push((function(){window.zamaf.cmpConfigurations={config_version:1,advanced_settings:!0,publicPath:"https://cmp.zam.com/",timeout:0,default_to_optin:!0,require_optout_confirm:!0,require_initial_optout_confirm:!0,locale:{localeId:"enEN_01",version:1,texts:{label_intro_heading:"Ads help us run this site",label_intro:"We use cookies to personalize content and ads, provide social media features and to analyze our site traffic. We also share information about your use of the site with our social media, advertising and analytics partners. Please visit the cookies section of our <a target='_blank' href='https://corp.fanbyte.com/legal-privacy'>privacy policy</a> for more details.",label_button_yes:"Accept and Continue",label_button_advanced_settings:"Manage Your Cookies",label_cpc_deactivate_all:"No Thanks",label_cpc_initial_deactivate_all:"No Thanks"}}},window.zamaf.customCmpConfigurations&&(window.zamaf.cmpConfigurations=e(window.zamaf.customCmpConfigurations,window.zamaf.cmpConfigurations)),window.AS_OIL||(window.AS_OIL=window.AS_OIL||{}),window.AS_OIL.CONFIG=window.zamaf.cmpConfigurations}));var t=document.createElement("style");t.type="text/css",t.innerHTML=".as-oil {height: 100vh; width: 100vw; background-color: rgba(0,0,0,0.8);}",document.getElementsByTagName("head")[0].appendChild(t),function(e,t){if(!e.__cmp){e.__cmp=function(){function n(e){if(e){var n=!0,i=t.querySelector('script[type="application/configuration"]#oil-configuration');if(null!==i&&i.text)try{var o=JSON.parse(i.text);o&&o.hasOwnProperty("gdpr_applies_globally")&&(n=o.gdpr_applies_globally)}catch(e){}e({gdprAppliesGlobally:n,cmpLoaded:r()},!0)}}function r(){return!(!e.AS_OIL||!e.AS_OIL.commandCollectionExecutor)}!function e(){if(!(t.getElementsByName("__cmpLocator").length>0))if(t.body){var n=t.createElement("iframe");n.style.display="none",n.name="__cmpLocator",t.body.appendChild(n)}else setTimeout(e,5)}();var i=[],o=function(t,o,a){if("ping"===t)n(a);else{var s={command:t,parameter:o,callback:a};i.push(s),r()&&e.AS_OIL.commandCollectionExecutor(s)}};return o.commandCollection=i,o.receiveMessage=function(t){var o=t&&t.data,a="string"==typeof o;if(o=a&&-1!==o.indexOf("__cmpCall")?JSON.parse(o).__cmpCall:o.__cmpCall)if("ping"===o.command)n((function(e,n){var r={__cmpReturn:{returnValue:e,success:n,callId:o.callId}};t.source.postMessage(a?JSON.stringify(r):r,t.origin)}));else{var s={callId:o.callId,command:o.command,parameter:o.parameter,event:t};i.push(s),r()&&e.AS_OIL.commandCollectionExecutor(s)}},function(t){var n=e.addEventListener||e.attachEvent;n("attachEvent"===n?"onmessage":"message",(function(e){t.receiveMessage(e)}),!1)}(o),o}();var n=t.createElement("script");n.async=!1,n.src="https://cmp.zam.com/cmp.bundle.js",t.getElementsByTagName("head")[0].appendChild(n)}}(window,document)},function(){var e=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function t(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&require("lie/polyfill");var n=Promise;function r(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function i(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function a(e){return"string"!=typeof e&&(e=String(e)),e}function s(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var c,u="local-forage-detect-blob-support",d={},l=Object.prototype.toString,f="readonly",p="readwrite";function m(e){return"boolean"==typeof c?n.resolve(c):function(e){return new n((function(n){var r=e.transaction(u,p),i=t([""]);r.objectStore(u).put(i,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return c=e}))}function g(e){var t=d[e.name],r={};r.promise=new n((function(e,t){r.resolve=e,r.reject=t})),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then((function(){return r.promise})):t.dbReady=r.promise}function h(e){var t=d[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function v(e,t){var n=d[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function b(t,r){return new n((function(n,i){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!r)return n(t.db);g(t),t.db.close()}var o=[t.name];r&&o.push(t.version);var a=e.open.apply(e,o);r&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(u)}catch(e){if("ConstraintError"!==e.name)throw e}}),a.onerror=function(e){e.preventDefault(),i(a.error)},a.onsuccess=function(){var e=a.result;e.onversionchange=function(e){e.target.close()},n(e),h(t)}}))}function y(e){return b(e,!1)}function w(e){return b(e,!0)}function I(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function _(e){var n=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data));return t([n],{type:e.type})}function C(e){return e&&e.__local_forage_encoded_blob}function S(e){var t=this,n=t._initReady().then((function(){var e=d[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return i(n,e,e),n}function x(e,t,r,i){void 0===i&&(i=1);try{var o=e.db.transaction(e.storeName,t);r(null,o)}catch(o){if(i>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return n.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),w(e)})).then((function(){return function(e){g(e);for(var t=d[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,y(e).then((function(t){return e.db=t,I(e)?w(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw v(e,t),t}))}(e).then((function(){x(e,t,r,i-1)}))})).catch(r);r(o)}}var E={_driver:"asyncStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var i in e)r[i]=e[i];var o=d[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},d[r.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=S);var a=[];function s(){return n.resolve()}for(var c=0;c<o.forages.length;c++){var u=o.forages[c];u!==t&&a.push(u._initReady().catch(s))}var l=o.forages.slice(0);return n.all(a).then((function(){return r.db=o.db,y(r)})).then((function(e){return r.db=e,I(r,t._defaultConfig.version)?w(r):e})).then((function(e){r.db=o.db=e,t._dbInfo=r;for(var n=0;n<l.length;n++){var i=l[n];i!==t&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}}))},_support:function(){try{if(!e||!e.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var i=this,o=new n((function(t,n){i.ready().then((function(){x(i._dbInfo,f,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;C(r)&&(r=_(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return r(o,t),o},getItem:function(e,t){var i=this;e=a(e);var o=new n((function(t,n){i.ready().then((function(){x(i._dbInfo,f,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),C(e)&&(e=_(e)),t(e)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return r(o,t),o},setItem:function(e,t,i){var o=this;e=a(e);var s=new n((function(r,i){var a;o.ready().then((function(){return a=o._dbInfo,"[object Blob]"===l.call(t)?m(a.db).then((function(e){return e?t:(r=t,new n((function(e,t){var n=new FileReader;n.onerror=t,n.onloadend=function(t){var n=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:r.type})},n.readAsBinaryString(r)})));var r})):t})).then((function(t){x(o._dbInfo,p,(function(n,a){if(n)return i(n);try{var s=a.objectStore(o._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),r(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return r(s,i),s},removeItem:function(e,t){var i=this;e=a(e);var o=new n((function(t,n){i.ready().then((function(){x(i._dbInfo,p,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){n(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return r(o,t),o},clear:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){x(t._dbInfo,p,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return r(i,e),i},length:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){x(t._dbInfo,f,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return r(i,e),i},key:function(e,t){var i=this,o=new n((function(t,n){e<0?t(null):i.ready().then((function(){x(i._dbInfo,f,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){n(c.error)}}catch(e){n(e)}}))})).catch(n)}));return r(o,t),o},keys:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){x(t._dbInfo,f,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return r(i,e),i},dropInstance:function(t,i){i=s.apply(this,arguments);var o=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||o.name,t.storeName=t.storeName||o.storeName);var a,c=this;if(t.name){var u=t.name===o.name&&c._dbInfo.db,l=u?n.resolve(c._dbInfo.db):y(t).then((function(e){var n=d[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e}));a=t.storeName?l.then((function(r){if(r.objectStoreNames.contains(t.storeName)){var i=r.version+1;g(t);var o=d[t.name],a=o.forages;r.close();for(var s=0;s<a.length;s++){var c=a[s];c._dbInfo.db=null,c._dbInfo.version=i}var u=new n((function(n,r){var o=e.open(t.name,i);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var e=o.result;e.close(),n(e)}}));return u.then((function(e){o.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,h(n._dbInfo)}})).catch((function(e){throw(v(t,e)||n.resolve()).catch((function(){})),e}))}})):l.then((function(r){g(t);var i=d[t.name],o=i.forages;r.close();for(var a=0;a<o.length;a++)o[a]._dbInfo.db=null;var s=new n((function(n,r){var i=e.deleteDatabase(t.name);i.onerror=function(){var e=i.result;e&&e.close(),r(i.error)},i.onblocked=function(){},i.onsuccess=function(){var e=i.result;e&&e.close(),n(e)}}));return s.then((function(e){i.db=e;for(var t=0;t<o.length;t++)h(o[t]._dbInfo)})).catch((function(e){throw(v(t,e)||n.resolve()).catch((function(){})),e}))}))}else a=n.reject("Invalid arguments");return r(a,i),a}},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=/^~~local_forage_type~([^~]+)~/,O="__lfsc__:",k=O.length,j="arbf",R="blob",z="si08",D="ui08",B="uic8",P="si16",N="si32",F="ur16",U="ui32",M="fl32",q="fl64",L=k+j.length,W=Object.prototype.toString;function H(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<s;t+=4)n=A.indexOf(e[t]),r=A.indexOf(e[t+1]),i=A.indexOf(e[t+2]),o=A.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|i>>2,d[c++]=(3&i)<<6|63&o;return u}function V(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=A[n[t]>>2],r+=A[(3&n[t])<<4|n[t+1]>>4],r+=A[(15&n[t+1])<<2|n[t+2]>>6],r+=A[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var G={serialize:function(e,t){var n="";if(e&&(n=W.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===W.call(e.buffer))){var r,i=O;e instanceof ArrayBuffer?(r=e,i+=j):(r=e.buffer,"[object Int8Array]"===n?i+=z:"[object Uint8Array]"===n?i+=D:"[object Uint8ClampedArray]"===n?i+=B:"[object Int16Array]"===n?i+=P:"[object Uint16Array]"===n?i+=F:"[object Int32Array]"===n?i+=N:"[object Uint32Array]"===n?i+=U:"[object Float32Array]"===n?i+=M:"[object Float64Array]"===n?i+=q:t(new Error("Failed to get type for BinaryArray"))),t(i+V(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+V(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,k)!==O)return JSON.parse(e);var n,r=e.substring(L),i=e.substring(k,L);if(i===R&&T.test(r)){var o=r.match(T);n=o[1],r=r.substring(o[0].length)}var a=H(r);switch(i){case j:return a;case R:return t([a],{type:n});case z:return new Int8Array(a);case D:return new Uint8Array(a);case B:return new Uint8ClampedArray(a);case P:return new Int16Array(a);case F:return new Uint16Array(a);case N:return new Int32Array(a);case U:return new Uint32Array(a);case M:return new Float32Array(a);case q:return new Float64Array(a);default:throw new Error("Unkown type: "+i)}},stringToBuffer:H,bufferToString:V};function J(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS ".concat(t.storeName," ")+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function $(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):J(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function K(e,t,i,o){var s=this;e=a(e);var c=new n((function(n,r){s.ready().then((function(){void 0===t&&(t=null);var a=t,c=s._dbInfo;c.serializer.serialize(t,(function(t,u){u?r(u):c.db.transaction((function(i){$(i,c,"INSERT OR REPLACE INTO ".concat(c.storeName," ")+"(key, value) VALUES (?, ?)",[e,t],(function(){n(a)}),(function(e,t){r(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(o>0)return void n(K.apply(s,[e,a,i,o-1]));r(t)}}))}))})).catch(r)}));return r(c,i),c}function X(e){return new n((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var Q={_driver:"webSQLStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var i in e)r[i]="string"!=typeof e[i]?e[i].toString():e[i];var o=new n((function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return n(e)}r.db.transaction((function(i){J(i,r,(function(){t._dbInfo=r,e()}),(function(e,t){n(t)}))}),n)}));return r.serializer=G,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var i=this,o=new n((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){$(i,r,"SELECT * FROM ".concat(r.storeName),[],(function(n,i){for(var o=i.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),u=c.value;if(u&&(u=r.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){n(t)}))}))})).catch(n)}));return r(o,t),o},getItem:function(e,t){var i=this;e=a(e);var o=new n((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){$(i,r,"SELECT * FROM ".concat(r.storeName," WHERE key = ? LIMIT 1"),[e],(function(e,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),t(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return r(o,t),o},setItem:function(e,t,n){return K.apply(this,[e,t,n,1])},removeItem:function(e,t){var i=this;e=a(e);var o=new n((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){$(i,r,"DELETE FROM ".concat(r.storeName," WHERE key = ?"),[e],(function(){t()}),(function(e,t){n(t)}))}))})).catch(n)}));return r(o,t),o},clear:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$(t,r,"DELETE FROM ".concat(r.storeName),[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return r(i,e),i},length:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$(t,r,"SELECT COUNT(key) as c FROM ".concat(r.storeName),[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return r(i,e),i},key:function(e,t){var i=this,o=new n((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){$(i,r,"SELECT key FROM ".concat(r.storeName," WHERE id = ? LIMIT 1"),[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return r(o,t),o},keys:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$(t,r,"SELECT key FROM ".concat(r.storeName),[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return r(i,e),i},dropInstance:function(e,t){t=s.apply(this,arguments);var i=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||i.name,e.storeName=e.storeName||i.storeName);var o,a=this;return r(o=e.name?new n((function(t){var n;n=e.name===i.name?a._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:n,storeNames:[e.storeName]}):t(X(n))})).then((function(e){return new n((function(t,r){e.db.transaction((function(i){function o(e){return new n((function(t,n){i.executeSql("DROP TABLE IF EXISTS ".concat(e),[],(function(){t()}),(function(e,t){n(t)}))}))}for(var a=[],s=0,c=e.storeNames.length;s<c;s++)a.push(o(e.storeNames[s]));n.all(a).then((function(){t()})).catch((function(e){r(e)}))}),(function(e){r(e)}))}))})):n.reject("Invalid arguments"),t),o}};function Y(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Z(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var ee={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=Y(e,this._defaultConfig),Z()?(this._dbInfo=t,t.serializer=G,n.resolve()):n.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,i=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(i),a++)))return u}}}));return r(i,t),i},getItem:function(e,t){var n=this;e=a(e);var i=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return r(i,t),i},setItem:function(e,t,i){var o=this;e=a(e);var s=o.ready().then((function(){void 0===t&&(t=null);var r=t;return new n((function(n,i){var a=o._dbInfo;a.serializer.serialize(t,(function(t,o){if(o)i(o);else try{localStorage.setItem(a.keyPrefix+e,t),n(r)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}}))}))}));return r(s,i),s},removeItem:function(e,t){var n=this;e=a(e);var i=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return r(i,t),i},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return r(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return r(t,e),t},key:function(e,t){var n=this,i=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return r(i,t),i},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return r(n,e),n},dropInstance:function(e,t){if(t=s.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var i=this.config();e.name=e.name||i.name,e.storeName=e.storeName||i.storeName}var o,a=this;return o=e.name?new n((function(t){e.storeName?t(Y(e,a._defaultConfig)):t("".concat(e.name,"/"))})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):n.reject("Invalid arguments"),r(o,t),o}},te=function(e,t){for(var n,r,i=e.length,o=0;o<i;){if((n=e[o])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},ne=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},re={},ie={},oe={INDEXEDDB:E,WEBSQL:Q,LOCALSTORAGE:ee},ae=[oe.INDEXEDDB._driver,oe.WEBSQL._driver,oe.LOCALSTORAGE._driver],se=["dropInstance"],ce=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(se),ue={description:"",driver:ae.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function de(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function le(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(ne(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}class fe{constructor(e){for(var t in oe)if(oe.hasOwnProperty(t)){var n=oe[t],r=n._driver;this[t]=r,re[r]||this.defineDriver(n)}this._defaultConfig=le({},ue),this._config=le({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}config(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config}defineDriver(e,t,o){var a=new n((function(t,i){try{var o=e._driver,a=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void i(a);for(var s=ce.concat("_initStorage"),c=0,u=s.length;c<u;c++){var d=s[c];if((!te(se,d)||e[d])&&"function"!=typeof e[d])return void i(a)}!function(){for(var t=function(e){return function(){var t=new Error("Method ".concat(e," is not implemented by the current driver")),i=n.reject(t);return r(i,arguments[arguments.length-1]),i}},i=0,o=se.length;i<o;i++){var a=se[i];e[a]||(e[a]=t(a))}}();var l=function(n){re[o]&&console.info("Redefining LocalForage driver: ".concat(o)),re[o]=e,ie[o]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,i):l(!!e._support):l(!0)}catch(e){i(e)}}));return i(a,t,o),a}driver(){return this._driver||null}getDriver(e,t,r){var o=re[e]?n.resolve(re[e]):n.reject(new Error("Driver not found."));return i(o,t,r),o}getSerializer(e){var t=n.resolve(G);return i(t,e),t}ready(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return i(n,e,e),n}setDriver(e,t,r){var o=this;ne(e)||(e=[e]);var a=this._getSupportedDrivers(e);function s(){o._config.driver=o.driver()}function c(e){return o._extend(e),s(),o._ready=o._initStorage(o._config),o._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return n.resolve()})):n.resolve();return this._driverSet=u.then((function(){var e=a[0];return o._dbInfo=null,o._ready=null,o.getDriver(e).then((function(e){o._driver=e._driver,s(),o._wrapLibraryMethodsWithReady(),o._initDriver=function(e){return function(){var t=0;return function r(){for(;t<e.length;){var i=e[t];return t++,o._dbInfo=null,o._ready=null,o.getDriver(i).then(c).catch(r)}s();var a=new Error("No available storage method found.");return o._driverSet=n.reject(a),o._driverSet}()}}(a)}))})).catch((function(){s();var e=new Error("No available storage method found.");return o._driverSet=n.reject(e),o._driverSet})),i(this._driverSet,t,r),this._driverSet}supports(e){return!!ie[e]}_extend(e){le(this,e)}_getSupportedDrivers(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t}_wrapLibraryMethodsWithReady(){for(var e=0,t=ce.length;e<t;e++)de(this,ce[e])}createInstance(e){return new fe(e)}}function pe(e){var t=e+"=",n=decodeURIComponent(document.cookie).split(";").map((function(e){return e.trim()})).find((function(e){return 0==e.indexOf(t)}));return n?n.substring(t.length):""}new fe;var me="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function ge(){throw new Error("setTimeout has not been defined")}function he(){throw new Error("clearTimeout has not been defined")}var ve=ge,be=he;function ye(e){if(ve===setTimeout)return setTimeout(e,0);if((ve===ge||!ve)&&setTimeout)return ve=setTimeout,setTimeout(e,0);try{return ve(e,0)}catch(t){try{return ve.call(null,e,0)}catch(t){return ve.call(this,e,0)}}}"function"==typeof me.setTimeout&&(ve=setTimeout),"function"==typeof me.clearTimeout&&(be=clearTimeout);var we,Ie=[],_e=!1,Ce=-1;function Se(){_e&&we&&(_e=!1,we.length?Ie=we.concat(Ie):Ce=-1,Ie.length&&xe())}function xe(){if(!_e){var e=ye(Se);_e=!0;for(var t=Ie.length;t;){for(we=Ie,Ie=[];++Ce<t;)we&&we[Ce].run();Ce=-1,t=Ie.length}we=null,_e=!1,function(e){if(be===clearTimeout)return clearTimeout(e);if((be===he||!be)&&clearTimeout)return be=clearTimeout,clearTimeout(e);try{be(e)}catch(t){try{return be.call(null,e)}catch(t){return be.call(this,e)}}}(e)}}function Ee(e,t){this.fun=e,this.array=t}function Ae(){}Ee.prototype.run=function(){this.fun.apply(null,this.array)};var Te,Oe,ke=Ae,je=Ae,Re=Ae,ze=Ae,De=Ae,Be=Ae,Pe=Ae,Ne=me.performance||{},Fe=Ne.now||Ne.mozNow||Ne.msNow||Ne.oNow||Ne.webkitNow||function(){return(new Date).getTime()},Ue=new Date,Me={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Ie.push(new Ee(e,t)),1!==Ie.length||_e||ye(xe)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ke,addListener:je,once:Re,off:ze,removeListener:De,removeAllListeners:Be,emit:Pe,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Fe.call(Ne),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Ue)/1e3}},qe={exports:{}};function Le(){if(Oe)return Te;Oe=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return Te=function(s,c){c=c||{};var u=typeof s;if("string"===u&&s.length>0)return function(a){if(!((a=String(a)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(s){var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(s);if("number"===u&&isFinite(s))return c.long?function(i){var o=Math.abs(i);return o>=r?a(i,o,r,"day"):o>=n?a(i,o,n,"hour"):o>=t?a(i,o,t,"minute"):o>=e?a(i,o,e,"second"):i+" ms"}(s):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}var We,He,Ve=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n);var d=o.log||t.log;d.apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(o(t.names.map(r)),o(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Le(),t.destroy=function(){},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};function Ge(){var e=function(){var e={},t=document.cookie.split(";").map((function(e){return e.trim().split("=").map(decodeURIComponent)}));for(var n in t){var r=t[n];try{e[r[0]]=JSON.parse(r[1])}catch(t){e[r[0]]=r[1]}}return e}(),t=e.usconsent?"selected":"",n="1YNY"==e.usconsent,r=n?"zaf-btn-optin":"zaf-btn-optout",i=n?"zaf-btn-optout":"zaf-btn-optin",o=document.getElementById(r),a=document.getElementById(i);o.className=t,a.className=""}function Je(){var e=window.zamaf&&window.zamaf.ccpa_referrer?window.encodeURI(window.zamaf.ccpa_referrer):window.encodeURI(window.location.protocol+"//"+window.location.host+"/"),t=document.createElement("div");t.innerHTML=function(e){var t=e.referrer;return'\n<div id="ccpaModel" class="ccpa-modal">\n  <div class="ccpa-modal-content">\n    <span class="ccpa-close">&times;</span>\n    <p>Are you sure you would like to opt out?</p>\n    <p class="ccpa-pp">\n      <a target="_blank" rel="noopener noreferrer" href="http://corp.fanbyte.com/legal/privacy?zaf_referrer='.concat(t,'">\n        Privacy Policy\n      </a>\n    </p>\n    <p class="ccpa-buttons">\n      <button id="zaf-btn-optin" onclick="javascript:ccpaConsent(true)" >Opt in</button>\n      <button id="zaf-btn-optout" onclick="javascript:ccpaConsent(false)" >Opt out</button>\n    </p>\n  </div>\n\n</div>\n')}({referrer:e}),document.body.appendChild(t);var n=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}("zaf_ccpa"),r="string"==typeof t.style.grid?"grid":"block",i=document.createElement("style");i.innerHTML="\n.ccpa-modal {\n  display: ".concat(n?r:"none",";\n  position: fixed;\n  z-index: 999999;\n  padding-top: 100px;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgb(0,0,0);\n  background-color: rgba(0,0,0,0.4);\n  font-family: arial;\n}\n\n.ccpa-modal p {\n  padding: 20px;\n}\n\n.ccpa-modal-content {\n  background-color: #fefefe;\n  margin: auto;\n  padding: 20px;\n  border: 1px solid #888;\n  max-width: 80%;\n  width: 600px;\n}\n\n.ccpa-close {\n  color: #aaaaaa;\n  float: right;\n  font-size: 28px;\n  font-weight: bold;\n}\n\n.ccpa-close:hover,\n.ccpa-close:focus {\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n}\n\n.ccpa-modal p.ccpa-buttons {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  padding: 10px;\n}\n\n.ccpa-buttons button {\n  margin: 10px;\n  font-family: arial;\n  padding: 10px;\n  background-color: #ccc;\n  color: #ea4c41;\n}\n\n.ccpa-buttons button.selected {\n  background-color: #ea4c41;\n  color: #fff\n}\n\n.ccpa-modal p.ccpa-pp {\n  padding-bottom: 0;\n  padding-top: 0;\n  text-align: right;\n  font-size: 16px;\n  text-decoration: underline;\n}\n\n"),document.head.appendChild(i),Ge();var o=document.getElementById("ccpaModel"),a=document.getElementsByClassName("ccpa-close")[0];window.ccpaShowDialog=function(){o.style.display=r,Ge()},a.onclick=function(){o.style.display="none"},window.onclick=function(e){e.target==o&&(o.style.display="none")},window.ccpaModal=o}We=qe,(He=qe.exports).formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+We.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),e.splice(r,0,t)}},He.save=function(e){try{e?He.storage.setItem("debug",e):He.storage.removeItem("debug")}catch(e){}},He.load=function(){var e;try{e=He.storage.getItem("debug")}catch(e){}return!e&&void 0!==Me&&"env"in Me&&(e=Me.env.DEBUG),e},He.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},He.storage=function(){try{return localStorage}catch(e){}}(),He.destroy=function(){},He.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],He.log=console.debug||console.log||function(){},We.exports=Ve(He),We.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},window.ccpaConsent=function(e){document.cookie=e?"usconsent=1YNY":"usconsent=1YYY",window.ccpaModal&&(window.ccpaModal.style.display="none"),Ge()},window.ccpaShowDialog=function(){window.ccpaConsent(!1)},window.activateCCPA=function(){window.zamaf=window.zamaf||{},zamaf.cmd=zamaf.cmd||[],zamaf.cmd.push((function(){Je()})),function(e,t){e.__uspapi||(e.__uspapi=function(){(e.attachEvent||e.addEventListener)("message",(function(t){e.__uspapi.receiveMessage(t)}),!1),function n(){if(!e.frames.__uspapiLocator)if(t.body){var r=t.createElement("iframe");r.style.display="none",r.name="__uspapiLocator",t.body.appendChild(r)}else setTimeout(n,5)}();var n=function(e,t,n){"getUSPData"===e&&n({uspString:pe("usconsent")||"1YNY"},!0)};return n.receiveMessage=function(t){var n=t&&t.data&&t.data.__uspapiCall;n&&t.source&&e.__uspapi(n.command,n.parameter,(function(e,r){var i={__uspapiReturn:{returnValue:e,success:r,callId:n.callId}};t.source.postMessage(JSON.stringify(i),"*")}))},n}())}(window,document)}}(),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zamaf.user=window.zamaf.user||{},window.zamaf_config={archived:!1,allowedDomains:["*.wowhead.com","wowhead.com"],enableCCPA:!0,enableCMP:!0,site:"wowhead",thirdPartyCmp:!0,generatorVersion:"2_2_5",qualifier:"us|*|*",mutationMap:{"ca|*|*":"6526e4e3f04fbe00083fd6fa","gb|*|*":"6526e4e3f04fbe00083fd6fb","us|*|*":"6526e4e3f04fbe00083fd6fc"},audit:{created:{user:{id:"5a29f217c6034f0001ad6949",type:"user",email:"ktabert@zam.com",username:"ktabert"},date:"2023-10-11T18:41:17.324Z"}},complete:!1,label:"6526ec4d4ceb160008219474-us-*-*",_id:"6526ec4d4ceb16000821947a",version:"2.2.5",options:{adLightning:!0,enableServicesFirst:!0,instartSuffix:!0,enableMaxDimensions:!0,directAdvertisers:[24692954,4449142733,4450726284,4471825129],refreshRate:30,refreshLimit:90,noDisplay:!1,targeting:{channel:[{name:"WH-Test1",type:"url",value:".*WH-Test1.*"},{name:"WH-Test2",type:"url",value:".*WH-Test2.*"},{name:"WH-Test3",type:"url",value:".*WH-Test3.*"},{name:"WH-Test4",type:"url",value:".*WH-Test4.*"},{name:"WH-Test5",type:"url",value:".*WH-Test5.*"},{name:"WH-Test6",type:"url",value:".*WH-Test6.*"},{name:"WH-Test7",type:"url",value:".*WH-Test7.*"},{name:"WH-Test8",type:"url",value:".*WH-Test8.*"},{name:"WH-Test9",type:"url",value:".*WH-Test9.*"},{name:"WH-Skin",type:"url",value:".*WH-Skin.*"},{name:"WH-Marquee",type:"url",value:".*WH-Marquee.*"},{name:"WH-MarqueePushDown",type:"url",value:".*WH-MarqueePushDown.*"},{name:"WH-BetaTalent",type:"url",value:"https://www.wowhead.com/beta/talent-calc/demon-hunter/vengeance"}]},videoElement:{elementId:"",content:""},prebid:{modules:["sovrnBidAdapter","rubiconBidAdapter","pubmaticBidAdapter","ixBidAdapter","conversantBidAdapter","appnexusBidAdapter","consumableBidAdapter","33acrossBidAdapter","rhythmoneBidAdapter","riseBidAdapter","gumgumBidAdapter","sharethroughBidAdapter","smartadserverBidAdapter","prebidServerBidAdapter","s2sTesting","richaudienceBidAdapter","vidazooBidAdapter","userId","sharedIdSystem","adfBidAdapter","publinkIdSystem"],bidders:{sovrn:{server:!1,serverPercentage:20},rubicon:{server:!1},pubmatic:{server:!1},ix:{server:!1},conversant:{server:!1},appnexus:{server:!1,serverPercentage:20},consumable:{server:!1},"33across":{server:!1},rhythmone:{server:!1},rise:{server:!1},richaudience:{server:!1},gumgum:{server:!1},vidazoo:{server:!1},sharethrough:{server:!1},adf:{server:!1},smart:{server:!0,serverPercentage:100}},prebidTimeout:1e4,failsafeTimeout:3e3,useBidCache:!0,enablePublink:!0,bidderGroups:[["rubicon","ix","rhythmone","conversant","consumable","33across","appnexus","pubmatic","rise","richaudience","vidazoo","adf","sovrn","gumgum","sharethrough","smart"]],server:{accountId:"1",host:"https://prebid.services.zam.com"},floor:.1,sellers:{contact_email:"advertising@fanbyte.com",version:"1.0",sellers:[{seller_id:"1",name:"Fanbyte",domain:"fanbyte.com",seller_type:"PUBLISHER"}]}},uam:{pubID:"1953b87d-605c-4eaa-85c9-a121595b5e11"},refreshViewableAds:!0,isSpa:!1,targetingPrefix:"hb_",disableDefineOnInit:!1,wrapAdUnits:!1},slots:[{code:"/76136274/Wowhead_Horizontal_ATF",sizes:[[970,250],[728,90],[970,90]],elementId:"ad-horizontal",blockThrough:{placementId:"5c06d65b52-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"block-pair",selectorType:"class"}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588161,1121463,1121464",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787247@728x90,1787249@970x250,1787248@970x90",kadfloor:"0.1"},ix:{siteId:"319354,319361,319363",size:"728x90,970x250,970x90",bidFloor:.1},districtmDMX:{dmxid:250968,memberid:101634,floor:"0.25"},conversant:{site_id:"121482",secure:1,bidfloor:.1},appnexus:{placementId:"14190995",reserve:.1},aol:{placement:"4955402,4955405,5034144",network:"9525.1",bidFloor:"0.25"},districtm:{placementId:14028702,reserve:.05},consumable:{networkId:"9969",siteId:"2000695",unitId:"5876",unitName:"cnsmbl-audio-728x90-slider",zoneIds:"2001113"},brightcom:{publisherId:2141214,bidFloor:.01},"33across":{siteId:"adAk3qbJmr6OkNaKlId8sQ",productId:"siab"},gumgum:{inSlot:60987,bidfloor:.01},rhythmone:{placementId:"81899",floor:.1},onemobile:{dcn:"8a9698ea0173737e1d87815bd77f01a5",pos:"wowhead_destkop_970x250,wowhead_destkop_728x90"},emx_digital:{tagid:"137006"},sharethrough:{pkey:"rLOqq8eNpsRr0AJWkx9k0v9E"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103955},richaudience:{},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:["mobile"],mediaTypes:["banner"],refreshOnlyIfViewable:!1},{code:"/76136274/Wowhead_Horizontal_BTF",sizes:[[728,90]],elementId:"ad-horizontalBTF",blockThrough:{placementId:"5c06d68164-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"block-pair",selectorType:"class"}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588161",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787250@728x90,1787252@970x250,1787251@970x90",kadfloor:"0.1"},ix:{siteId:"319355,319362",size:"728x90,970x250",bidFloor:.1},districtmDMX:{dmxid:250968,memberid:101634,floor:"0.25"},conversant:{site_id:"121482",secure:1,bidfloor:.1},appnexus:{placementId:"14190997",reserve:.1},aol:{placement:"4955402,4955405,5034144",network:"9525.1",bidFloor:"0.25"},districtm:{placementId:14028702,reserve:.05},consumable:{networkId:"9969",siteId:"2000695",unitId:"5876",unitName:"cnsmbl-audio-728x90-slider",zoneIds:"2001113"},brightcom:{publisherId:2141214,bidFloor:.01},"33across":{productId:"siab",siteId:"agG6kKbJmr6OkNaKlId8sQ"},gumgum:{inSlot:60988,bidfloor:.01},rhythmone:{placementId:"81899",floor:.1},onemobile:{dcn:"8a9698ea0173737e1d87815bd77f01a5",pos:"wowhead_destkop_728x90,wowhead_desktop_970x90,wowhead_destkop_970x250"},emx_digital:{tagid:"137006"},sharethrough:{pkey:"rLOqq8eNpsRr0AJWkx9k0v9E"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103956},richaudience:{pid:"glDrcMqy1U",supplyType:"site"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:["mobile","tablet"],mediaTypes:["banner"]},{code:"/76136274/Wowhead_Mobile_300x250",sizes:[[300,250]],elementId:"ad-mobileMedrec",blockThrough:{placementId:"5c06d6d358-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:2,placement:"prepend"},bidderParams:{sovrn:{tagid:"588159",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787256@300x250",kadfloor:"0.1"},ix:{siteId:"319356",size:"300x250",bidFloor:.1},districtmDMX:{dmxid:250968,memberid:101634,floor:"0.25"},conversant:{site_id:"121482",secure:1,bidfloor:.1},appnexus:{placementId:"14191010",reserve:.1},aol:{placement:"",network:"9525.1",bidFloor:"0.25"},districtm:{placementId:14028702,reserve:.05},consumable:{networkId:"9969",siteId:"2000695",unitId:"5875",unitName:"cnsmbl-audio-300x250-slider",zoneIds:"2001112"},brightcom:{publisherId:2141214,bidFloor:.01},"33across":{siteId:"arAQUAbJmr6OkNaKlId8sQ",productId:"siab"},gumgum:{inSlot:60989,bidfloor:.01},rhythmone:{placementId:"81899",floor:.1},onemobile:{dcn:"8a9698ea0173737e1d87815bd9f001a7",pos:"wowhead_mobile_300x250"},emx_digital:{tagid:"137006"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103954},richaudience:{pid:"Q5ebAp0ofC",supplyType:"site"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:["desktop"],mediaTypes:["banner"]},{code:"/76136274/Wowhead_Mobile_320_50",sizes:[[320,50]],elementId:"ad-mobileFooter",blockThrough:{placementId:"5c06d6d358-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588162",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787257@320x50",kadfloor:"0.1"},ix:{siteId:"319357",size:"320x50",bidFloor:.1},districtmDMX:{dmxid:250968,memberid:101634,floor:"0.25"},conversant:{site_id:"121482",secure:1,bidfloor:.1},appnexus:{placementId:"14191006",reserve:.1},aol:{placement:"5026252",network:"9525.1",bidFloor:"0.25"},districtm:{placementId:14028702,reserve:.05},consumable:{networkId:"9969",siteId:"2000695",unitId:"5877",unitName:"cnsmbl-audio-320x50-slider",zoneIds:"2001114"},brightcom:{publisherId:2141214,bidFloor:.01},"33across":{siteId:"avj6CKbJmr6OkNaKlId8sQ",productId:"siab"},gumgum:{inSlot:60991,bidfloor:.01},rhythmone:{placementId:"81899",floor:.1},onemobile:{pos:"wowhead_mobile_320x50",dcn:"8a9698ea0173737e1d87815bd9f001a7"},emx_digital:{tagid:"137006"},sharethrough:{pkey:"favVEpHuTFUr1YStDCO8zTtu"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103955},richaudience:{pid:"CygnMo79qa",supplyType:"site"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:["desktop"],mediaTypes:["banner"],refreshOnlyIfViewable:!1},{code:"/76136274/Wowhead_Vertical_ATF",sizes:[[300,250],[160,600],[300,600]],elementId:"ad-vertical",blockThrough:{placementId:"5c06d6cc28-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"sidebar-zamaf-bt-ph",selectorType:"id"}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588159,588160,677008",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787253@160x600,1787254@300x250,1787255@300x600",kadfloor:"0.1"},ix:{siteId:"319358,319359,319360",size:"300x250,160x600,300x600",bidFloor:.1},districtmDMX:{dmxid:250968,memberid:101634,floor:"0.25"},conversant:{site_id:"121482",secure:1,bidfloor:.1},appnexus:{placementId:"14191000",reserve:.1},aol:{placement:"4955401,4955403,4955404",network:"9525.1",bidFloor:"0.25"},districtm:{placementId:14028702,reserve:.05},consumable:{networkId:"9969",siteId:"2000695",unitId:"5878,5879",unitName:"cnsmbl-audio-300x600,cnsmbl-audio-160x600-slider",zoneIds:"2001115,2001116"},brightcom:{publisherId:2141214,bidFloor:.01},"33across":{siteId:"ayUqSWbJmr6OkNaKlId8sQ",productId:"siab"},gumgum:{inSlot:60989,bidfloor:.01},rhythmone:{placementId:"81899",floor:.1},onemobile:{dcn:"8a9698ea0173737e1d87815bd77f01a5",pos:"wowhead_destkop_300x250,wowhead_destkop_160x600,wowhead_destkop_300x600"},emx_digital:{tagid:"137006"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103953},richaudience:{pid:"m2z3exgYsO",supplyType:"site"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:["mobile","tablet"],mediaTypes:["banner"]},{code:"/76136274/WH_1x1",insert:!0,sizes:[[1,1]],type:"prelude-skin",elementId:"ad-skin",blockThrough:{placementId:null,className:""},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"0",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"",adSlot:"",kadfloor:"0.1"},ix:{siteId:"",size:"",bidFloor:.1},districtmDMX:{dmxid:0,memberid:0,floor:"0.25"},conversant:{site_id:"",secure:1,bidfloor:.1},appnexus:{placementId:"",reserve:.1},aol:{placement:"",network:"",bidFloor:"0.25"},districtm:{placementId:0,reserve:.05},consumable:{networkId:"",siteId:"",unitId:"",unitName:"",zoneIds:""},brightcom:{publisherId:2141214,bidFloor:.01},"33across":{siteId:"0",productId:"0"},gumgum:{inSlot:0,inScreen:"0",bidfloor:.01},rhythmone:{placementId:"81899",floor:.1},onemobile:{},emx_digital:{tagid:""},sharethrough:{},smart:{},richaudience:{},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:[],refreshRate:0,mediaTypes:["banner"]},{code:"/76136274/Wowhead_Responsive_Block",sizes:[[300,250],[728,90],[970,250]],bidderParams:{conversant:{site_id:"121482",secure:1,bidfloor:.1},gumgum:{inScreen:"60987",bidfloor:.01},consumable:{networkId:"9969",siteId:"2000695",unitId:"5876",unitName:"cnsmbl-audio-728x90-slider",zoneIds:"2001113"},"33across":{siteId:"adAk3qbJmr6OkNaKlId8sQ",productId:"siab"},sovrn:{tagid:"588161,1121464,1121463",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560},ix:{siteId:"319354,319361,319363",size:"728x90,970x250,970x90",bidFloor:.1},pubmatic:{publisherId:"157733",adSlot:"1787247@728x90,1787249@970x250,1787248@970x90",kadfloor:"0.1"},appnexus:{placementId:"14190995",reserve:.1},rhythmone:{placementId:"81899",floor:.1},onemobile:{dcn:"8a9698ea0173737e1d87815bd77f01a5",pos:"wowhead_destkop_970x250,wowhead_destkop_728x90"},emx_digital:{tagid:"137006"},sharethrough:{pkey:"rLOqq8eNpsRr0AJWkx9k0v9E"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103951},richaudience:{pid:"AVGrIzPSIq",supplyType:"site"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},blockThrough:{placementId:"",className:""},selectors:{depth:1,placement:"",selectorList:[{selectorName:"",selectorType:""}]},excludes:[],mediaTypes:["banner"],elementId:"ad-responsive"},{code:"/76136274/Wowhead_Vertical_2",sizes:[[300,250],[160,600],[300,600]],elementId:"ad-verticalBTF",blockThrough:{placementId:"5c06d6cc28-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"sidebar-zamaf-bt-ph",selectorType:"id"}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588159,588160,677008",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787253@160x600,1787254@300x250,1787255@300x600",kadfloor:"0.1"},ix:{siteId:"319358,319359,319360",size:"300x250,160x600,300x600",bidFloor:.1},districtmDMX:{dmxid:250968,memberid:101634,floor:"0.25"},conversant:{site_id:"121482",secure:1,bidfloor:.1},appnexus:{placementId:"14191000",reserve:.1},aol:{placement:"4955401,4955403,4955404",network:"9525.1",bidFloor:"0.25"},districtm:{placementId:14028702,reserve:.05},consumable:{networkId:"9969",siteId:"2000695",unitId:"5878,5879",unitName:"cnsmbl-audio-300x600,cnsmbl-audio-160x600-slider",zoneIds:"2001115,2001116"},brightcom:{publisherId:2141214,bidFloor:.01},"33across":{siteId:"ayUqSWbJmr6OkNaKlId8sQ",productId:"siab"},gumgum:{inSlot:60989,bidfloor:.01},rhythmone:{placementId:"81899",floor:.1},onemobile:{dcn:"8a9698ea0173737e1d87815bd77f01a5",pos:"wowhead_destkop_300x250,wowhead_destkop_160x600,wowhead_destkop_300x600"},emx_digital:{tagid:"137006"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103953},richaudience:{},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:["mobile","tablet"],mediaTypes:["banner"]}],dynamicSlots:[{code:"/76136274/Wowhead_InContent_728x90",sizes:[[728,90]],type:"article",frequency:2,elementClass:"",blockThrough:{placementId:"5c06d65b52-170",className:"bt-uid-tg"},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"588161",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787247@728x90",kadfloor:"0.1"},ix:{siteId:"319354",size:"728x90",bidFloor:.1},districtmDMX:{dmxid:14028702,memberid:101634,floor:"0.25"},conversant:{site_id:"121482",secure:1,bidfloor:.1},appnexus:{placementId:"14191000",reserve:.1},aol:{placement:"4955402",network:"9525.1",bidFloor:"0.25"},districtm:{placementId:"14028702",reserve:.05},consumable:{networkId:"9969",siteId:"2000695",unitId:"5876",unitName:"cnsmbl-audio-728x90-slider",zoneIds:"2001113"},brightcom:{},"33across":{},gumgum:{inSlot:60992},rhythmone:{floor:.1},onemobile:{},emx_digital:{tagid:"137006"},sharethrough:{pkey:"rLOqq8eNpsRr0AJWkx9k0v9E"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103956},richaudience:{pid:"BgxSv73egQ",supplyType:"site"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:["mobile"],insertIndex:2,mediaTypes:["banner"],dataAttribute:"article",carveSize:"fullsize"},{code:"/76136274/Wowhead_InContent_728x90",sizes:[[728,90]],type:"list",elementClass:"",insertIndex:3,offset:0,subItemElementClass:"news-list-card",blockThrough:{placementId:"5c06d65b52-170",className:"bt-uid-tg"},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"588161",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787247@728x90",kadfloor:"0.1"},ix:{siteId:"319354",size:"728x90",bidFloor:.1},districtmDMX:{dmxid:14028702,memberid:101634,floor:"0.25"},conversant:{site_id:"121482",secure:1,bidfloor:.1},appnexus:{placementId:"14191000",reserve:.1},aol:{placement:"4955402",network:"9525.1",bidFloor:"0.25"},districtm:{placementId:"14028702",reserve:.05},consumable:{networkId:"9969",siteId:"2000695",unitId:"5876",unitName:"cnsmbl-audio-728x90-slider",zoneIds:"2001113"},brightcom:{},"33across":{},gumgum:{inSlot:60992},rhythmone:{floor:.1},onemobile:{},emx_digital:{tagid:"137006"},sharethrough:{pkey:"rLOqq8eNpsRr0AJWkx9k0v9E"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103956},richaudience:{pid:"BgxSv73egQ",supplyType:"site"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:["mobile"],mediaTypes:["banner"],dataAttribute:"list",carveSize:"fullsize"},{code:"/76136274/Wowhead_InContent_728x90",sizes:[[728,90]],type:"unit",elementClass:"",blockThrough:{placementId:"5c06d68164-170",className:"bt-uid-tg"},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"588161",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787247@728x90",kadfloor:"0.1"},ix:{siteId:"319354",size:"728x90",bidFloor:.1},districtmDMX:{dmxid:14028702,memberid:101634,floor:"0.25"},conversant:{site_id:"121482",secure:1,bidfloor:.1},appnexus:{placementId:"14191000",reserve:.1},aol:{placement:"4955402",network:"9525.1",bidFloor:"0.25"},districtm:{placementId:"14028702",reserve:.05},consumable:{networkId:"9969",siteId:"2000695",unitId:"5876",unitName:"cnsmbl-audio-728x90-slider",zoneIds:"2001113"},brightcom:{},"33across":{},gumgum:{inSlot:60992},rhythmone:{floor:.1},onemobile:{},emx_digital:{tagid:"137006"},sharethrough:{pkey:"rLOqq8eNpsRr0AJWkx9k0v9E"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103956},richaudience:{pid:"BgxSv73egQ",supplyType:"site"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:["mobile","tablet"],insertIndex:2,mediaTypes:["banner"],dataAttribute:"unit",carveSize:"fullsize"},{code:"/76136274/Wowhead_InContent_Mobile",sizes:[[300,250],[320,50]],type:"unit",elementClass:"",blockThrough:{placementId:"5c06d6cc28-170",className:"bt-uid-tg"},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"588162,588159",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787257@320x50,1787256@300x250",kadfloor:"0.1"},ix:{siteId:"319357,319356",size:"320x50,300x250",bidFloor:.1},districtmDMX:{dmxid:14028702,memberid:101634,floor:"0.25"},conversant:{site_id:"121482",secure:1,bidfloor:.1},appnexus:{placementId:"14191006,14191010",reserve:.1},aol:{placement:"5026252",network:"9525.1",bidFloor:"0.25"},districtm:{placementId:"14028702",reserve:.05},consumable:{networkId:"9969",siteId:"2000695",unitId:"5877,5875",unitName:"cnsmbl-audio-320x50-slider,cnsmbl-audio-300x250-slider",zoneIds:"2001114,2001112"},brightcom:{},"33across":{},gumgum:{inSlot:60993},rhythmone:{floor:.1},onemobile:{},emx_digital:{tagid:"137006"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103957},richaudience:{pid:"be43NfpNBc",supplyType:"site"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:["desktop"],insertIndex:2,mediaTypes:["banner"],dataAttribute:"unit",carveSize:"fullsize"},{code:"/76136274/Wowhead_InContent_Mobile",type:"article",sizes:[[300,250],[320,50]],frequency:2,elementClass:"",blockThrough:{placementId:"5c06d6d358-170",className:"bt-uid-tg"},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"588162,588159",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787257@320x50,1787256@300x250",kadfloor:"0.1"},ix:{siteId:"319357,319356",size:"320x50,300x250",bidFloor:.1},districtmDMX:{dmxid:14028702,memberid:101634,floor:"0.25"},conversant:{site_id:"121482",secure:1,bidfloor:.1},appnexus:{placementId:"14191006,14191010",reserve:.1},aol:{placement:"5026252",network:"9525.1",bidFloor:"0.25"},districtm:{placementId:"14028702",reserve:.05},consumable:{networkId:"9969",siteId:"2000695",unitId:"5877,5875",unitName:"cnsmbl-audio-320x50-slider,cnsmbl-audio-300x250-slider",zoneIds:"2001114,2001112"},brightcom:{},"33across":{},gumgum:{inSlot:60993},rhythmone:{floor:.1},onemobile:{},emx_digital:{tagid:"137006"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},smart:{networkId:4123,siteId:430670,pageId:1413163,formatId:103957},richaudience:{pid:"be43NfpNBc",supplyType:"site"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},adf:{mid:"1602360",adxDomain:"adx2.adform.net"},rise:{org:"6388b3f8bedf040001242b35"}},excludes:["desktop"],insertIndex:2,mediaTypes:["banner"],dataAttribute:"article",carveSize:"fullsize"}]},window.zamaf_config.enableCMP&&window.activateCMP&&!window.zamaf_config.thirdPartyCmp&&window.activateCMP(),window.zamaf_config.enableCCPA&&window.activateCCPA&&window.activateCCPA(),function(){var e={432:function(e){
/*
    * @license MIT
    * Fun Hooks v0.9.10
    * (c) @snapwich
    */
a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var t=Object.freeze({useProxy:!0,ready:0}),n=new WeakMap,r="2,1,0"===[1].reduce((function(e,t,n){return[e,t,n]}),2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,o=0;if(t)n=t;else{for(;o<i&&!(o in r);)o++;n=r[o++]}for(;o<i;)o in r&&(n=e(n,r[o],o,r)),o++;return n};function i(e,t){return Array.prototype.slice.call(e,t)}var o=Object.assign||function(e){return r.call(i(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),e)};function a(e){var s,c={},u=[];function d(e,t){return"function"==typeof e?m.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?m.apply(null,arguments):"object"==typeof e?l.apply(null,arguments):void 0}function l(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var r=t.split(":"),o=r[0],a=r[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=m(a,s,n?[n,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(r&&e);return i}function f(e){var t=Array.isArray(e)?e:e.split(".");return r.call(t,(function(e,n,r){var i=e[n];return i||(r===t.length-1?(s||u.push((function(){})),e[n]=p((function(t){e[n]=t}))):e[n]={})}),c)}function p(e){var t=[],r=[],i=function(){},a={before:function(e,n){return c.call(this,t,"before",e,n)},after:function(e,t){return c.call(this,r,"after",e,t)},getHooks:function(e){var n=t.concat(r);"object"==typeof e&&(n=n.filter((function(t){return Object.keys(e).every((function(n){return t[n]===e[n]}))})));try{o(n,{remove:function(){return n.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return n},removeAll:function(){return this.getHooks().remove()}},s={install:function(n,o,a){this.type=n,i=a,a(t,r),e&&e(o)}};return n.set(a.after,s),a;function c(e,n,o,a){var s={hook:o,type:n,priority:a||10,remove:function(){var n=e.indexOf(s);-1!==n&&(e.splice(n,1),i(t,r))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),i(t,r),this}}function m(t,r,c){var d=r.after&&n.get(r.after);if(d){if(d.type!==t)throw"fun-hooks: recreated hookable with different type";return r}var l,m,g=c?f(c):p(),h={get:function(e,t){return g[t]||Reflect.get.apply(Reflect,arguments)}};return s||u.push(v),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?m=new Proxy(r,h):(m=function(){return h.apply?h.apply(r,this,i(arguments)):r.apply(this,arguments)},o(m,g)),n.get(m.after).install(t,m,(function(e,n){var r,o=[];function a(e){o.push(e.hook)}e.length||n.length?(e.forEach(a),r=o.push(void 0)-1,n.forEach(a),l=function(e,n,a){var s,c=0,u="async"===t&&"function"==typeof a[a.length-1]&&a.pop();function d(e){"sync"===t?s=e:u&&u.apply(null,arguments)}function l(e){if(o[c]){var r=i(arguments);return l.bail=d,r.unshift(l),o[c++].apply(n,r)}"sync"===t?s=e:u&&u.apply(null,arguments)}return o[r]=function(){var r=i(arguments,1);"async"===t&&u&&(delete l.bail,r.push(l));var o=e.apply(n,r);"sync"===t&&l(o)},l.apply(null,a),s}):l=void 0,v()})),m;function v(){!s&&("sync"!==t||e.ready&a.SYNC)&&("async"!==t||e.ready&a.ASYNC)?"sync"!==t&&e.ready&a.QUEUE?h.apply=function(){var e=arguments;u.push((function(){m.apply(e[1],e[2])}))}:h.apply=function(){throw"fun-hooks: hooked function not ready"}:h.apply=l}}return(e=o({},t,e)).ready?d.ready=function(){s=!0,function(e){for(var t;t=e.shift();)t()}(u)}:s=!0,d.get=f,d}e.exports=a},79:function(e){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var i=t[r];n[r]=i&&"object"==typeof i?e(i):i}return n}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=window,t=e.pbjs=e.pbjs||{};function r(){return t}function i(e){t.installedModules.push(e)}function o(e,t,n){return e&&e.includes(t,n)||!1}function a(e,t,n){return e&&e.find(t,n)}t.cmd=t.cmd||[],t.que=t.que||[],e===window&&(e._pbjsGlobals=e._pbjsGlobals||[],e._pbjsGlobals.push("pbjs"));var s={buckets:[{max:5,increment:.5}]},c={buckets:[{max:20,increment:.1}]},u={buckets:[{max:20,increment:.01}]},d={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},l={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":p(e,s,n),med:""===r?"":p(e,c,n),high:""===r?"":p(e,u,n),auto:""===r?"":p(e,l,n),dense:""===r?"":p(e,d,n),custom:""===r?"":p(e,t,n)}}function p(e,t,n){var r="";if(!m(t))return r;var i=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),o=0,s=a(t.buckets,(function(t){if(e>i.max*n){var a=t.precision;void 0===a&&(a=2),r=(t.max*n).toFixed(a)}else{if(e<=t.max*n&&e>=o*n)return t.min=o,t;o=t.max}}));return s&&(r=g(e,s,n)),r}function m(e){if(Fe(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}function g(e,t,n){var r=void 0!==t.precision?t.precision:2,i=t.increment*n,o=t.min*n,a=Math.floor,s=T.getConfig("cpmRoundingFunction");"function"==typeof s&&(a=s);var c,u,d=Math.pow(10,r+2),l=(e*d-o*d)/(i*d);try{c=a(l)*i+o}catch(e){u=!0}return(u||"number"!=typeof c)&&(Se("Invalid rounding function passed in config"),c=Math.floor(l)*i+o),(c=Number(c.toFixed(10))).toFixed(r)}function h(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}var v=JSON.parse('{"k2":{"xn":"adserverTargeting","zF":"standard"},"f":"pbjs_debug","Q_":{"Q":1,"H":2},"FP":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"q_":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"aI":{"bidWon":"adUnitCode"},"Ql":{"yE":"low","M2":"medium","lj":"high","B7":"auto","uN":"dense","qN":"custom"},"TD":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat"},"kF":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"FY":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"os":{"YZ":"s2s"},"UE":{"CK":"targetingSet","fe":"rendered","G9":"bidRejected"},"Gw":{"UI":"Bid has missing or invalid properties","Gp":"Invalid request ID","Dg":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","pe":"Bid does not meet price floor"},"V1":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"s$":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"oF":{"ICON":1,"MAIN":3},"zA":["privacyLink","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}');function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C="TRUE"===ke(v.f).toUpperCase(),S="random",x={random:!0,fixed:!0},E={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},A="*",T=function(){var e,t,n,r=[],i=null;function s(){function r(e){return o[e].val}function i(e,t){o[e].val=t}e={};var o={publisherDomain:{set:function(e){null!=e&&Se("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),i("publisherDomain",e)}},priceGranularity:{val:E.MEDIUM,set:function(e){u(e)&&("string"==typeof e?i("priceGranularity",c(e)?e:E.MEDIUM):Pe(e)&&(i("customPriceBucket",e),i("priceGranularity",E.CUSTOM),_e("Using custom price granularity")))}},customPriceBucket:{val:{},set:function(){}},mediaTypePriceGranularity:{val:{},set:function(e){null!=e&&i("mediaTypePriceGranularity",Object.keys(e).reduce((function(t,n){return u(e[n])?"string"==typeof e?t[n]=c(e[n])?e[n]:r("priceGranularity"):Pe(e)&&(t[n]=e[n],_e("Using custom price granularity for ".concat(n))):Se("Invalid price granularity for media type: ".concat(n)),t}),{}))}},bidderSequence:{val:"random",set:function(e){x[e]?i("bidderSequence",e):Se("Invalid order: ".concat(e,". Bidder Sequence was not set."))}},auctionOptions:{val:{},set:function(e){(function(e){if(!Pe(e))return Se("Auction Options must be an object"),!1;for(var t of Object.keys(e)){if("secondaryBidders"!==t&&"suppressStaleRender"!==t)return Se("Auction Options given an incorrect param: ".concat(t)),!1;if("secondaryBidders"===t){if(!De(e[t]))return Se("Auction Options ".concat(t," must be of type Array")),!1;if(!e[t].every(ze))return Se("Auction Options ".concat(t," must be only string")),!1}else if("suppressStaleRender"===t&&!Ne(e[t]))return Se("Auction Options ".concat(t," must be of type boolean")),!1}return!0})(e)&&i("auctionOptions",e)}}},s={debug:C,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,timeoutBuffer:400,disableAjaxTimeout:!1,maxNestedIframes:10};function c(e){return a(Object.keys(E),(function(t){return e===E[t]}))}function u(e){if(!e)return xe("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)c(e)||Se("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(Pe(e)&&!m(e))return xe("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(s,Object.fromEntries(Object.entries(o).map((function(e){var t=I(e,2),n=t[0],o=t[1];return[n,w({get:r.bind(null,n),set:i.bind(null,n),enumerable:!0},o)]})))),t&&O(Object.keys(t).reduce((function(e,n){return t[n]!==s[n]&&(e[n]=s[n]||{}),e}),{})),t=s,n={}}function c(){if(i&&n&&Pe(n[i])){var e=n[i];return function(){return Array.from.apply(Array,arguments)}(new Set(Object.keys(t).concat(Object.keys(e)))).reduce((function(n,r){return void 0===e[r]?n[r]=t[r]:void 0===t[r]?n[r]=e[r]:Pe(e[r])?n[r]=Ft({},t[r],e[r]):n[r]=e[r],n}),{})}return w({},t)}var u=[c,function(){var e=c();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((function(e){return function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var t=arguments.length<=0?void 0:arguments[0];return t?h(e(),t):c()}return T.apply(void 0,arguments)}})),d=I(u,2),l=d[0],f=d[1],p=[f,l].map((function(e){return function(){var t=e.apply(void 0,arguments);return t&&"object"==typeof t&&(t=ut(t)),t}})),g=I(p,2),v=g[0],_=g[1];function S(n){if(Pe(n)){var r=Object.keys(n),i={};r.forEach((function(r){var o=n[r];Pe(e[r])&&Pe(o)&&(o=w({},e[r],o));try{i[r]=t[r]=o}catch(e){Se("Cannot set config for property ".concat(r," : "),e)}})),O(i)}else xe("setConfig options must be an object")}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t;if("string"!=typeof e&&(i=e,e=A,n=t||{}),"function"==typeof i){var o={topic:e,callback:i};return r.push(o),n.init&&i(e===A?f():y({},e,f(e))),function(){r.splice(r.indexOf(o),1)}}xe("listener must be a function")}function O(e){var t=Object.keys(e);r.filter((function(e){return o(t,e.topic)})).forEach((function(t){t.callback(y({},t.topic,e[t.topic]))})),r.filter((function(e){return e.topic===A})).forEach((function(t){return t.callback(e)}))}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{r(e),e.bidders.forEach((function(r){n[r]||(n[r]={}),Object.keys(e.config).forEach((function(i){var o=e.config[i];if(Pe(o)){var a=t?Ft:Object.assign;n[r][i]=a({},n[r][i]||{},o)}else n[r][i]=o}))}))}catch(e){xe(e)}function r(e){if(!Pe(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!Pe(e.config))throw"setBidderConfig bidder options must contain a config object"}}function j(e,t){i=e;try{return t()}finally{R()}}function R(){i=null}return s(),{getCurrentBidder:function(){return i},resetBidder:R,getConfig:f,getAnyConfig:l,readConfig:v,readAnyConfig:_,setConfig:S,mergeConfig:function(e){if(Pe(e)){var t=Ft(c(),e);return S(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),t}xe("mergeConfig input must be an object")},setDefaults:function(n){Pe(e)?(w(e,n),w(t,n)):xe("defaults must be an object")},resetConfig:s,runWithBidder:j,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return j(e,le.call.apply(le,[t,this].concat(r)))}Se("config.callbackWithBidder callback is not a function")}}},setBidderConfig:k,getBidderConfig:function(){return n},mergeBidderConfig:function(e){return k(e,!0)}}}(),O=n(79),k=n.n(O);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function D(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}function B(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,N(e,t,"get"))}function P(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,N(e,t,"set"),n),n}function N(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var F=0,U=1,M=new WeakMap,q=new WeakMap;class L{static timeout(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new L((function(t){0===e?t():setTimeout(t,e)}))}constructor(e){if(z(this,M,{writable:!0,value:void 0}),z(this,q,{writable:!0,value:void 0}),"function"!=typeof e)throw new Error("resolver not a function");var t=[],n=[],r=j([F,U].map((function(e){return function(r){if(e===F&&"function"==typeof(null==r?void 0:r.then))r.then(i,o);else if(!t.length)for(t.push(e,r);n.length;)n.shift()()}})),2),i=r[0],o=r[1];try{e(i,o)}catch(e){o(e)}P(this,M,t),P(this,q,n)}then(e,t){var n=this,r=B(this,M);return new this.constructor((function(i,o){var a=function(){var n=r[1],a=j(r[0]===F?[e,i]:[t,o],2),s=a[0],c=a[1];if("function"==typeof s){try{n=s(n)}catch(e){return void o(e)}c=i}c(n)};r.length?a():B(n,q).push(a)}))}catch(e){return this.then(null,e)}finally(e){var t,n=this;return this.then((function(n){return t=n,e()}),(function(r){return t=n.constructor.reject(r),e()})).then((function(){return t}))}static race(e){var t=this;return new this((function(n,r){D(t,L,W).call(t,e,(function(e,t){return e?n(t):r(t)}))}))}static all(e){var t=this;return new this((function(n,r){var i=[];D(t,L,W).call(t,e,(function(e,t,n){return e?i[n]=t:r(t)}),(function(){return n(i)}))}))}static allSettled(e){var t=this;return new this((function(n){var r=[];D(t,L,W).call(t,e,(function(e,t,n){return r[n]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}}),(function(){return n(r)}))}))}static resolve(e){return new this((function(t){return t(e)}))}static reject(e){return new this((function(t,n){return n(e)}))}}function W(e,t,n){var r=this,i=e.length;function o(){t.apply(this,arguments),--i<=0&&n&&n()}0===e.length&&n?n():e.forEach((function(e,t){return r.resolve(e).then((function(e){return o(!0,e,t)}),(function(e){return o(!1,e,t)}))}))}function H(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.promiseFactory,i=void 0===r?function(e){return new L(e)}:r;function o(e){return function(t){return e(t)}}return{promise:i((function(n,r){e=n,t=r})),resolve:o(e),reject:o(t)}}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}var Q,Y=Object.prototype.toString,Z=Boolean(window.console),ee=Boolean(Z&&window.console.log),te=Boolean(Z&&window.console.info),ne=Boolean(Z&&window.console.warn),re=Boolean(Z&&window.console.error),ie=r();function oe(){null!=Q&&Q.apply(void 0,arguments)}var ae={checkCookieSupport:gt,createTrackPixelIframeHtml:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),n&&(n='sandbox="'.concat(n,'"')),"<iframe ".concat(n,' id="').concat(pe(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""},getWindowSelf:we,getWindowTop:ye,getWindowLocation:Ie,insertUserSyncIframe:Ke,insertElement:He,isFn:Re,triggerPixel:Ge,logError:xe,logWarn:Se,logMessage:_e,logInfo:Ce,parseQS:zt,formatQS:Dt,deepEqual:Nt},se={};function ce(){return se}var ue,de={},le=function(e,t){return t}.bind(null,1,de)()===de?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},fe=(ue=0,function(){return++ue});function pe(){return fe()+Math.random().toString(16).substr(2)}function me(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,me)}function ge(e,t){return t&&t[e]?t[e]:""}function he(e){return e&&Object.getOwnPropertyNames(e).length>0?(t=e,Object.keys(t)).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(tt(e,t)))})).join("&"):"";var t}function ve(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var i in n)We(n,i)&&n[i].match(r)&&t.push(n[i])}else if("object"==typeof e){var o=e.length;if(o>0)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(be(e));else for(var a=0;a<o;a++)t.push(be(e[a]))}return t}function be(e){if(function(e){return De(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}(e))return e[0]+"x"+e[1]}function ye(){return window.top}function we(){return window.self}function Ie(){return window.location}function _e(){Te()&&ee&&console.log.apply(console,Ae(arguments,"MESSAGE:"))}function Ce(){Te()&&te&&console.info.apply(console,Ae(arguments,"INFO:"))}function Se(){Te()&&ne&&console.warn.apply(console,Ae(arguments,"WARNING:")),oe(v.FP.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function xe(){Te()&&re&&console.error.apply(console,Ae(arguments,"ERROR:")),oe(v.FP.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function Ee(e){function t(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(void 0,[e].concat(r))}}return{logError:t(xe),logWarn:t(Se),logMessage:t(_e),logInfo:t(Ce)}}function Ae(e,t){e=[].slice.call(e);var n=T.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(r("#aaa")),e.unshift(r("#3b88c3")),e.unshift("%cPrebid"+(n?"%c".concat(n):"")),e;function r(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function Te(){return!!T.getConfig("debug")}function Oe(){var e=document.createElement("iframe");return e.id=pe(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function ke(e){return zt(Ie().search)[e]||""}function je(e,t){return Y.call(e)==="[object "+t+"]"}function Re(e){return je(e,"Function")}function ze(e){return je(e,"String")}function De(e){return je(e,"Array")}function Be(e){return je(e,"Number")}function Pe(e){return je(e,"Object")}function Ne(e){return je(e,"Boolean")}function Fe(e){if(!e)return!0;if(De(e)||ze(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function Ue(e){return ze(e)&&(!e||0===e.length)}function Me(e,t){if(!Fe(e)){if(Re(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(r>0)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function qe(e,t){if(Fe(e))return!1;if(Re(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function Le(e,t){if(Fe(e))return[];if(Re(e.map))return e.map(t);var n=[];return Me(e,(function(r,i){n.push(t(r,i,e))})),n}function We(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function He(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=r?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function Ve(e,t){var n=null;return new L((function(r){var i=function(){e.removeEventListener("load",i),e.removeEventListener("error",i),null!=n&&window.clearTimeout(n),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(n=window.setTimeout(i,t))}))}function Ge(e,t,n){var r=new Image;t&&ae.isFn(t)&&Ve(r,n).then(t),r.src=e}function Je(e){var t=e.source,n=e.burl;t===v.os.YZ&&n&&ae.triggerPixel(n)}function $e(e){if(e){var t=document.createElement("iframe");t.id=pe(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",ae.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}}function Ke(e,t,n){var r=ae.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;var o=i.firstChild;t&&ae.isFn(t)&&Ve(o,n).then(t),ae.insertElement(o,document,"html",!0)}function Xe(e){if(!e)return"";var t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'}function Qe(e,t,n){return null==t?n:ze(t)?t:Be(t)?t.toString():void ae.logWarn("Unsuported type for param: "+e+" required type: String")}function Ye(e,t,n){return n.indexOf(e)===t}function Ze(e,t){return e.concat(t)}function et(e,t){var n;if(e)return t.some((function(t){var r=a(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(n){return t[n]===e}))}));return r&&(n=r),r})),n}function tt(e,t){return e[t]}function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(Ze,[])})).reduce(Ze,[]).filter((function(e){return void 0!==e})).filter(Ye)}function rt(){if(window.googletag&&Re(window.googletag.pubads)&&Re(window.googletag.pubads().getSlots))return!0}var it=at("timeToRespond",(function(e,t){return e>t})),ot=at("responseTimestamp",(function(e,t){return e>t}));function at(e,t){return function(n,r){return n.cpm===r.cpm?t(n[e],r[e])?r:n:n.cpm<r.cpm?r:n}}function st(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e}function ct(e,t){return o(e,t&&t.adUnitCode)}function ut(e){return k()(e)}function dt(){try{return ae.getWindowSelf()!==ae.getWindowTop()}catch(e){return!0}}function lt(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function ft(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function pt(){return(new Date).getTime()}function mt(){return!1!==T.getConfig("deviceAccess")}function gt(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function ht(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(this,arguments)}}function vt(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}function bt(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,n){return X(t,K({},n,e[n]))}),{})}function yt(e,t,n){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(Ze,[]).filter((function(e){return e.bidder===n})).map((function(e){return e.params||{}}))}function wt(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var It=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function _t(e){return function(t){return It(t,e)}}function Ct(e){var t=function(e){var t;return rt()&&(t=a(window.googletag.pubads().getSlots(),_t(e))),t}(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function St(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}function xt(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Et(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function At(e,t){return"object"!=typeof e?{}:t.reduce((function(n,r,i){if("function"==typeof r)return n;var o=r,a=r.match(/^(.+?)\sas\s(.+?)$/i);a&&(r=a[1],o=a[2]);var s=e[r];return"function"==typeof t[i+1]&&(s=t[i+1](s,n)),void 0!==s&&(n[o]=s),n}),{})}function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return Me(e,(function(e,r){if(De(e)){var i=[];Me(e,(function(e){((e=Qe(t+"."+r,e))||""===e)&&i.push(e)})),e=i}else{if(!ze(e=Qe(t+"."+r,e)))return;e=[e]}n.push({key:r,value:e})})),n}function Ot(e,t){return Object.keys(e).forEach((function(n){var r,i;t[n]&&(Re(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],i=t[n],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(t[n])&&delete t.key)})),t}function kt(e,t){return De(e)&&(!t||e.length===t)&&e.every((function(e){return xt(e)}))}function jt(e,t){for(var n=[],r=0;r<t;r++){var i=Pe(e)?ut(e):e;n.push(i)}return n}function Rt(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var i=r*t,o=i+t;n.push(e.slice(i,o))}return n}function zt(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=V(t.split("="),2),r=n[0],i=n[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(i)):e[r]=i||"",e}),{}):{}}function Dt(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}function Bt(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:ae.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function Pt(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(ae.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function Nt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.checkTypes,i=void 0!==r&&r;if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||i&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e){if(!t.hasOwnProperty(o))return!1;if(!Nt(e[o],t[o],{checkTypes:i}))return!1}return!0}function Ft(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(Pe(e)&&Pe(i)){var o=function(t){Pe(i[t])?(e[t]||X(e,K({},t,{})),Ft(e[t],i[t])):De(i[t])?e[t]?De(e[t])&&i[t].forEach((function(n){for(var r=1,i=0;i<e[t].length;i++)if(Nt(e[t][i],n)){r=0;break}r&&e[t].push(n)})):X(e,K({},t,G(i[t]))):X(e,K({},t,i[t]))};for(var a in i)o(a)}return Ft.apply(void 0,[e].concat(n))}function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new Map,r=function(){var r=t.apply(this,arguments);return n.has(r)||n.set(r,e.apply(this,arguments)),n.get(r)};return r.clear=n.clear.bind(n),r}function Mt(e,t,n){t.split&&(t=t.split("."));for(var r,i,o=0,a=t.length,s=e;o<a&&"__proto__"!==(i=t[o++])&&"constructor"!==i&&"prototype"!==i;)s=s[i]=o===a?n:typeof(r=s[i])==typeof t?r:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}function qt(){return qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qt.apply(this,arguments)}var Lt,Wt=Array.prototype.slice,Ht=Array.prototype.push,Vt=Le(v.FP,(function(e){return e})),Gt=v.aI,Jt=[],$t=function(){var e={},t={};function n(t,n){_e("Emitting event for: "+t);var r=n[0]||{},i=r[Gt[t]],o=e[t]||{que:[]},a=Le(o,(function(e,t){return t})),s=[];Jt.push({eventType:t,args:r,id:i,elapsedTime:window.performance&&window.performance.now&&window.performance.now()||0}),i&&qe(a,i)&&Ht.apply(s,o[i].que),Ht.apply(s,o.que),Me(s,(function(e){if(e)try{e.apply(null,n)}catch(e){xe("Error executing handler:","events.js",e)}}))}return t.on=function(t,n,r){if(function(e){return qe(Vt,e)}(t)){var i=e[t]||{que:[]};r?(i[r]=i[r]||{que:[]},i[r].que.push(n)):i.que.push(n),e[t]=i}else xe("Wrong event name : "+t+" Valid event names :"+Vt)},t.emit=function(e){var t=Wt.call(arguments,1);n(e,t)},t.off=function(t,n,r){var i=e[t];Fe(i)||Fe(i.que)&&Fe(i[r])||r&&(Fe(i[r])||Fe(i[r].que))||(r?Me(i[r].que,(function(e){var t=i[r].que;e===n&&t.splice(t.indexOf(e),1)})):Me(i.que,(function(e){var t=i.que;e===n&&t.splice(t.indexOf(e),1)})),e[t]=i)},t.get=function(){return e},t.addEvents=function(e){Vt=Vt.concat(e)},t.getEvents=function(){var e=[];return Me(Jt,(function(t){var n=qt({},t);e.push(n)})),e},t}();Lt=$t.emit.bind($t),Q=Lt;var Kt=$t.on,Xt=$t.off;$t.get;var Qt=$t.getEvents,Yt=$t.emit;function Zt(){return Zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zt.apply(this,arguments)}$t.addEvents;var en=tn();function tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.request,r=t.done;return function(t,i,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var s,c=a.method||(o?"POST":"GET"),u=document.createElement("a");u.href=t;var d="object"==typeof i&&null!==i?i:{success:function(){_e("xhr success")},error:function(e){xe("xhr error",null,e)}};if("function"==typeof i&&(d.success=i),(s=new window.XMLHttpRequest).onreadystatechange=function(){if(4===s.readyState){"function"==typeof r&&r(u.origin);var e=s.status;e>=200&&e<300||304===e?d.success(s.responseText,s):d.error(s.statusText,s)}},T.getConfig("disableAjaxTimeout")||(s.ontimeout=function(){xe("  xhr timeout after ",s.timeout,"ms")}),"GET"===c&&o){var l=Bt(t,a);Zt(l.search,o),t=Pt(l)}s.open(c,t,!0),T.getConfig("disableAjaxTimeout")||(s.timeout=e),a.withCredentials&&(s.withCredentials=!0),Me(a.customHeaders,(function(e,t){s.setRequestHeader(t,e)})),a.preflight&&s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-Type",a.contentType||"text/plain"),"function"==typeof n&&n(u.origin),"POST"===c&&o?s.send(o):s.send()}catch(e){xe("xhr construction",e),"object"==typeof i&&null!==i&&i.error(e)}}}function nn(e,t){var n=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(n,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}function rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?yo.index:n,i=e.vastXml?e.vastXml:nn(e.vastUrl,e.vastImpUrl),o=r.getAuction(e),a=Number(e.ttl)+15,s={type:"xml",value:i,ttlseconds:a};return T.getConfig("cache.vasttrack")&&(s.bidder=e.bidder,s.bidid=e.requestId,s.aid=e.auctionId),null!=o&&(s.timestamp=o.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(s.key=e.customCacheKey),s}function on(e){return{success:function(t){var n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(n))),[])}}}var an=new WeakMap,sn=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant","arcspan"];function cn(e,t,n,r,i){if(t&&e){if(o(sn,t)){r||(r=document);var a=u(r,e);if(a)return n&&"function"==typeof n&&(a.loaded?n():a.callbacks.push(n)),a.tag;var s=an.get(r)||{},c={loaded:!1,tag:null,callbacks:[]};return s[e]=c,an.set(r,s),n&&"function"==typeof n&&c.callbacks.push(n),Se("module ".concat(t," is loading external JavaScript")),function(t,n,r,i){r||(r=document);var o=r.createElement("script");o.type="text/javascript",o.async=!0;var a=u(r,e);return a&&(a.tag=o),o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,n())}:o.onload=function(){n()},o.src=t,i&&function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}(o,i),He(o,r),o}(e,(function(){c.loaded=!0;try{for(var e=0;e<c.callbacks.length;e++)c.callbacks[e]()}catch(e){xe("Error executing callback","adloader.js:loadExternalScript",e)}}),r,i)}xe("".concat(t," not whitelisted for loading external JavaScript"))}else xe("cannot load external script without url and moduleCode");function u(e,t){var n=an.get(e);return n&&n[t]?n[t]:null}}var un=r(),dn="outstream";function ln(e){var t=this,n=e.url,r=e.config,i=e.id,o=e.callback,a=e.loaded,s=e.adUnitCode,c=e.renderNow;this.url=n,this.config=r,this.handlers={},this.id=i,this.renderNow=c,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):xe("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,r=function(){e._render?e._render.apply(e,t):Se("No render function was provided, please use .setRender on the renderer")};mn(s)?(Se("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(s)),r()):c?r():(this.cmd.unshift(r),cn(n,dn,this.callback,this.documentContext))}.bind(this)}function fn(e){return!(!e||!e.url&&!e.renderNow)}function pn(e,t,n){var r=null;e.config&&e.config.documentResolver&&(r=e.config.documentResolver(t,document,n)),r||(r=document),e.documentContext=r,e.render(t,e.documentContext)}function mn(e){var t=a(un.adUnits,(function(t){return t.code===e}));if(!t)return!1;var n=h(t,"renderer"),r=!!(n&&n.url&&n.render),i=h(t,"mediaTypes.video.renderer"),o=!!(i&&i.url&&i.render);return!!(r&&!0!==n.backupOnly||o&&!0!==i.backupOnly)}ln.install=function(e){return new ln({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode,renderNow:e.renderNow})},ln.prototype.getConfig=function(){return this.config},ln.prototype.setRender=function(e){this._render=e},ln.prototype.setEventHandlers=function(e){this.handlers=e},ln.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),_e("Prebid Renderer event for id ".concat(t," type ").concat(n))},ln.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){xe("Error processing Renderer command: ",e)}};var gn=n(432),hn=n.n(gn);function vn(e){return function(e){if(Array.isArray(e))return bn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yn=hn()({ready:hn().SYNC|hn().ASYNC|hn().QUEUE}),wn=H();yn.ready=function(){var e=yn.ready;return function(){try{return e.apply(yn,arguments)}finally{wn.resolve()}}}();var In=wn.promise,_n=yn.get,Cn={};function Sn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Cn[e];if(i)return i.apply(void 0,n);_n(e).before((function(e,t){t.push(n),e(t)}))}function xn(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function En(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var An=new WeakSet;function Tn(e){return null==e?this.defaultScope:e}var On=new class{constructor(e,t){xn(this,An),this.getSettings=e,this.defaultScope=t}get(e,t){var n=this.getOwn(e,t);return void 0===n&&(n=this.getOwn(null,t)),n}getOwn(e,t){return e=En(this,An,Tn).call(this,e),h(this.getSettings(),"".concat(e,".").concat(t))}getScopes(){var e=this;return Object.keys(this.getSettings()).filter((function(t){return t!==e.defaultScope}))}settingsFor(e){return Ft({},this.ownSettingsFor(null),this.ownSettingsFor(e))}ownSettingsFor(e){return e=En(this,An,Tn).call(this,e),this.getSettings()[e]||{}}}((function(){return r().bidderSettings||{}}),v.k2.zF),kn="bidder",jn="userId",Rn="html5",zn="cookie",Dn=[];function Bn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.moduleName,n=e.moduleType,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.bidderSettings,o=void 0===i?On:i;function a(e){if(n!==kn)return!0;var r=o.get(t,"storageAllowed");return r&&!0!==r?Array.isArray(r)?r.some((function(t){return t===e})):r===e:!!r}function s(e,r){var i;return a(r)?(Pn(n,t,{hasEnforcementHook:!1},(function(t){if(t&&t.hasEnforcementHook)i=e(t);else{var n={hasEnforcementHook:!1,valid:mt()};i=e(n)}})),i):(Ce("bidderSettings denied access to device storage for bidder '".concat(t,"'")),e({valid:!1}))}function c(e,t,n){if(!n||"function"!=typeof n)return s(e,t);Dn.push((function(){var r=s(e,t);n(r)}))}var u=function(e,t,n,r,i,o){return c((function(o){if(o&&o.valid){var a=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",s=n&&""!==n?" ;expires=".concat(n):"",c=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(s,"; path=/").concat(a).concat(r?"; SameSite=".concat(r):"").concat(c)}}),zn,o)},d=function(e,t){return c((function(t){if(t&&t.valid){var n=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return n?decodeURIComponent(n[2]):null}return null}),zn,t)},l=function(e){return c((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}),Rn,e)},f=function(e){return c((function(e){return!(!e||!e.valid)&&gt()}),zn,e)},p=function(e,t,n){return c((function(n){n&&n.valid&&h()&&window.localStorage.setItem(e,t)}),Rn,n)},m=function(e,t){return c((function(t){return t&&t.valid&&h()?window.localStorage.getItem(e):null}),Rn,t)},g=function(e,t){return c((function(t){t&&t.valid&&h()&&window.localStorage.removeItem(e)}),Rn,t)},h=function(e){return c((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){xe("Local storage api disabled")}return!1}),Rn,e)},v=function(e,t){return c((function(t){if(t&&t.valid){var n=[];if(mt())for(var r=document.cookie.split(";");r.length;){var i=r.pop(),o=i.indexOf("=");o=o<0?i.length:o,decodeURIComponent(i.slice(0,o).replace(/^\s+/,"")).indexOf(e)>=0&&n.push(decodeURIComponent(i.slice(o+1)))}return n}}),zn,t)};return{setCookie:u,getCookie:d,localStorageIsEnabled:l,cookiesAreEnabled:f,setDataInLocalStorage:p,getDataFromLocalStorage:m,removeDataFromLocalStorage:g,hasLocalStorage:h,findSimilarCookies:v}}var Pn=yn("async",(function(e,t,n,r){r(n)}),"validateStorageEnforcement");function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.moduleType,n=e.moduleName,r=e.bidderCode;function i(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return r?((t&&t!==kn||n)&&i(),t=kn,n=r):n&&t||i(),Bn({moduleType:t,moduleName:n})}function Fn(e){return Bn({moduleName:e,moduleType:"core"})}function Un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qn.apply(this,arguments)}T.setDefaults({userSync:ut({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var Ln=Fn("usersync"),Wn=function(e){var t={},n={image:[],iframe:[]},r=new Set,i={},a={image:!0,iframe:!1},s=e.config;function c(){if(s.syncEnabled&&e.browserSupportsCookies){try{a.iframe&&u(n.iframe,(function(e){var t=Un(e,2),r=t[0],i=t[1];_e("Invoking iframe user sync for bidder: ".concat(r)),Ke(i),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(n,r)})),a.image&&u(n.image,(function(e){var t=Un(e,2),n=t[0],r=t[1];_e("Invoking image pixel user sync for bidder: ".concat(n)),Ge(r)}))}catch(e){return xe("Error firing user syncs",e)}n={image:[],iframe:[]}}}function u(e,t){st(e).forEach(t)}function d(e,t){var n=s.filterSettings;if(function(e,t){if(e.all&&e[t])return Se('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],r=e.all?"all":t;if(!n)return!1;var i=n.filter,o=n.bidders;return i&&"include"!==i&&"exclude"!==i?(Se('UserSync "filterSettings.'.concat(r,".filter\" setting '").concat(i,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===o||Array.isArray(o)&&o.length>0&&o.every((function(e){return ze(e)&&"*"!==e})))||(Se('Detected an invalid setup in userSync "filterSettings.'.concat(r,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(n,e)){a[e]=!0;var r=n.all?n.all:n[e],i="*"===r.bidders?[t]:r.bidders,c={include:function(e,t){return!o(e,t)},exclude:function(e,t){return o(e,t)}};return c[r.filter||"include"](i,t)}return!a[e]}return T.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;Pe(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}s=qn(s,e.userSync)})),t.registerSync=function(e,o,a){return r.has(o)?_e('already fired syncs for "'.concat(o,'", ignoring registerSync call')):s.syncEnabled&&De(n[e])?o?0!==s.syncsPerBidder&&Number(i[o])>=s.syncsPerBidder?Se('Number of user syncs exceeded for "'.concat(o,'"')):t.canBidderRegisterSync(e,o)?(n[e].push([o,a]),void(i=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(i,o))):Se('Bidder "'.concat(o,'" not permitted to register their "').concat(e,'" userSync pixels.')):Se("Bidder is required for registering sync"):Se('User sync type "'.concat(e,'" not supported'))},t.bidderDone=r.add.bind(r),t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(c,Number(e));c()},t.triggerUserSyncs=function(){s.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!s.filterSettings||!d(e,t)},t}(Object.defineProperties({config:T.getConfig("userSync")},{browserSupportsCookies:{get:function(){return!/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)&&Ln.cookiesAreEnabled()}}})),Hn="outstream",Vn="instream";function Gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?yo.index:n,i=h(r.getMediaTypes(e),"video"),o=i&&h(i,"context"),a=i&&h(i,"useCacheKey"),s=r.getAdUnit(e);return Jn(e,s,i,o,a)}var Jn=yn("sync",(function(e,t,n,r,i){return n&&(i||r!==Hn)?T.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(xe('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(r===Hn&&!i&&!(e.renderer||t&&t.renderer||n.renderer))}),"checkVideoBidSetup"),$n="native",Kn="video",Xn="banner",Qn="adpod",Yn=[];function Zn(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,i=void 0!==r&&r,a=e.activeLabels,s=void 0===a?[]:a,c=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Yn,l=tr(d);Pe(c)||(c=u?{banner:{sizes:u}}:{});var f=h(c,"banner.sizes");l.shouldFilter&&f&&((c=ut(c)).banner.sizes=f.filter((function(e){return l.sizesSupported[e]})));var p={active:!c.hasOwnProperty(Xn)||h(c,"banner.sizes.length")>0&&(0===n.length||!i&&(n.some((function(e){return l.labels[e]}))||n.some((function(e){return o(s,e)})))||i&&n.reduce((function(e,t){return e?l.labels[t]||o(s,t):e}),!0)),mediaTypes:c};return f&&f.length!==c.banner.sizes.length&&(p.filterResults={before:f,after:c.banner.sizes}),p}function tr(e){return e.reduce((function(e,t){if("object"==typeof t&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){var n=!1;try{n=ye().matchMedia(t.mediaQuery).matches}catch(e){Se("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),n=matchMedia(t.mediaQuery).matches}n&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(n){return(t[n]||[]).forEach((function(t){return e[n][t]=!0}))})))}else Se('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}function nr(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}function rr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.src,r=void 0===n?"client":n,i=t.bidder,o=void 0===i?"":i,a=t.bidId,s=t.transactionId,c=t.auctionId,u=r,d=e||0;function l(){switch(d){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}this.bidderCode=o,this.width=0,this.height=0,this.statusMessage=l(),this.adId=pe(),this.requestId=a,this.transactionId=s,this.auctionId=c,this.mediaType="banner",this.source=u,this.getStatusCode=function(){return d},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function ir(e,t){return new rr(e,t)}function or(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ar(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sr(){return sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sr.apply(this,arguments)}T.getConfig("sizeConfig",(function(e){return function(e){Yn=e}(e.sizeConfig)}));var cr="performanceMetrics",ur=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},dr=new WeakMap;function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.now,n=void 0===t?ur:t,r=e.mkNode,i=void 0===r?mr:r,o=e.mkTimer,a=void 0===o?pr:o,s=e.mkRenamer,c=void 0===s?function(e){return e}:s,u=e.nodes,d=void 0===u?dr:u;return function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return{forEach:function(t){t(e)}}};function o(e){return function(n){return t.dfWalk({visit:function(t,r){var i=r[e];if(i.hasOwnProperty(n))return i[n]}})}}r=c(r);var s=o("timestamps");function u(e,n){var i=r(e);t.dfWalk({follow:function(e,t){return t.propagate&&(!e||!e.stopPropagation)},visit:function(e,t){i.forEach((function(r){null==e?t.metrics[r]=n:(t.groups.hasOwnProperty(r)||(t.groups[r]=[]),t.groups[r].push(n))}))}})}function l(e){t.timestamps[e]=n()}function f(e,t){var r=s(e),i=null!=r?n()-r:null;return null!=t&&u(t,i),i}function p(e,t,n){var r=s(e),i=s(t),o=null!=r&&null!=i?i-r:null;return null!=n&&u(n,o),o}function m(e){return a(n,(function(t){return u(e,t)}))}function g(e,t){return m(e).stopAfter(t)()}function h(e,t,n){var r=m(e);return n(function(e){var t=r.stopBefore(e);return t.bail=e.bail&&r.stopBefore(e.bail),t.stopTiming=r,t.untimed=e,t}(t))}function v(){var e={};return t.dfWalk({visit:function(t,n){e=sr({},!t||t.includeGroups?n.groups:null,n.metrics,e)}}),e}function b(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.propagate,a=void 0===o||o,s=n.stopPropagation,c=void 0!==s&&s,u=n.includeGroups,d=void 0!==u&&u;return e(i([[t,{propagate:a,stopPropagation:c,includeGroups:d}]]),r)}function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.propagate,i=void 0===r||r,o=n.stopPropagation,a=void 0!==o&&o,s=n.includeGroups,c=void 0!==s&&s,u=d.get(e);null!=u&&u.addParent(t,{propagate:i,stopPropagation:a,includeGroups:c})}function w(n){return e(t,n)}function I(){return e(t.newSibling(),r)}var _={startTiming:m,measureTime:g,measureHookTime:h,checkpoint:l,timeSince:f,timeBetween:p,setMetric:u,getMetrics:v,fork:b,join:y,newMetrics:I,renameWith:w,toJSON:function(){return v()}};return d.set(_,t),_}(i([]))}}function fr(e,t,n){return function(){t&&t();try{return e.apply(this,arguments)}finally{n&&n()}}}function pr(e,t){var n=e(),r=!1;function i(){r||(t(e()-n),r=!0)}return i.stopBefore=function(e){return fr(e,i)},i.stopAfter=function(e){return fr(e,null,i)},i}function mr(e){return{metrics:{},timestamps:{},groups:{},addParent:function(t,n){e.push([t,n])},newSibling:function(){return mr(e.slice())},dfWalk:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.visit,i=n.follow,o=void 0===i?function(){return!0}:i,a=n.visited,s=void 0===a?new Set:a,c=n.inEdge;if(!s.has(this)){if(s.add(this),null!=(t=r(c,this)))return t;for(var u of e){var d=or(u,2),l=d[0],f=d[1];if(o(c,f)&&null!=(t=l.dfWalk({visit:r,follow:o,visited:s,inEdge:f})))return t}}}}}var gr=function(){var e=function(){},t=function(){return{}},n={forEach:e},r=function(){return null};r.stopBefore=function(e){return e},r.stopAfter=function(e){return e};var i=Object.defineProperties({dfWalk:e,newSibling:function(){return i},addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((function(e){return[e,{get:t}]}))));return lr({now:function(){return 0},mkNode:function(){return i},mkRenamer:function(){return function(){return n}},mkTimer:function(){return r},nodes:{get:e,set:e}})()}(),hr=!0;function vr(e){return hr&&e||gr}T.getConfig(cr,(function(e){hr=!!e[cr]}));var br,yr=(br=lr(),function(){return hr?br():gr});function wr(e,t){return function(n,r){return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];var c=this;return vr(t.apply(c,a)).measureHookTime(e+n,i,(function(e){return r.call.apply(r,[c,e].concat(a))}))}}}var Ir=wr("requestBids.",(function(e){return e.metrics})),_r=wr("addBidResponse.",(function(e,t){return t.metrics}));function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xr.apply(this,arguments)}var Er=Fn("bidderFactory"),Ar=["cpm","ttl","creativeId","netRevenue","currency"];function Tr(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=Or(e);Ni.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var r,i,o=t;Pe(t)&&(o=t.code,r=t.gvlid,i=t.skipPbsAliasing),Ni.aliasRegistry[o]=e.code,n(xr({},e,{code:o,gvlid:r,skipPbsAliasing:i}))}))}function Or(e){return xr(new nr(e.code),{getSpec:function(){return Object.freeze(xr({},e))},registerSyncs:t,callBids:function(r,i,o,a,s,c){if(Array.isArray(r.bids)){var u=[],d=Br(r).measureTime("validate",(function(){return r.bids.filter(n)}));if(0!==d.length){var l={};d.forEach((function(e){l[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),kr(e,d,r,a,c,{onRequest:function(e){return Yt(v.FP.BEFORE_BIDDER_HTTP,r,e)},onResponse:function(t){s(e.code),u.push(t)},onFledgeAuctionConfigs:function(e){e.forEach((function(e){var t=l[e.bidId];t?Rr(t.adUnitCode,e.config):Se("Received fledge auction configuration for an unknown bidId",e)}))},onError:function(t,n){s(e.code),Ni.callBidderError(e.code,n,r),Yt(v.FP.BIDDER_ERROR,{error:n,bidderRequest:r}),xe("Server call for ".concat(e.code," failed: ").concat(t," ").concat(n.status,". Continuing without bids."))},onBid:function(t){var n,r,o,a,s=l[t.requestId];if(s){if(t.adapterCode=s.bidder,n=t.bidderCode,r=s.bidder,o=On.get(r,"allowAlternateBidderCodes")||!1,a=On.get(r,"allowedAlternateBidderCodes"),n&&r&&r!==n&&(a=De(a)?a.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(Ye):a,!o||De(a)&&"*"!==a[0]&&!a.includes(n)))return Se("".concat(t.bidderCode," is not a registered partner or known bidder of ").concat(s.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.")),void i.reject(s.adUnitCode,t,v.Gw.Dg);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||xr({},t[s.bidder]);var c=xr(ir(v.Q_.Q,s),t);!function(e,t){var n=vr(t.metrics);n.checkpoint("addBidResponse"),n.measureTime("addBidResponse.validate",(function(){return Dr(e,t)}))?i(e,t):i.reject(e,t,v.Gw.UI)}(s.adUnitCode,c)}else Se("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring.")),i.reject(null,t,v.Gw.Gp)},onCompletion:f})}else f()}function f(){o(),T.runWithBidder(e.code,(function(){Yt(v.FP.BIDDER_DONE,r),t(u,r.gdprConsent,r.uspConsent,r.gppConsent)}))}}});function t(t,n,r,i){jr(e,t,n,r,i)}function n(t){return!!e.isBidRequestValid(t)||(Se("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}var kr=yn("sync",(function(e,t,n,r,i,o){var a=o.onRequest,s=o.onResponse,c=o.onFledgeAuctionConfigs,u=o.onError,d=o.onBid,l=o.onCompletion,f=Br(n);l=f.startTiming("total").stopBefore(l);var p=f.measureTime("buildRequests",(function(){return e.buildRequests(t,n)}));if(p&&0!==p.length){Array.isArray(p)||(p=[p]);var m=ht(l,p.length);p.forEach((function(t){var n=f.fork();function o(e){null!=e&&(e.metrics=n.fork().renameWith()),d(e)}var l=i((function(r,i){h();try{r=JSON.parse(r)}catch(e){}r={body:r,headers:{get:i.getResponseHeader.bind(i)}},s(r);try{r=n.measureTime("interpretResponse",(function(){return e.interpretResponse(r,t)}))}catch(t){return xe("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void m()}var a;r&&De(r.fledgeAuctionConfigs)?(c(r.fledgeAuctionConfigs),a=r.bids):a=r,a&&(De(a)?a.forEach(o):o(a)),m()})),p=i((function(e,t){h(),u(e,t),m()}));a(t);var g,h=n.startTiming("net");switch(t.method){case"GET":r("".concat(t.url).concat((g=t.data)?"?".concat("object"==typeof g?function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t.replace(/&$/,"")}(g):g):""),{success:l,error:p},void 0,xr({method:"GET",withCredentials:!0},t.options));break;case"POST":r(t.url,{success:l,error:p},"string"==typeof t.data?t.data:JSON.stringify(t.data),xr({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:Se("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),m()}}))}else l()}),"processBidderRequests"),jr=yn("async",(function(e,t,n,r,i){var o=T.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(o||!Ni.aliasRegistry[e.code])){var a=T.getConfig("userSync.filterSettings"),s=e.getUserSyncs({iframeEnabled:!(!a||!a.iframe&&!a.all),pixelEnabled:!(!a||!a.image&&!a.all)},t,n,r,i);s&&(Array.isArray(s)||(s=[s]),s.forEach((function(t){Wn.registerSync(t.type,e.code,t.url)})),Wn.bidderDone(e.code))}}),"registerSyncs"),Rr=yn("sync",(function(e,t){}),"addComponentAuction");function zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?yo.index:r;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var o=i.getBidRequest(t),a=i.getMediaTypes(t),s=o&&o.sizes||a&&a.banner&&a.banner.sizes,c=ve(s);if(1===c.length){var u=c[0].split("x"),d=Cr(u,2),l=d[0],f=d[1];return t.width=parseInt(l,10),t.height=parseInt(f,10),!0}return!1}function Dr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?yo.index:r;function a(){var e=Object.keys(t);return Ar.every((function(n){return o(e,n)&&!o([void 0,null],t[n])}))}function s(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?a()?"native"!==t.mediaType||Lo(t,{index:i})?"video"!==t.mediaType||Gn(t,{index:i})?!("banner"===t.mediaType&&!zr(e,t,{index:i})&&(xe(s("Banner bids require a width and height")),1)):(xe(s("Video bid does not have required vastUrl or renderer property")),!1):(xe(s("Native bid missing some required properties.")),!1):(xe(s("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1):(Se("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):(Se("No adUnitCode was supplied to addBidResponse."),!1)}function Br(e){return vr(e.metrics).renameWith((function(t){return["adapter.client.".concat(t),"adapters.client.".concat(e.bidderCode,".").concat(t)]}))}_n("checkAdUnitSetup").before((function(e,t){if(!T.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return h(e,"mediaTypes.video.context")===Qn})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(Ze,[]).filter(Ye).forEach((function(e){var t=Ni.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var n=t.getSpec().getMappingFileInfo(),r=n.refreshInDays?n.refreshInDays:1,i=n.localStorageKey?n.localStorageKey:t.getSpec().code,o=Er.getDataFromLocalStorage(i);try{(!(o=o?JSON.parse(o):void 0)||pt()>o.lastUpdated+24*r*60*60*1e3)&&en(n.url,{success:function(t){try{t=JSON.parse(t);var n={lastUpdated:pt(),mapping:t.mapping};Er.setDataInLocalStorage(i,JSON.stringify(n))}catch(t){xe("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function(){xe("Failed to load ".concat(e," bidder translation file"))}})}catch(t){xe("Failed to parse ".concat(e," bidder translation mapping file"))}}})),e.call(this,t)}));var Pr={};function Nr(e,t,n){var r=function(e,t){var n=Pr[e]=Pr[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}var Fr={incrementRequestsCounter:function(e){return Nr(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return Nr(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return Nr(e,"winsCounter",t)},getRequestsCounter:function(e){return h(Pr,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return h(Pr,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return h(Pr,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}};function Ur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;var n=t.location.protocol;try{n=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?n+e:"".concat(n,"//").concat(e)}function Mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.noLeadingWww,r=void 0!==n&&n,i=t.noPort,o=void 0!==i&&i;try{e=new URL(Ur(e))}catch(e){return}return e=o?e.hostname:e.host,r&&e.startsWith("www.")&&(e=e.substring(4)),e}function qr(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}var Lr,Wr=function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return i.top!==i?e:function(){var o=qr(i.document),a=i.location.href;return t===o&&a===n||(t=o,n=a,r=e()),r}}((Lr=window,function(){var e,t,n,r,i=[],o=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(Lr),a=T.getConfig("maxNestedIframes"),s=!1,c=0,u=!1,d=!1,l=!1;do{var f=e,p=d,m=void 0,g=!1,h=null;d=!1,e=e?e.parent:Lr;try{m=e.location.href||null}catch(e){g=!0}if(g)if(p){var v=f.context;try{t=h=v.sourceUrl,l=!0,u=!0,e===Lr.top&&(s=!0),v.canonicalUrl&&(n=v.canonicalUrl)}catch(e){}}else{Se("Trying to access cross domain iframe. Continuing without referrer and location");try{var b=f.document.referrer;b&&(h=b,e===Lr.top&&(s=!0))}catch(e){}!h&&o&&o[c-1]&&(h=o[c-1],e===Lr.top&&(l=!0)),h&&!u&&(t=h)}else{if(m&&(t=h=m,u=!1,e===Lr.top)){s=!0;var y=qr(e.document);y&&(n=y)}e.context&&e.context.sourceUrl&&(d=!0)}i.push(h),c++}while(e!==Lr.top&&c<a);i.reverse();try{r=Lr.top.document.referrer}catch(e){}var w=s||l?t:null,I=T.getConfig("pageUrl")||n||null,_=T.getConfig("pageUrl")||w||Ur(I,Lr);return w&&w.indexOf("?")>-1&&-1===_.indexOf("?")&&(_="".concat(_).concat(w.substring(w.indexOf("?")))),{reachedTop:s,isAmp:u,numIframes:c-1,stack:i,topmostLocation:t||null,location:w,canonicalUrl:I,page:_,domain:Mr(_)||null,ref:r||null,legacy:{reachedTop:s,isAmp:u,numIframes:c-1,stack:i,referer:t||null,canonicalUrl:I}}}));function Hr(e,t,n){Vr(e,t),t.set(e,n)}function Vr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gr(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function Jr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Kr(e,t,"get"))}function $r(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Kr(e,t,"set"),n),n}function Kr(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Xr=Object.freeze({}),Qr=new WeakMap,Yr=new WeakMap,Zr=new WeakMap,ei=new WeakMap,ti=new WeakSet;class ni{constructor(){var e,t;Vr(e=this,t=ti),t.add(e),Hr(this,Qr,{writable:!0,value:void 0}),Hr(this,Yr,{writable:!0,value:void 0}),Hr(this,Zr,{writable:!0,value:void 0}),Hr(this,ei,{writable:!0,value:void 0}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"generatedTime",void 0),this.reset()}reset(){$r(this,Zr,H()),$r(this,Qr,!1),$r(this,Yr,null),$r(this,ei,!1),this.generatedTime=null}enable(){$r(this,Qr,!0)}get enabled(){return Jr(this,Qr)}get ready(){return Jr(this,ei)}get promise(){return Jr(this,ei)?L.resolve(Jr(this,Yr)):(Jr(this,Qr)||Gr(this,ti,ri).call(this,null),Jr(this,Zr).promise)}setConsentData(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt();this.generatedTime=t,Gr(this,ti,ri).call(this,e)}getConsentData(){return Jr(this,Yr)}}function ri(e){$r(this,ei,!0),$r(this,Yr,e),Jr(this,Zr).resolve(e)}var ii,oi,ai,si=(ii={},oi={},ai={},{register:function(e,t,n){n&&((ii[t]=ii[t]||{})[e]=n,oi.hasOwnProperty(t)?oi[t]!==n&&(oi[t]=ai):oi[t]=n)},get:function(e){var t={modules:ii[e]||{}};return oi.hasOwnProperty(e)&&oi[e]!==ai&&(t.gvlid=oi[e]),t}});function ci(e){return function(e){if(Array.isArray(e))return pi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){mi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||fi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(e,t){if(e){if("string"==typeof e)return pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pi(e,t):void 0}}function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gi.apply(this,arguments)}var hi={CLIENT:"client",SERVER:"server"},vi={},bi=vi.bidderRegistry={},yi=vi.aliasRegistry={},wi=[];T.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(wi=De(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var Ii={},_i=yn("sync",(function(e){var t=e.bidderCode,n=e.auctionId,r=e.bidderRequestId,i=e.adUnits,a=e.src,s=e.metrics;return i.reduce((function(e,i){var c=i.bids.filter((function(e){return e.bidder===t}));return null==t&&0===c.length&&null!=i.s2sBid&&c.push({bidder:null}),e.push(c.reduce((function(e,t){var c=null==(t=gi({},t,{ortb2Imp:Ft({},i.ortb2Imp,t.ortb2Imp)},bt(i,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?i.mediaTypes:t.mediaTypes;return function(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return o(t,e)}))&&(!e.video||!e.video.context||o(["instream","outstream","adpod"],e.video.context))}(c)?t=gi({},t,{mediaTypes:c}):xe("mediaTypes is not correctly configured for adunit ".concat(i.code)),e.push(gi({},t,{adUnitCode:i.code,transactionId:i.transactionId,sizes:h(c,"banner.sizes")||h(c,"video.playerSize")||[],bidId:t.bid_id||pe(),bidderRequestId:r,auctionId:n,src:a,metrics:s,bidRequestsCount:Fr.getRequestsCounter(i.code),bidderRequestsCount:Fr.getBidderRequestsCounter(i.code,t.bidder),bidderWinsCount:Fr.getBidderWinsCounter(i.code,t.bidder)})),e}),[])),e}),[]).reduce(Ze,[]).filter((function(e){return""!==e}))}),"getBids"),Ci=yn("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getS2SBidders,i=void 0===r?ji:r;if(null==t)return e;var o=i(t);return e.filter((function(e){return o.has(e.bidder)}))}),"filterBidsForAdUnit");function Si(e,t){var n=ut(e),r=!1;return n.forEach((function(e){var n=e.bids.filter((function(e){var n;return"pbsBidAdapter"===e.module&&(null===(n=e.params)||void 0===n?void 0:n.configName)===t.configName}));1===n.length?(e.s2sBid=n[0],r=!0,e.ortb2Imp=Ft({},e.s2sBid.ortb2Imp,e.ortb2Imp)):n.length>1&&Se('Multiple "module" bids for the same s2s configuration; all will be ignored',n),e.bids=Ci(e.bids,t).map((function(e){return e.bid_id=pe(),e}))})),{adUnits:n=n.filter((function(e){return 0!==e.bids.length||null!=e.s2sBid})),hasModuleBids:r}}function xi(e){var t=ut(e);return t.forEach((function(e){e.bids=Ci(e.bids,null)})),t=t.filter((function(e){return 0!==e.bids.length}))}var Ei=new class extends ni{getConsentMeta(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:ze(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}},Ai=new class extends ni{getConsentMeta(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}},Ti=new class extends ni{getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}},Oi=function(){return!!T.getConfig("coppa")},ki=yn("sync",(function(e,t){return function(e,t){return e.reduce((function(e,n){var r=er(Zn(n,t),n.mediaTypes,n.sizes),i=r.active,o=r.mediaTypes,a=r.filterResults;return i?(a&&Ce('Size mapping filtered adUnit "'.concat(n.code,'" banner sizes from '),a.before,"to ",a.after),n.mediaTypes=o,n.bids=n.bids.reduce((function(e,r){var i=er(Zn(r,t),n.mediaTypes),o=i.active,a=i.mediaTypes,s=i.filterResults;return o?(s&&(Ce('Size mapping filtered adUnit "'.concat(n.code,'" bidder "').concat(r.bidder,'" banner sizes from '),s.before,"to ",s.after),r.mediaTypes=a),e.push(r)):Ce('Size mapping deactivated adUnit "'.concat(n.code,'" bidder "').concat(r.bidder,'"')),e}),[]),e.push(n)):Ce('Size mapping disabled adUnit "'.concat(n.code,'"')),e}),[])}(e,t)}),"setupAdUnitMediaTypes");function ji(e){De(e)||(e=[e]);var t=new Set([null]);return e.filter((function(e){return e&&e.enabled})).flatMap((function(e){return e.bidders})).forEach((function(e){return t.add(e)})),t}var Ri=yn("sync",(function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.getS2SBidders,o=void 0===i?ji:i,a=o(t);return nt(e).reduce((function(e,t){return e[a.has(t)?hi.SERVER:hi.CLIENT].push(t),e}),(mi(n={},hi.CLIENT,[]),mi(n,hi.SERVER,[]),n))}),"partitionBidders");function zi(e,t){var n=bi[e],r=(null==n?void 0:n.getSpec)&&n.getSpec();if(r&&r[t]&&"function"==typeof r[t])return[r,r[t]]}function Di(e,t,n,r){try{Ce("Invoking ".concat(e,".").concat(t));for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];T.runWithBidder(e,r.bind.apply(r,[n].concat(o)))}catch(n){Se("Error calling ".concat(t," of ").concat(e))}}function Bi(e,t,n){var r=zi(e,t);null!=r&&Di.apply(void 0,[e,t].concat(ci(r),[n]))}function Pi(e){for(var t=new Set;yi.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=yi[e];return e}vi.makeBidRequests=yn("sync",(function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6?arguments[6]:void 0;s=vr(s),Yt(v.FP.BEFORE_REQUEST_BIDS,e),Mo(e),e=ki(e,i);var c=Ri(e,wi),u=c[hi.CLIENT],d=c[hi.SERVER];T.getConfig("bidderSequence")===S&&(u=st(u));var l=Wr(),f=[],p=o.global||{},m=o.bidder||{};function g(e){var t=Object.freeze(Ft({},p,m[e.bidderCode]));return e.ortb2=t,e.bids.forEach((function(e){return e.ortb2=t})),e}wi.forEach((function(r){if(r&&r.enabled){var i=Si(e,r),o=i.adUnits,c=i.hasModuleBids,u=me();(0===d.length&&c?[null]:d).forEach((function(e){var i=pe(),a=s.fork(),c=g({bidderCode:e,auctionId:n,bidderRequestId:i,uniquePbsTid:u,bids:_i({bidderCode:e,auctionId:n,bidderRequestId:i,adUnits:ut(o),src:v.os.YZ,metrics:a}),auctionStart:t,timeout:r.timeout,src:v.os.YZ,refererInfo:l,metrics:a});0!==c.bids.length&&f.push(c)})),o.forEach((function(e){var t=e.bids.filter((function(e){return a(f,(function(t){return a(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),f.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=o.filter((function(e){return e.bids.length>0||null!=e.s2sBid})))}))}}));var h=xi(e);return u.forEach((function(e){var o=pe(),a=s.fork(),c=g({bidderCode:e,auctionId:n,bidderRequestId:o,bids:_i({bidderCode:e,auctionId:n,bidderRequestId:o,adUnits:ut(h),labels:i,src:"client",metrics:a}),auctionStart:t,timeout:r,refererInfo:l,metrics:a}),u=bi[e];u||xe("Trying to make a request for bidder that does not exist: ".concat(e)),u&&c.bids&&0!==c.bids.length&&f.push(c)})),f.forEach((function(e){Ei.getConsentData()&&(e.gdprConsent=Ei.getConsentData()),Ai.getConsentData()&&(e.uspConsent=Ai.getConsentData()),Ti.getConsentData()&&(e.gppConsent=Ti.getConsentData())})),f}),"makeBidRequests"),vi.callBids=function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(t.length){var c=t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===v.os.YZ)].push(t),e}),[[],[]]),u=li(c,2),d=u[0],l=u[1],f=[];l.forEach((function(e){for(var t=-1,n=0;n<f.length;++n)if(e.uniquePbsTid===f[n].uniquePbsTid){t=n;break}t<=-1&&f.push(e)}));var p=0;wi.forEach((function(e){if(e&&f[p]&&ji(e).has(f[p].bidderCode)){var t=tn(o,i?{request:i.request.bind(null,"s2s"),done:i.done}:void 0),a=e.bidders,c=bi[e.adapter],u=f[p].uniquePbsTid,d=f[p].adUnitsS2SCopy,m=l.filter((function(e){return e.uniquePbsTid===u}));if(c){var g={ad_units:d,s2sConfig:e,ortb2Fragments:s};if(g.ad_units.length){var h=m.map((function(e){return e.start=pt(),r.bind(e)})),b=nt(g.ad_units).filter((function(e){return a.includes(e)}));_e("CALLING S2S HEADER BIDDERS ==== ".concat(b.length>0?b.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),m.forEach((function(e){Yt(v.FP.BID_REQUESTED,di(di({},e),{},{tid:e.auctionId}))})),c.callBids(g,l,n,(function(){return h.forEach((function(e){return e()}))}),t)}}else xe("missing "+e.adapter);p++}})),d.forEach((function(e){e.start=pt();var t=bi[e.bidderCode];T.runWithBidder(e.bidderCode,(function(){_e("CALLING BIDDER"),Yt(v.FP.BID_REQUESTED,e)}));var s=tn(o,i?{request:i.request.bind(null,e.bidderCode),done:i.done}:void 0),c=r.bind(e);try{T.runWithBidder(e.bidderCode,le.call(t.callBids,t,e,n,c,s,a,T.callbackWithBidder(e.bidderCode)))}catch(t){xe("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),c()}}))}else Se("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},vi.videoAdapters=[],vi.registerBidAdapter=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.supportedMediaTypes,a=void 0===i?[]:i;e&&t?"function"==typeof e.callBids?(bi[t]=e,si.register(kn,t,null===(n=e.getSpec)||void 0===n?void 0:n.call(e).gvlid),o(a,"video")&&vi.videoAdapters.push(t),o(a,"native")&&Ao.push(t)):xe("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):xe("bidAdapter or bidderCode not specified")},vi.aliasBidAdapter=function(e,t,n){if(void 0===bi[t]){var r=bi[e];if(void 0===r){var i=[];wi.forEach((function(n){if(n.bidders&&n.bidders.length){var r=n&&n.bidders;n&&o(r,t)?yi[t]=e:i.push(e)}})),i.forEach((function(e){xe('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var a,s=function(e){var t=[];return o(vi.videoAdapters,e)&&t.push("video"),o(Ao,e)&&t.push("native"),t}(e);if(r.constructor.prototype!=Object.prototype)(a=new r.constructor).setBidderCode(t);else{var c=r.getSpec(),u=n&&n.gvlid,d=n&&n.skipPbsAliasing;a=Or(gi({},c,{code:t,gvlid:u,skipPbsAliasing:d})),yi[t]=e}vi.registerBidAdapter(a,t,{supportedMediaTypes:s})}catch(t){xe(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else _e('alias name "'+t+'" has been already specified.')},vi.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code,r=e.gvlid;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,Ii[n]={adapter:t,gvlid:r},si.register("analytics",n,r)):xe('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):xe("Prebid Error: analyticsAdapter or analyticsCode not specified")},vi.enableAnalytics=function(e){De(e)||(e=[e]),Me(e,(function(e){var t=Ii[e.provider];t&&t.adapter?t.adapter.enableAnalytics(e):xe("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))}))},vi.getBidAdapter=function(e){return bi[e]},vi.getAnalyticsAdapter=function(e){return Ii[e]},vi.callTimedOutBidders=function(e,t,n){t=vt(t=t.map((function(t){return t.params=yt(e,t.adUnitCode,t.bidder),t.timeout=n,t})),"bidder"),Object.keys(t).forEach((function(e){Bi(e,"onTimeout",t[e])}))},vi.callBidWonBidder=function(e,t,n){t.params=yt(n,t.adUnitCode,t.bidder),Fr.incrementBidderWinsCounter(t.adUnitCode,t.bidder),Bi(e,"onBidWon",t)},vi.callSetTargetingBidder=function(e,t){Bi(e,"onSetTargeting",t)},vi.callBidViewableBidder=function(e,t){Bi(e,"onBidViewable",t)},vi.callBidderError=function(e,t,n){Bi(e,"onBidderError",{error:t,bidderRequest:n})},vi.callDataDeletionRequest=yn("sync",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="onDataDeletionRequest";Object.keys(bi).filter((function(e){return!yi.hasOwnProperty(e)})).forEach((function(e){var n=zi(e,r);if(null!=n){var i=yo.getBidsRequested().filter((function(t){return Pi(t.bidderCode)===e}));Di.apply(void 0,[e,r].concat(ci(n),[i],t))}})),Object.entries(Ii).forEach((function(e){var n,i=li(e,2),o=i[0],a=i[1],s=null==a||null===(n=a.adapter)||void 0===n?void 0:n[r];if("function"==typeof s)try{s.apply(a.adapter,t)}catch(e){xe("error calling ".concat(r," of ").concat(o),e)}}))}));var Ni=vi;function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fi.apply(this,arguments)}function Ui(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.index,a=void 0===o?yo.index:o,s=i.bs,c=void 0===s?On:s;n=n||a.getBidRequest(t);var u=c.get((null==t?void 0:t.bidderCode)||(null===(r=n)||void 0===r?void 0:r.bidder),"bidCpmAdjustment");if(u&&"function"==typeof u)try{return u(e,Fi({},t),n)}catch(e){xe("Error during bid adjustment",e)}return e}function Mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Li.apply(this,arguments)}var Wi=Wn.syncUsers,Hi="completed";Kt(v.FP.BID_ADJUSTMENT,(function(e){!function(e){var t=Ui(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));var Vi={},Gi={},Ji=[],$i=r();function Ki(e){var t=e.adUnits,n=e.adUnitCodes,r=e.callback,i=e.cbTimeout,a=e.labels,s=e.auctionId,c=e.ortb2Fragments,u=e.metrics;u=vr(u);var d,l,f,p,m=t,g=a,h=n,b=s||me(),y=i,w=new Set,I=[],_=r,C=[],S=[],x=[],E=[],A=[];function O(){return{auctionId:b,timestamp:d,auctionEnd:l,auctionStatus:p,adUnits:m,adUnitCodes:h,labels:g,bidderRequests:C,noBids:x,bidsReceived:S,bidsRejected:I,winningBids:E,timeout:y,metrics:u,seatNonBids:A}}function k(e,n){if(n&&clearTimeout(f),void 0===l){var r=[];e&&(_e("Auction ".concat(b," timedOut")),i=w,(r=C.map((function(e){return(e.bids||[]).filter((function(e){return!i.has(e.bidder)}))})).reduce(Ze,[])).length&&Yt(v.FP.BID_TIMEOUT,r)),p=Hi,l=Date.now(),u.checkpoint("auctionEnd"),u.timeBetween("requestBids","auctionEnd","requestBids.total"),u.timeBetween("callBids","auctionEnd","requestBids.callBids"),Yt(v.FP.AUCTION_END,O()),Yi(m,(function(){try{if(null!=_){var n=h,i=S.filter(le.call(ct,this,n)).reduce(ho,{});_.apply($i,[i,e,b]),_=null}}catch(e){xe("Error executing bidsBackHandler",null,e)}finally{r.length&&Ni.callTimedOutBidders(t,r,y);var o=T.getConfig("userSync")||{};o.enableOverride||Wi(o.syncDelay)}}))}var i}function j(){T.resetBidder(),Ce("Bids Received for Auction with id: ".concat(b),S),p=Hi,k(!1,!0)}function R(e){w.add(e)}function z(e){var t=this;e.forEach((function(e){var t;t=e,C=C.concat(t)}));var n={},r={bidRequests:e,run:function(){var r,s;r=k.bind(null,!0),s=setTimeout(r,y),f=s,p="inProgress",Yt(v.FP.AUCTION_INIT,O());var u=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?yo.index:n,i=0,a=!1,s=new Set,c={},u={};function d(e,t){null==u[e]&&(u[e]=L.resolve()),u[e]=u[e].then((function(){return L.resolve(t).catch((function(){}))}))}function l(e,n){var r=e.timeout;(null==r||r>t.getTimeout())&&(r=t.getTimeout());var i=t.getAuctionStart()+r-Date.now(),o=u[e.bidderRequestId],a=u[""];(null!=o||null!=a)&&i>0?L.race([L.timeout(i),L.resolve(a).then((function(){return o}))]).then(n):n()}function f(){i--,a&&0===i&&e()}function p(e,t,n){return c[t.requestId]=!0,co(t,e),i++,n(f)}function m(e,n){p(e,n,(function(e){var r=uo(n);r.mediaType===Kn?to(t,r,e):(null!=r.native&&"object"==typeof r.native&&io(r),eo(t,r),e())}))}function g(e,n,r){return p(e,n,(function(e){var i,o=ir(v.Q_.H,null===(i=n.getIdentifiers)||void 0===i?void 0:i.call(n));return Li(o,Object.fromEntries(Object.entries(n).filter((function(e){var t=Mi(e,1)[0];return!o.hasOwnProperty(t)&&!["ad","adUrl","vastXml","vastUrl","native"].includes(t)})))),o.status=v.UE.G9,o.cpm=0,n.rejectionReason=r,Se("Bid from ".concat(n.bidder||"unknown bidder"," was rejected: ").concat(r),n),Yt(v.FP.BID_REJECTED,n),t.addBidRejected(n),e(),o}))}function h(){var n=this,r=t.getBidRequests(),u=T.getConfig("auctionOptions");if(s.add(n),u&&!Fe(u)){var d=u.secondaryBidders;d&&!r.every((function(e){return o(d,e.bidderCode)}))&&(r=r.filter((function(e){return!o(d,e.bidderCode)})))}a=r.every((function(e){return s.has(e)})),n.bids.forEach((function(e){c[e.bidId]||(t.addNoBid(e),Yt(v.FP.NO_BID,e))})),a&&0===i&&e()}return{addBidResponse:function(){function e(e,t){var n,i=r.getBidderRequest(t);d(i&&i.bidderRequestId||"",Xi.call({dispatch:m},e,t,(function(r){return null==n&&(n=g(e,t,r)),n})))}return e.reject=g,e}(),adapterDone:function(){l(this,h.bind(this))}}}(j,t);Ni.callBids(m,e,u.addBidResponse,u.adapterDone,{request:function(e,t){a(Vi,t),a(n,e),Gi[e]||(Gi[e]={SRA:!0,origin:t}),n[e]>1&&(Gi[e].SRA=!1)},done:function(e){Vi[e]--,Ji[0]&&i(Ji[0])&&Ji.shift()}},y,R,c)}};function i(e){var t=!0,n=T.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var r=1,i=void 0!==e.src&&e.src===v.os.YZ?"s2s":e.bidderCode;return Gi[i]&&(!1===Gi[i].SRA&&(r=Math.min(e.bids.length,n)),Vi[Gi[i].origin]+r>n&&(t=!1)),!t})),t&&e.run(),t}function a(e,t){void 0===e[t]?e[t]=1:e[t]++}i(r)||(Se("queueing auction due to limited endpoint capacity"),Ji.push(r))}return Kt(v.FP.SEAT_NON_BID,(function(e){var t;e.auctionId===b&&(t=e.seatnonbid,A=A.concat(t))})),{addBidReceived:function(e){S=S.concat(e)},addBidRejected:function(e){I=I.concat(e)},addNoBid:function(e){x=x.concat(e)},executeCallback:k,callBids:function(){p="started",d=Date.now();var e=u.measureTime("requestBids.makeRequests",(function(){return Ni.makeBidRequests(m,d,b,y,g,c,u)}));Ce("Bids Requested for Auction with id: ".concat(b),e),u.checkpoint("callBids"),e.length<1?(Se("No valid bid requests returned for auction"),j()):Qi.call({dispatch:z,context:this},e)},addWinningBid:function(e){E=E.concat(e),Ni.callBidWonBidder(e.adapterCode||e.bidder,e,t)},setBidTargeting:function(e){Ni.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:function(){return E},getAuctionStart:function(){return d},getTimeout:function(){return y},getAuctionId:function(){return b},getAuctionStatus:function(){return p},getAdUnits:function(){return m},getAdUnitCodes:function(){return h},getBidRequests:function(){return C},getBidsReceived:function(){return S},getNoBids:function(){return x},getNonBids:function(){return A},getFPD:function(){return c},getMetrics:function(){return u}}}var Xi=yn("sync",(function(e,t,n){this.dispatch.call(null,e,t)}),"addBidResponse"),Qi=yn("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),Yi=yn("async",(function(e,t){t&&t()}),"bidsBackCallback");function Zi(e,t){t.timeToRespond>e.getTimeout()+T.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function eo(e,t){var n,r,i;n=t,i=!0===On.get(n.bidderCode,"allowZeroCpmBids")?n.cpm>=0:n.cpm>0,n.bidderCode&&(i||n.dealId)&&(r=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?yo.index:n;if(!t)return{};var i=r.getBidRequest(t),o={},a=mo(t.mediaType,e);return go(o,a,t,i),e&&On.getOwn(e,v.k2.xn)&&(go(o,On.ownSettingsFor(e),t,i),t.sendStandardTargeting=On.get(e,"sendStandardTargeting")),t.native&&(o=Li({},o,Vo(t))),o}(n.bidderCode,n)),n.adserverTargeting=Li(n.adserverTargeting||{},r),vr(t.metrics).timeSince("addBidResponse","addBidResponse.total"),Yt(v.FP.BID_RESPONSE,t),e.addBidReceived(t),Zi(e,t)}function to(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.index,o=void 0===i?yo.index:i,a=!0,s=h(o.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),c=s&&h(s,"context"),u=s&&h(s,"useCacheKey");T.getConfig("cache.url")&&(u||c!==Hn)&&(!t.videoCacheKey||T.getConfig("cache.ignoreBidderCacheKey")?(a=!1,so(e,t,n,s)):t.vastUrl||(xe("videoCacheKey specified but not required vastUrl for video bid"),a=!1)),a&&(eo(e,t),n())}var no,ro,io=function(e){var t,n,r=null===(t=yo.index.getAdUnit(e))||void 0===t?void 0:t.nativeOrtbRequest,i=null===(n=e.native)||void 0===n?void 0:n.ortb;if(r&&i){var o=function(e,t){var n={},r=(null==t?void 0:t.assets)||[];n.clickUrl=e.link.url,n.privacyLink=e.privacy;var i=function(e){var t=r.find((function(t){return e.id===t.id}));e.title?n.title=e.title.text:e.img?n[t.img.type===jo.MAIN?"image":"icon"]={url:e.img.url,width:e.img.w,height:e.img.h}:e.data&&(n[Bo[Po[t.data.type]]]=e.data.value)};for(var o of(null==e?void 0:e.assets)||[])i(o);n.impressionTrackers=[];var a,s,c=[];for(var u of(null!=t&&t.imptrackers&&(a=n.impressionTrackers).push.apply(a,function(e){if(Array.isArray(e))return _o(e)}(s=t.imptrackers)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||Io(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),(null==e?void 0:e.eventtrackers)||[]))u.event===Fo&&u.method===No.img&&n.impressionTrackers.push(u.url),u.event===Fo&&u.method===No.js&&c.push(u.url);return c=c.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),null!=e&&e.jstracker&&c.push(e.jstracker),c.length&&(n.javascriptTrackers=c.join("\n")),n}(i,r);Li(e.native,o)}},oo=function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tn,r={puts:e.map(rn)};n(T.getConfig("cache.timeout"))(T.getConfig("cache.url"),on(t),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})}(e.map((function(e){return e.bidResponse})),(function(t,n){n.forEach((function(n,r){var i,o=e[r],a=o.auctionInstance,s=o.bidResponse,c=o.afterBidAdded;t?(Se("Failed to save to the video cache: ".concat(t,". Video bid must be discarded.")),Zi(a,s)):""===n.uuid?(Se("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),Zi(a,s)):(s.videoCacheKey=n.uuid,s.vastUrl||(s.vastUrl=(i=s.videoCacheKey,"".concat(T.getConfig("cache.url"),"?uuid=").concat(i))),eo(a,s),c())}))}))};T.getConfig("cache",(function(e){no="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,ro="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));var ao=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oo,n=[[]],r=!1,i=function(e){return e()};return function(o,a,s){var c=ro>0?e:i;n[n.length-1].length>=no&&n.push([]),n[n.length-1].push({auctionInstance:o,bidResponse:a,afterBidAdded:s}),r||(r=!0,c((function(){n.forEach(t),n=[[]],r=!1}),ro))}}(),so=yn("async",(function(e,t,n,r){ao(e,t,n)}),"callPrebidCache");function co(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?yo.index:r,o=i.getBidderRequest(e),a=i.getAdUnit(e),s=o&&o.start||e.requestTimestamp;Li(e,{responseTimestamp:e.responseTimestamp||pt(),requestTimestamp:e.requestTimestamp||s,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=(null==a?void 0:a.ttlBuffer)&&(e.ttlBuffer=a.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}function uo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.index,i=void 0===r?yo.index:r;Yt(v.FP.BID_ADJUSTMENT,e);var o=(null===(t=i.getBidRequest(e))||void 0===t?void 0:t.renderer)||i.getAdUnit(e).renderer,a=e.mediaType,s=i.getMediaTypes(e),c=s&&s[a],u=c&&c.renderer,d=null;u&&u.url&&u.render&&(!0!==u.backupOnly||!e.renderer)?d=u:o&&o.url&&o.render&&(!0!==o.backupOnly||!e.renderer)&&(d=o),d&&(e.renderer=ln.install({url:d.url,config:d.options}),e.renderer.setRender(d.render));var l=lo(e.mediaType,s,T.getConfig("mediaTypePriceGranularity")),p=f(e.cpm,"object"==typeof l?l:T.getConfig("customPriceBucket"),T.getConfig("currency.granularityMultiplier"));return e.pbLg=p.low,e.pbMg=p.med,e.pbHg=p.high,e.pbAg=p.auto,e.pbDg=p.dense,e.pbCg=p.custom,e}function lo(e,t,n){if(e&&n){if(e===Kn){var r=h(t,"".concat(Kn,".context"),"instream");if(n["".concat(Kn,"-").concat(r)])return n["".concat(Kn,"-").concat(r)]}return n[e]}}var fo=function(e){return function(t){var n=e||function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=void 0===t?yo.index:t,r=lo(e.mediaType,n.getMediaTypes(e),T.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&r?"string"==typeof r?r:"custom":T.getConfig("priceGranularity")}(t);return n===v.Ql.B7?t.pbAg:n===v.Ql.uN?t.pbDg:n===v.Ql.yE?t.pbLg:n===v.Ql.M2?t.pbMg:n===v.Ql.lj?t.pbHg:n===v.Ql.qN?t.pbCg:void 0}};function po(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return tt(e,t)}}}function mo(e,t){var n=v.TD,r=Li({},On.settingsFor(null));if(r[v.k2.xn]||(r[v.k2.xn]=function(){var e=v.TD;return[po(e.BIDDER,"bidderCode"),po(e.AD_ID,"adId"),po(e.PRICE_BUCKET,fo()),po(e.SIZE,"size"),po(e.DEAL,"dealId"),po(e.SOURCE,"source"),po(e.FORMAT,"mediaType"),po(e.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:""})),po(e.ACAT,(function(e){return e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:""}))]}()),"video"===e){var i=r[v.k2.xn].slice();if(r[v.k2.xn]=i,[n.UUID,n.CACHE_ID].forEach((function(e){void 0===a(i,(function(t){return t.key===e}))&&i.push(po(e,"videoCacheKey"))})),T.getConfig("cache.url")&&(!t||!1!==On.get(t,"sendStandardTargeting"))){var o=Bt(T.getConfig("cache.url"));void 0===a(i,(function(e){return e.key===n.CACHE_HOST}))&&i.push(po(n.CACHE_HOST,(function(e){return h(e,"adserverTargeting.".concat(n.CACHE_HOST))?e.adserverTargeting[n.CACHE_HOST]:o.hostname})))}}return r}function go(e,t,n,r){var i=t[v.k2.xn];return n.size=n.getSize(),Me(i,(function(i){var o=i.key,a=i.val;if(e[o]&&Se("The key: "+o+" is being overwritten"),Re(a))try{a=a(n,r)}catch(e){xe("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==v.TD.DEAL&&o!==v.TD.ACAT||!Ue(a)&&null!=a?e[o]=a:Ce("suppressing empty key '"+o+"' from adserver targeting")})),e}function ho(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vo.apply(this,arguments)}function bo(e){vo(this,{getAuction:function(t){var n=t.auctionId;if(null!=n)return e().find((function(e){return e.getAuctionId()===n}))},getAdUnit:function(t){var n=t.transactionId;if(null!=n)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.transactionId===n}))},getMediaTypes:function(e){var t=e.transactionId,n=e.requestId;if(null!=n){var r=this.getBidRequest({requestId:n});if(null!=r&&(null==t||r.transactionId===t))return r.mediaTypes}else if(null!=t){var i=this.getAdUnit({transactionId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var n=t.requestId,r=t.bidderRequestId;if(null!=n||null!=r){var i=e().flatMap((function(e){return e.getBidRequests()}));return null!=r&&(i=i.filter((function(e){return e.bidderRequestId===r}))),null==n?i[0]:i.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===n}))}))}},getBidRequest:function(t){var n=t.requestId;if(null!=n)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===n}))}})}var yo=function(){var e=[],t={addWinningBid:function(t){var n=vr(t.metrics);n.checkpoint("bidWon"),n.timeBetween("auctionEnd","bidWon","render.pending"),n.timeBetween("requestBids","bidWon","render.e2e");var r=a(e,(function(e){return e.getAuctionId()===t.auctionId}));r?(t.status=v.UE.fe,r.addWinningBid(t)):Se("Auction not found when adding winning bid")},getAllWinningBids:function(){return e.map((function(e){return e.getWinningBids()})).reduce(Ze,[])},getBidsRequested:function(){return e.map((function(e){return e.getBidRequests()})).reduce(Ze,[])},getNoBids:function(){return e.map((function(e){return e.getNoBids()})).reduce(Ze,[])},getBidsReceived:function(){return e.map((function(e){if(e.getAuctionStatus()===Hi)return e.getBidsReceived()})).reduce(Ze,[]).filter((function(e){return e}))},getAllBidsForAdUnitCode:function(t){return e.map((function(e){return e.getBidsReceived()})).reduce(Ze,[]).filter((function(e){return e&&e.adUnitCode===t}))},getAdUnits:function(){return e.map((function(e){return e.getAdUnits()})).reduce(Ze,[])},getAdUnitCodes:function(){return e.map((function(e){return e.getAdUnitCodes()})).reduce(Ze,[]).filter(Ye)},createAuction:function(t){var n=Ki(t);return function(t){e.push(t)}(n),n},findBidByAdId:function(t){return a(e.map((function(e){return e.getBidsReceived()})).reduce(Ze,[]),(function(e){return e.adId===t}))},getStandardBidderAdServerTargeting:function(){return mo()[v.k2.xn]},setStatusForBids:function(n,r){var i=t.findBidByAdId(n);if(i&&(i.status=r),i&&r===v.UE.CK){var o=a(e,(function(e){return e.getAuctionId()===i.auctionId}));o&&o.setBidTargeting(i)}},getLastAuctionId:function(){return e.length&&e[e.length-1].getAuctionId()},clearAllAuctions:function(){e.length=0}};return t.index=new bo((function(){return e})),t}();function wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Io(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){if(e){if("string"==typeof e)return _o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_o(e,t):void 0}}function _o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Co.apply(this,arguments)}function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?So(Object(n),!0).forEach((function(t){Eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ao=[],To=Object.keys(v.FY).map((function(e){return v.FY[e]})),Oo={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},ko=v.s$,jo=v.oF,Ro=v.V1,zo=v.zA,Do=v.FY,Bo=Yo(Ro),Po=Yo(ko),No={img:1,js:2,1:"img",2:"js"},Fo=1;function Uo(e){if(e&&e.type&&(!(!(t=e.type)||!o(Object.keys(Oo),t))||(xe("".concat(t," nativeParam is not supported")),!1))&&(e=Oo[e.type]),!e||!e.ortb||qo(e.ortb))return e;var t}function Mo(e){e.forEach((function(e){var t=e.nativeParams||h(e,"mediaTypes.native");t&&(e.nativeParams=Uo(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(e||Pe(e)){var t={ver:"1.2",assets:[]};for(var n in e)if(!zo.includes(n))if(Do.hasOwnProperty(n)){var r=e[n],i=0;r.required&&Ne(r.required)&&(i=Number(r.required));var o={id:t.assets.length,required:i};if(n in Ro)o.data={type:ko[Ro[n]]},r.len&&(o.data.len=r.len);else if("icon"===n||"image"===n){if(o.img={type:"icon"===n?jo.ICON:jo.MAIN},r.aspect_ratios)if(De(r.aspect_ratios))if(r.aspect_ratios.length){var a=r.aspect_ratios[0],s=a.min_width,c=a.min_height;xt(s)&&xt(c)?(o.img.wmin=s,o.img.hmin=c):xe("image.aspect_ratios min_width or min_height are invalid: ",s,c);var u=r.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));u.length>0&&(o.img.ext={aspectratios:u})}else xe("image.aspect_ratios was passed, but it's empty:",r.aspect_ratios);else xe("image.aspect_ratios was passed, but it's not a an array:",r.aspect_ratios);r.sizes&&(2===r.sizes.length&&xt(r.sizes[0])&&xt(r.sizes[1])?(o.img.w=r.sizes[0],o.img.h=r.sizes[1],delete o.img.hmin,delete o.img.wmin):xe("image.sizes was passed, but its value is not an array of integers:",r.sizes))}else"title"===n?o.title={len:r.len||140}:"ext"===n&&(o.ext=r,delete o.required);t.assets.push(o)}else xe("Unrecognized native asset code: ".concat(n,". Asset will be ignored."));return t}xe("Native assets object is empty or not an object: ",e)}(e.nativeParams))}))}function qo(e){var t=e.assets;if(!Array.isArray(t)||0===t.length)return xe("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;var n=t.map((function(e){return e.id}));return t.length!==new Set(n).size||n.some((function(e){return e!==parseInt(e,10)}))?(xe("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?(xe("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((function(e){return function(e){if(!Pe(e))return xe("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!Be(e.img.w)&&!Be(e.img.wmin))return xe("for img asset there must be 'w' or 'wmin' property"),!1;if(!Be(e.img.h)&&!Be(e.img.hmin))return xe("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!Be(e.title.len))return xe("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!Be(e.data.type))return xe("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&Be(e.video.minduration)&&Be(e.video.maxduration)))return xe("video asset is not properly configured"),!1;return!0}(e)}))}function Lo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.index,i=void 0===r?yo.index:r,o=i.getAdUnit(e);if(!o)return!1;var a=o.nativeOrtbRequest,s=(null===(t=e.native)||void 0===t?void 0:t.ortb)||Qo(e.native,a);return Wo(s,a)}function Wo(e,t){if(!h(e,"link.url"))return xe("native response doesn't have 'link' property. Ortb response: ",e),!1;var n=t.assets.filter((function(e){return 1===e.required})).map((function(e){return e.id})),r=e.assets.map((function(e){return e.id})),i=n.every((function(e){return o(r,e)}));return i||xe("didn't receive a bid with all required assets. Required ids: ".concat(n,", but received ids in response: ").concat(r)),i}function Ho(e,t){var n=t.native.ortb||Xo(t.native);return"click"===e.action?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fetchURL,r=void 0===n?Ge:n;if(t){var i,o=(e.assets||[]).filter((function(e){return e.link})).reduce((function(e,t){return e[t.id]=t.link,e}),{}),a=(null===(i=e.link)||void 0===i?void 0:i.clicktrackers)||[],s=o[t],c=a;s&&(c=s.clicktrackers||[]),c.forEach((function(e){return r(e)}))}else{var u;((null===(u=e.link)||void 0===u?void 0:u.clicktrackers)||[]).forEach((function(e){return r(e)}))}}(n,null==e?void 0:e.assetId):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.runMarkup,r=void 0===n?function(e){return $e(e)}:n,i=t.fetchURL,o=void 0===i?Ge:i,a=(e.eventtrackers||[]).filter((function(e){return e.event===Fo})).reduce((function(e,t){return No.hasOwnProperty(t.method)&&e[No[t.method]].push(t.url),e}),{img:[],js:[]}),s=a.img,c=a.js;e.imptrackers&&(s=s.concat(e.imptrackers)),s.forEach((function(e){return o(e)})),c=c.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),e.jstracker&&(c=c.concat([e.jstracker])),c.length&&r(c.join("\n"))}(n),e.action}function Vo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?yo.index:n,i={},o=r.getAdUnit(e);h(o,"nativeParams.rendererUrl")?e.native.rendererUrl=Jo(o.nativeParams.rendererUrl):h(o,"nativeParams.adTemplate")&&(e.native.adTemplate=Jo(o.nativeParams.adTemplate));var a=!1!==h(o,"nativeParams.sendTargetingKeys"),s=$o(o),c=xo(xo({},e.native),e.native.ext);return delete c.ext,Object.keys(c).forEach((function(t){var n=s[t],r=Jo(e.native[t])||Jo(h(e,"native.ext.".concat(t)));if("adTemplate"!==t&&n&&r){var c=h(o,"nativeParams.".concat(t,".sendId"));"boolean"!=typeof c&&(c=h(o,"nativeParams.ext.".concat(t,".sendId"))),c&&(r="".concat(n,":").concat(e.adId));var u=h(o,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof u&&(u=h(o,"nativeParams.ext.".concat(t,".sendTargetingKeys"))),("boolean"==typeof u?u:a)&&(i[n]=r)}})),i}function Go(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=o.index,s=void 0===a?yo.index:a,c={message:"assetResponse",adId:e.adId},u=s.getAdUnit(t),d=t.native;return t.native.ortb?c.ortb=t.native.ortb:null!==(r=u.mediaTypes)&&void 0!==r&&null!==(i=r.native)&&void 0!==i&&i.ortb&&(c.ortb=Qo(t.native,u.nativeOrtbRequest)),c.assets=[],(null==n?Object.keys(d):n).forEach((function(e){if("adTemplate"===e&&d[e])c.adTemplate=Jo(d[e]);else if("rendererUrl"===e&&d[e])c.rendererUrl=Jo(d[e]);else if("ext"===e)Object.keys(d[e]).forEach((function(t){if(d[e][t]){var n=Jo(d[e][t]);c.assets.push({key:t,value:n})}}));else if(d[e]&&v.FY.hasOwnProperty(e)){var t=Jo(d[e]);c.assets.push({key:e,value:t})}})),c}function Jo(e){return(null==e?void 0:e.url)||e}function $o(e){var t={};return h(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_".concat(e)})),xo(xo({},v.FY),t)}function Ko(e){if(qo(e)){var t={},n=function(e){if(e.title){var n={required:!!e.required&&Boolean(e.required),len:e.title.len};t.title=n}else if(e.img){var r={required:!!e.required&&Boolean(e.required)};e.img.w&&e.img.h?r.sizes=[e.img.w,e.img.h]:e.img.wmin&&e.img.hmin&&(r.aspect_ratios={min_width:e.img.wmin,min_height:e.img.hmin,ratio_width:e.img.wmin,ratio_height:e.img.hmin}),e.img.type===jo.MAIN?t.image=r:t.icon=r}else if(e.data){var i=Object.keys(ko).find((function(t){return ko[t]===e.data.type})),o=Object.keys(Ro).find((function(e){return Ro[e]===i}));t[o]={required:!!e.required&&Boolean(e.required)},e.data.len&&(t[o].len=e.data.len)}};for(var r of e.assets)n(r);return t}}function Xo(e){var t={link:{},eventtrackers:[]};return Object.entries(e).forEach((function(e){var n=wo(e,2),r=n[0],i=n[1];switch(r){case"clickUrl":t.link.url=i;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(i)?i:[i];break;case"impressionTrackers":(Array.isArray(i)?i:[i]).forEach((function(e){t.eventtrackers.push({event:Fo,method:No.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(i)?i.join(""):i}})),t}function Qo(e,t){var n=xo(xo({},Xo(e)),{},{assets:[]});function r(e,r){var i=t.assets.find(e);null!=i&&(r(i=ut(i)),n.assets.push(i))}return Object.keys(e).filter((function(t){return!!e[t]})).forEach((function(t){var n=Jo(e[t]);switch(t){case"title":r((function(e){return null!=e.title}),(function(e){e.title={text:n}}));break;case"image":case"icon":var i="image"===t?jo.MAIN:jo.ICON;r((function(e){return null!=e.img&&e.img.type===i}),(function(e){e.img={url:n}}));break;default:t in Ro&&r((function(e){return null!=e.data&&e.data.type===ko[Ro[t]]}),(function(e){e.data={value:n}}))}})),n}function Yo(e){var t={};for(var n in e)t[e[n]]=n;return t}var Zo=v.FP,ea=Zo.AD_RENDER_FAILED,ta=Zo.AD_RENDER_SUCCEEDED;function na(e){var t=e.reason,n=e.message,r=e.bid,i=e.id,o={reason:t,message:n};r&&(o.bid=r),i&&(o.adId=i),xe(n),Yt(ea,o)}function ra(e){var t=e.doc,n=e.bid,r=e.id,i={doc:t};n&&(i.bid=n),r&&(i.adId=r),Yt(ta,i)}function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia.apply(this,arguments)}var oa=v.FP.BID_WON,aa=v.FP.STALE_RENDER,sa=new WeakSet,ca={"Prebid Request":function(e,t,n){if(null!=n){if(n.status!==v.UE.fe||(Se("Ad id ".concat(n.adId," has been rendered before")),Yt(aa,n),!h(T.getConfig("auctionOptions"),"suppressStaleRender"))){try{!function(e,t){var n=e.adId,r=e.ad,i=e.adUrl,o=e.width,a=e.height,s=e.renderer,c=e.cpm,u=e.originalCpm;fn(s)?pn(s,e):n&&(da(e),t({message:"Prebid Response",ad:lt(r,u||c),adUrl:lt(i,u||c),adId:n,width:o,height:a}))}(n,e)}catch(e){return void na({reason:v.q_.EXCEPTION,message:e.message,id:t.adId,bid:n})}yo.addWinningBid(n),Yt(oa,n)}}else na({reason:v.q_.CANNOT_FIND_AD,message:"Cannot find ad for cross-origin render request: '".concat(t.adId,"'"),id:t.adId})},"Prebid Event":function(e,t,n){if(null!=n)if(n.status===v.UE.fe)switch(t.event){case v.FP.AD_RENDER_FAILED:na({bid:n,id:t.adId,reason:t.info.reason,message:t.info.message});break;case v.FP.AD_RENDER_SUCCEEDED:ra({doc:null,bid:n,id:t.adId});break;default:xe("Received x-origin event request for unsupported event: '".concat(t.event,"' (adId: '").concat(t.adId,"')"))}else Se("Received x-origin event request without corresponding render request for ad '".concat(t.adId,"'"));else xe("Cannot find ad '".concat(t.adId,"' for x-origin event request"))}};function ua(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(e){return}if(n&&n.adId&&n.message){var r=a(yo.getBidsReceived(),(function(e){return e.adId===n.adId}));ca.hasOwnProperty(n.message)&&ca[n.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw xe(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),n,r)}}function da(e){var t=e.adId,n=e.adUnitCode,r=e.width,i=e.height;["div","iframe"].forEach((function(e){var s=function(e){var r=function(e,t){return rt()?function(e){var t=a(window.googletag.pubads().getSlots(),(function(t){return a(t.getTargetingKeys(),(function(n){return o(t.getTargeting(n),e)}))}));return t?t.getSlotElementId():null}(e):function(){if(window.apntag&&Re(window.apntag.getTag))return!0}()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,n),i=document.getElementById(r);return i&&i.querySelector(e)}(e+':not([style*="display: none"])');if(s){var c=s.style;c.width=r?r+"px":"100%",c.height=i+"px"}else Se("Unable to locate matching page element for adUnitCode ".concat(n,".  Can't resize it to ad's dimensions.  Please review setup."))}))}function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},la.apply(this,arguments)}function fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pa(e){return function(e){if(Array.isArray(e))return ma(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ma(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ia(ca,{"Prebid Native":function(e,t,n){if(null!=n)switch(sa.has(n)||(sa.add(n),yo.addWinningBid(n),Yt(oa,n)),t.action){case"assetRequest":e(function(e,t){var n=e.assets.map((function(e){return function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n}(v.FY,e)}));return Go(e,t,n)}(t,n));break;case"allAssetRequest":e(function(e,t){return Go(e,t,null)}(t,n));break;case"resizeNativeHeight":n.height=t.height,n.width=t.width,da(n);break;default:Ho(t,n)}else xe("Cannot find ad for x-origin event request: '".concat(t.adId,"'"))}});var ga=[],ha=1;T.getConfig("ttlBuffer",(function(e){"number"==typeof e.ttlBuffer?ha=e.ttlBuffer:xe("Invalid value for ttlBuffer",e.ttlBuffer)}));var va="targetingControls.allowTargetingKeys",ba="targetingControls.addTargetingKeys",ya='Only one of "'.concat(va,'" or "').concat(ba,'" can be set'),wa=Object.keys(v.TD).map((function(e){return v.TD[e]})),Ia={isActualBid:function(e){return e.getStatusCode()===v.Q_.Q},isBidNotExpired:function(e){return e.responseTimestamp+1e3*(e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:ha))>pt()},isUnusedBid:function(e){return e&&(e.status&&!o([v.UE.fe],e.status)||!e.status)}};function _a(e){return!Object.values(Ia).some((function(t){return!t(e)}))}var Ca=yn("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r){var i=[],o=T.getConfig("sendBidsControl.dealPrioritization"),a=vt(e,"adUnitCode");return Object.keys(a).forEach((function(e){var r=[],s=vt(a[e],"bidderCode");Object.keys(s).forEach((function(e){return r.push(s[e].reduce(t))})),n>0?(r=o?r.sort(Sa(!0)):r.sort((function(e,t){return t.cpm-e.cpm})),i.push.apply(i,pa(r.slice(0,n)))):i.push.apply(i,pa(r))})),i}return e}));function Sa(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var xa=function(e){var t={},n={};function r(e,t){return e.adserverTargeting&&t&&(De(t)&&o(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function i(e,t){if(!0===T.getConfig("targetingControls.alwaysIncludeDeals")){var n=wa.concat(To);return Ca(t,it).map((function(t){if(t.dealId&&r(t,e))return fa({},t.adUnitCode,I(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function s(e,t){var n=la({},v.TD,v.FY),r=Object.keys(n),i={};Ce("allowTargetingKeys - allowed keys [ ".concat(t.map((function(e){return n[e]})).join(", ")," ]")),e.map((function(e){var o=Object.keys(e)[0],s=e[o].filter((function(e){var o=Object.keys(e)[0],s=0===r.filter((function(e){return 0===o.indexOf(n[e])})).length||a(t,(function(e){var t=n[e];return 0===o.indexOf(t)}));return i[o]=!s,s}));e[o]=s}));var o=Object.keys(i).filter((function(e){return i[e]}));return Ce("allowTargetingKeys - removed keys [ ".concat(o.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function c(e,t){var n=ut(e);return Object.keys(n).map((function(e){return{adUnitCode:e,adserverTargeting:n[e]}})).sort(Sa()).reduce((function(e,r,i,o){var a,s=(a=r.adserverTargeting,Object.keys(a).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(a[t]),"%26")}),""));i+1===o.length&&(s=s.slice(0,-3));var c=r.adUnitCode,u=s.length;return u<=t?(t-=u,Ce("AdUnit '".concat(c,"' auction keys comprised of ").concat(u," characters.  Deducted from running threshold; new limit is ").concat(t),n[c]),e[c]=n[c]):Se("The following keys for adUnitCode '".concat(c,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(u,", the current allotted amount was ").concat(t,".\n"),n[c]),i+1===o.length&&0===Object.keys(e).length&&xe("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function u(e){var t=e.map((function(e){return fa({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return fa({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))})).reduce((function(e,t){return la(t,e)}),{}))})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=la({},e[n],t[n]),e}),{});return t}function d(t){return"string"==typeof t?[t]:De(t)?t:e.getAdUnitCodes()||[]}function l(){var t=e.getBidsReceived();if(T.getConfig("useBidCache")){var r=T.getConfig("bidCacheFilterFunction");"function"==typeof r&&(t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId||!!r(e)})))}else t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId}));return t=t.filter((function(e){return h(e,"video.context")!==Qn})).filter(_a),Ca(t,ot)}function f(e,n){var r=t.getWinningBids(e,n),i=p();return r=r.map((function(e){return fa({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,n){var r=[e.adserverTargeting[n]],i=fa({},n.substring(0,20),r);if(n===v.TD.DEAL){var o=fa({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),r);return[].concat(pa(t),[i,o])}return[].concat(pa(t),[i])}),[]))})),r}function p(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(wa).filter(Ye)}function m(e,t,n,r){return Object.keys(t.adserverTargeting).filter(g()).forEach((function(n){e.length&&e.filter(function(e){return function(n){return n.adUnitCode===t.adUnitCode&&n.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){De(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(Ye),delete t.adserverTargeting[e]}}(n))})),e.push(t),e}function g(){var e=p();return e=e.concat(To),function(t){return-1===e.indexOf(t)}}function b(e){return fa({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(g()).map((function(t){return fa({},t.substring(0,20),[e.adserverTargeting[t]])})))}function y(e,t){return t.filter((function(t){return o(e,t.adUnitCode)})).map((function(e){return la({},e)})).reduce(m,[]).map(b).filter((function(e){return e}))}function w(e,t){var n=wa.concat(To),i=T.getConfig("sendBidsControl.bidLimit"),o=Ca(t,it,i),a=T.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),s=a?a.map((function(e){return v.TD[e]})):n;return o.map((function(t){if(r(t,e))return fa({},t.adUnitCode,I(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==s.indexOf(e)}))))})).filter((function(e){return e}))}function I(e,t){return t.map((function(t){return fa({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}function _(t){function n(e){return h(e,v.k2.xn)}return e.getAdUnits().filter((function(e){return o(t,e.code)&&n(e)})).map((function(e){return fa({},e.code,function(e){var t=n(e);return Object.keys(t).map((function(e){return ze(t[e])&&(t[e]=t[e].split(",").map((function(e){return e.trim()}))),De(t[e])||(t[e]=[t[e]]),fa({},e,t[e])}))}(e))}))}return t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(t,n){if(rt()){var r=d(t),i=e.getAdUnits().filter((function(e){return o(r,e.code)})),a=ga.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var t=Re(n)&&n(e);i.forEach((function(n){(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||Re(t)&&t(n.code))&&e.updateTargetingFromMap(a)}))}))}},t.resetPresetTargetingAST=function(e){d(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach((function(e){o(ga,e.toLowerCase())||(r[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:r})}}))},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l(),n=d(e),r=f(n,t).concat(y(n,t)).concat(T.getConfig("enableSendAllBids")?w(n,t):i(n,t)).concat(_(n));r.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===ga.indexOf(Object.keys(e)[0])&&(ga=Object.keys(e).concat(ga))}))}))}));var o=Object.keys(la({},v.kF,v.FY)),a=T.getConfig(va),p=T.getConfig(ba);if(null!=p&&null!=a)throw new Error(ya);a=null!=p?o.concat(p):a||o,Array.isArray(a)&&a.length>0&&(r=s(r,a)),r=u(r);var m=T.getConfig("targetingControls.auctionKeyMaxChars");return m&&(Ce("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(m," characters.  Running checks on auction keys...")),r=c(r,m)),n.forEach((function(e){r[e]||(r[e]={})})),r},T.getConfig("targetingControls",(function(e){null!=h(e,va)&&null!=h(e,ba)&&xe(ya)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(n){Object.keys(e).filter(t?t(n):function(e){return function(t){return It(e,t)}}(n)).forEach((function(t){Object.keys(e[t]).forEach((function(n){var r=e[t][n];"string"==typeof r&&-1!==r.indexOf(",")&&(r=r.split(",")),e[t][n]=r})),_e("Attempting to set targeting-map for slot: ".concat(n.getSlotElementId()," with targeting-map:"),e[t]),n.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l(),n=d(e);return t.filter((function(e){return o(n,e.adUnitCode)})).filter((function(e){return!0===On.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter(Ye).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(it)}))},t.setTargetingForAst=function(e){var n=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){xe("unable to reset targeting for AST"+e)}Object.keys(n).forEach((function(e){return Object.keys(n[e]).forEach((function(t){if(_e("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(n[e][t])),ze(n[e][t])||De(n[e][t])){var r={};t.search(/pt[0-9]/)<0?r[t.toUpperCase()]=n[e][t]:r[t]=n[e][t],window.apntag.setKeywords(e,r,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&Re(window.apntag.setKeywords))return!0},t}(yo),Ea="__pbjs_debugging__";function Aa(){return r().installedModules.includes("debugging")}function Ta(e){return new L((function(t){cn(e,"debugging",t)}))}function Oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alreadyInstalled,n=void 0===t?Aa:t,i=e.script,o=void 0===i?Ta:i,a=null;return function(){return null==a&&(a=new L((function(e,t){setTimeout((function(){if(n())e();else{var i="https://cdn.jsdelivr.net/npm/prebid.js@7.48.0/dist/debugging-standalone.js";_e('Debugging module not installed, loading it from "'.concat(i,'"...')),r()._installDebugging=!0,o(i).then((function(){r()._installDebugging({DEBUG_KEY:Ea,hook:yn,config:T,createBid:ir,logger:Ee("DEBUG:")})})).then(e,t)}}))}))),a}}var ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.load,n=void 0===t?Oa():t,r=e.hook,i=void 0===r?_n("requestBids"):r,o=null,a=!1;function s(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(o||L.resolve()).then((function(){return e.apply(t,r)}))}function c(){a||(o=n(),i.before(s,99),a=!0)}function u(){i.getHooks({hook:s}).remove(),a=!1}function d(){o=null,u()}return{enable:c,disable:u,reset:d}}();ka.reset,T.getConfig("debugging",(function(e){var t=e.debugging;null!=t&&t.enabled?ka.enable():ka.disable()}));var ja=Fn(),Ra=Ut((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;if(!ja.cookiesAreEnabled())return e;var t,n,r=e.split(".");if(2===r.length)return e;var i=-2,o="_rdc".concat(Date.now()),a="writeable";do{t=r.slice(i).join(".");var s=new Date(pt()+1e4).toUTCString();ja.setCookie(o,a,s,"Lax",t,void 0);var c=ja.getCookie(o,void 0);c===a?(n=!1,ja.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(i+=-1,n=Math.abs(i)<=r.length)}while(n);return t})),za=["architecture","bitness","model","platformVersion","fullVersionList"],Da=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,n=Fe(t)?null:Object.freeze(Pa(1,t));return function(){return n}}(),Ba=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,n={},r=new WeakMap;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za;if(!r.has(e)){var i=Array.from(e);i.sort(),r.set(e,i.join("|"))}var o=r.get(e);if(!n.hasOwnProperty(o))try{n[o]=t.getHighEntropyValues(e).then((function(e){return Fe(e)?null:Object.freeze(Pa(2,e))})).catch((function(){return null}))}catch(e){n[o]=L.resolve(null)}return n[o]}}();function Pa(e,t){function n(e,t){var n={brand:e};return ze(t)&&!Ue(t)&&(n.version=t.split(".")),n}var r={source:e};return t.platform&&(r.platform=n(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(r.browsers=(t.fullVersionList||t.brands).map((function(e){return n(e.brand,e.version)}))),t.hasOwnProperty("mobile")&&(r.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((function(e){var n=t[e];ze(n)&&(r[e]=n)})),r}var Na=["dooh","app","site"];function Fa(e){return function(t){return Na.reduce((function(n,r){return Ua(t,r)&&(null!=n?(Se("".concat(e," specifies both '").concat(n,"' and '").concat(r,"'; dropping the latter.")),delete t[r]):n=r),n}),null),t}}function Ua(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ma.apply(this,arguments)}function qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return La(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wa={getRefererInfo:Wr,findRootDomain:Ra,getWindowTop:ye,getWindowSelf:we,getHighEntropySUA:Ba,getLowEntropySUA:Da},Ha=Fa("FPD"),Va=yn("sync",(function(e){return L.all([e,(t=T.getConfig("firstPartyData.uaHints"),Array.isArray(t)&&0!==t.length?Wa.getHighEntropySUA(t):L.resolve(Wa.getLowEntropySUA())).catch((function(){return null}))]).then((function(e){var t=qa(e,2),n=t[0],r=t[1],i=Wa.getRefererInfo();for(var o of(function(e){["app","site","device"].forEach((function(t){var n=T.getConfig(t);null!=n&&(e[t]=Ft({},n,e[t]))}))}(n),Object.entries($a).forEach((function(e){var t=qa(e,2),r=t[0],o=(0,t[1])(n,i);o&&Object.keys(o).length>0&&(n[r]=Ft({},o,n[r]))})),r&&Mt(n,"device.sua",Ma({},r,n.device.sua)),n=Ha(n),Na))if(Ua(n,o)){n[o]=Ft({},Ka(0,i),n[o]);break}return n}));var t}));function Ga(e){try{return e(Wa.getWindowTop())}catch(t){return e(Wa.getWindowSelf())}}function Ja(e){return bt(e,Object.keys(e))}var $a={site:function(e,t){if(!Na.filter((function(e){return"site"!==e})).some(Ua.bind(null,e)))return Ja({page:t.page,ref:t.ref})},device:function(){return Ga((function(e){return{w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:wt()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()}}))},regs:function(){var e={};Ga((function(e){return e.navigator.globalPrivacyControl}))&&Mt(e,"ext.gpc",1);var t=T.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function Ka(e,t){var n,r,i,o=Mr(t.page,{noLeadingWww:!0}),a=null===(n=Ga((function(e){return e.document.querySelector("meta[name='keywords']")})))||void 0===n||null===(r=n.content)||void 0===r||null===(i=r.replace)||void 0===i?void 0:i.call(r,/\s/g,"");return Ja({domain:o,keywords:a,publisher:Ja({domain:Wa.findRootDomain(o)})})}function Xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ya.apply(this,arguments)}var Za=r(),es=Wn.triggerUserSyncs,ts=v.FP,ns=ts.ADD_AD_UNITS,rs=ts.BID_WON,is=ts.REQUEST_BIDS,os=ts.SET_TARGETING,as=ts.STALE_RENDER,ss=v.q_,cs=ss.PREVENT_WRITING_ON_MAIN_DOCUMENT,us=ss.NO_AD,ds=ss.EXCEPTION,ls=ss.CANNOT_FIND_AD,fs=ss.MISSING_DOC_OR_ADID,ps={bidWon:function(e){if(qe(yo.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(Ze).filter(Ye),e))return!0;xe('The "'+e+'" placement is not defined.')}};function ms(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function gs(e,t){var n=[];return De(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return kt(e,2)}))?n=e:kt(e,2)&&n.push(e)),n}function hs(e){var t=ut(e),n=t.mediaTypes.banner,r=gs(n.sizes);return r.length>0?(n.sizes=r,t.sizes=r):(xe("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function vs(e){var t=ut(e),n=t.mediaTypes.video;if(n.playerSize){var r="number"==typeof n.playerSize[0]?2:1,i=gs(n.playerSize,r);i.length>0?(2===r&&Ce("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=i,t.sizes=i):(xe("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function bs(e){var t=ut(e),n=t.mediaTypes.native;if(n.ortb){var r=Object.keys(v.FY).filter((function(e){return v.FY[e].includes("hb_native_")})),i=Object.keys(n).filter((function(e){return r.includes(e)}));i.length>0&&(xe("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(i," keys from request.")),i.forEach((function(e){return delete t.mediaTypes.native[e]})))}return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&(xe("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&(xe("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&(xe("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function ys(e,t){var n=h(e,"mediaTypes.".concat(t,".pos"));if(!Be(n)||isNaN(n)||!isFinite(n)){var r="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");Se(r),Yt(v.FP.AUCTION_DEBUG,{type:"WARNING",arguments:r}),delete e.mediaTypes[t].pos}return e}function ws(e){var t=function(t){return"adUnit.code '".concat(e.code,"' ").concat(t)},n=e.mediaTypes,r=e.bids;return null==r||De(r)?null==r&&null==e.ortb2Imp?(xe(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):n&&0!==Object.keys(n).length?(null==e.ortb2Imp||null!=r&&0!==r.length||(e.bids=[{bidder:null}],_e(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):(xe(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):(xe(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){var e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){var t=ka,n=null;try{n=e.getItem(Ea)}catch(e){}null!==n&&t.enable()}}(),Za.bidderSettings=Za.bidderSettings||{},Za.libLoaded=!0,Za.version="v7.48.0",Ce("Prebid.js v7.48.0 loaded"),Za.installedModules=Za.installedModules||[],Za.adUnits=Za.adUnits||[],Za.triggerUserSyncs=es;var Is={validateAdUnit:ws,validateBannerMediaType:hs,validateSizes:gs};Ya(Is,{validateNativeMediaType:bs}),Ya(Is,{validateVideoMediaType:vs});var _s,Cs=yn("sync",(function(e){var t=[];return e.forEach((function(e){if(null!=(e=ws(e))){var n,r,i,o=e.mediaTypes;o.banner&&(n=hs(e),o.banner.hasOwnProperty("pos")&&(n=ys(n,"banner"))),o.video&&(r=vs(n||e),o.video.hasOwnProperty("pos")&&(r=ys(r,"video"))),o.native&&(i=bs(r||n||e));var a=Ya({},n,r,i);t.push(a)}})),t}),"checkAdUnitSetup");function Ss(e){var t=yo[e]().filter(le.call(ct,this,yo.getAdUnitCodes())),n=yo.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(Ye).map((function(e){return t.filter((function(t){return t.auctionId===n&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return t={},n=e[0].adUnitCode,r={bids:e},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r})).reduce((function(e,t){return Ya(e,t)}),{})}function xs(e,t,n){var r=t.querySelector(n);e.parentNode&&e.parentNode===r||He(e,t,n)}Za.getAdserverTargetingForAdUnitCodeStr=function(e){if(Ce("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=Za.getAdserverTargetingForAdUnitCode(e);return he(t)}_e("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Za.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=yo.getAllBidsForAdUnitCode(e).filter(_a);return t.length?t.reduce(it):{}}_e("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},Za.getAdserverTargetingForAdUnitCode=function(e){return Za.getAdserverTargeting(e)[e]},Za.getAdserverTargeting=function(e){return Ce("Invoking pbjs.getAdserverTargeting",arguments),xa.getAllTargeting(e)},Za.getConsentMetadata=function(){return Ce("Invoking pbjs.getConsentMetadata"),{gdpr:Ei.getConsentMeta(),usp:Ai.getConsentMeta(),gpp:Ti.getConsentMeta(),coppa:!!T.getConfig("coppa")}},Za.getNoBids=function(){return Ce("Invoking pbjs.getNoBids",arguments),Ss("getNoBids")},Za.getNoBidsForAdUnitCode=function(e){return{bids:yo.getNoBids().filter((function(t){return t.adUnitCode===e}))}},Za.getBidResponses=function(){return Ce("Invoking pbjs.getBidResponses",arguments),Ss("getBidsReceived")},Za.getBidResponsesForAdUnitCode=function(e){return{bids:yo.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},Za.setTargetingForGPTAsync=function(e,t){if(Ce("Invoking pbjs.setTargetingForGPTAsync",arguments),rt()){var n=xa.getAllTargeting(e);xa.resetPresetTargeting(e,t),xa.setTargetingForGPT(n,t),Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(t){"hb_adid"===t&&yo.setStatusForBids(n[e][t],v.UE.CK)}))})),Yt(os,n)}else xe("window.googletag is not defined on the page")},Za.setTargetingForAst=function(e){Ce("Invoking pbjs.setTargetingForAn",arguments),xa.isApntagDefined()?(xa.setTargetingForAst(e),Yt(os,xa.getAllTargeting())):xe("window.apntag is not defined on the page")},Za.renderAd=yn("async",(function(e,t,n){if(Ce("Invoking pbjs.renderAd",arguments),_e("Calling renderAd with adId :"+t),t)try{var r=yo.findBidByAdId(t);if(!r){var i="Error trying to write ad. Cannot find ad by given id : ".concat(t);return void na({reason:ls,message:i,id:t})}if(r.status===v.UE.fe&&(Se("Ad id ".concat(r.adId," has been rendered before")),Yt(as,r),h(T.getConfig("auctionOptions"),"suppressStaleRender")))return;if(r.ad=lt(r.ad,r.originalCpm||r.cpm),r.adUrl=lt(r.adUrl,r.originalCpm||r.cpm),n&&n.clickThrough){var o=n.clickThrough;r.ad=ft(r.ad,o),r.adUrl=ft(r.adUrl,o)}yo.addWinningBid(r),Yt(rs,r);var a=r.height,s=r.width,c=r.ad,u=r.mediaType,d=r.adUrl,l=r.renderer,f=r.adUnitCode,p=Za.adUnits.filter((function(e){return e.code===f})),m=Za.videoModule;if(p.video&&m)return void m.renderBid(p.video.divId,r);if(!e){var g="Error trying to write ad Id :".concat(t," to the page. Missing document");return void na({reason:fs,message:g,id:t})}var b=document.createComment("Creative ".concat(r.creativeId," served by ").concat(r.bidder," Prebid.js Header Bidding"));if(He(b,e,"html"),fn(l))pn(l,r,e),xs(b,e,"html"),ra({doc:e,bid:r,id:t});else if(e===document&&!dt()||"video"===u){var y="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");na({reason:cs,message:y,bid:r,id:t})}else if(c)e.write(c),e.close(),ms(e,s,a),xs(b,e,"html"),Je(r),ra({doc:e,bid:r,id:t});else if(d){var w=Oe();w.height=a,w.width=s,w.style.display="inline",w.style.overflow="hidden",w.src=d,He(w,e,"body"),ms(e,s,a),xs(b,e,"html"),Je(r),ra({doc:e,bid:r,id:t})}else{var I="Error trying to write ad. No ad for bid response id: ".concat(t);na({reason:us,message:I,bid:r,id:t})}}catch(e){var _="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);na({reason:ds,message:_,id:t})}else{var C="Error trying to write ad Id :".concat(t," to the page. Missing adId");na({reason:fs,message:C,id:t})}})),Za.removeAdUnit=function(e){Ce("Invoking pbjs.removeAdUnit",arguments),e?(De(e)?e:[e]).forEach((function(e){for(var t=Za.adUnits.length-1;t>=0;t--)Za.adUnits[t].code===e&&Za.adUnits.splice(t,1)})):Za.adUnits=[]},Za.requestBids=(_s=yn("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,i=e.adUnitCodes,a=e.labels,s=e.auctionId,c=e.ttlBuffer,u=e.ortb2,d=e.metrics,l=e.defer;Yt(is);var f=n||T.getConfig("bidderTimeout");Ce("Invoking pbjs.requestBids",arguments),i&&i.length?r=r.filter((function(e){return o(i,e.code)})):i=r&&r.map((function(e){return e.code}));var p={global:Ft({},T.getAnyConfig("ortb2")||{},u||{}),bidder:Object.fromEntries(Object.entries(T.getBidderConfig()).map((function(e){var t=Xa(e,2);return[t[0],t[1].ortb2]})).filter((function(e){var t=Xa(e,2);return t[0],null!=t[1]})))};return Va(L.resolve(p.global)).then((function(e){return p.global=e,Es({bidsBackHandler:t,timeout:f,adUnits:r,adUnitCodes:i,labels:a,auctionId:s,ttlBuffer:c,ortb2Fragments:p,metrics:d,defer:l})}))}),"requestBids"),function(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((function(t){return[t,{get:function(){return e[t]}}]})))),t}(_s,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adUnits||Za.adUnits;return e.adUnits=De(t)?t.slice():[t],e.metrics=yr(),e.metrics.checkpoint("requestBids"),e.defer=H({promiseFactory:function(e){return new Promise(e)}}),_s.call(this,e),e.defer.promise})));var Es=yn("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,i=e.ttlBuffer,a=e.adUnitCodes,s=e.labels,c=e.auctionId,u=e.ortb2Fragments,d=e.metrics,l=e.defer,f=ji(T.getConfig("s2sConfig")||[]);function p(e,n,r){if("function"==typeof t)try{t(e,n,r)}catch(e){xe("Error executing bidsBackHandler",null,e)}l.resolve({bids:e,timedOut:n,auctionId:r})}if((r=vr(d).measureTime("requestBids.validate",(function(){return Cs(r)}))).forEach((function(e){var t,n,r=Object.keys(e.mediaTypes||{banner:"banner"}),a=e.bids.map((function(e){return e.bidder})),s=Ni.bidderRegistry,c=a.filter((function(e){return!f.has(e)})),u=(null===(t=e.ortb2Imp)||void 0===t||null===(n=t.ext)||void 0===n?void 0:n.tid)||me();e.transactionId=u,null==i||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=i),Mt(e,"ortb2Imp.ext.tid",u),c.forEach((function(t){var n=s[t],i=n&&n.getSpec&&n.getSpec(),a=i&&i.supportedMediaTypes||["banner"];r.some((function(e){return o(a,e)}))?Fr.incrementBidderRequestsCounter(e.code,t):(Se(St(e,t)),e.bids=e.bids.filter((function(e){return e.bidder!==t})))})),Fr.incrementRequestsCounter(e.code)})),r&&0!==r.length){var m=yo.createAuction({adUnits:r,adUnitCodes:a,callback:p,cbTimeout:n,labels:s,auctionId:c,ortb2Fragments:u,metrics:d}),g=r.length;g>15&&Ce("Current auction ".concat(m.getAuctionId()," contains ").concat(g," adUnits."),r),a.forEach((function(e){return xa.setLatestAuctionForAdUnit(e,m.getAuctionId())})),m.callBids()}else _e("No adUnits configured. No bids requested."),p()}),"startAuction");Za.requestBids.before((function(e,t){function n(e){for(var t;t=e.shift();)t()}n(Dn),n(As),e.call(this,t)}),49),Za.addAdUnits=function(e){Ce("Invoking pbjs.addAdUnits",arguments),Za.adUnits.push.apply(Za.adUnits,De(e)?e:[e]),Yt(ns)},Za.onEvent=function(e,t,n){Ce("Invoking pbjs.onEvent",arguments),Re(t)?!n||ps[e].call(null,n)?Kt(e,t,n):xe('The id provided is not valid for event "'+e+'" and no handler was set.'):xe('The event handler provided is not a function and was not set on event "'+e+'".')},Za.offEvent=function(e,t,n){Ce("Invoking pbjs.offEvent",arguments),n&&!ps[e].call(null,n)||Xt(e,t,n)},Za.getEvents=function(){return Ce("Invoking pbjs.getEvents"),Qt()},Za.registerBidAdapter=function(e,t){Ce("Invoking pbjs.registerBidAdapter",arguments);try{Ni.registerBidAdapter(e(),t)}catch(e){xe("Error registering bidder adapter : "+e.message)}},Za.registerAnalyticsAdapter=function(e){Ce("Invoking pbjs.registerAnalyticsAdapter",arguments);try{Ni.registerAnalyticsAdapter(e)}catch(e){xe("Error registering analytics adapter : "+e.message)}},Za.createBid=function(e){return Ce("Invoking pbjs.createBid",arguments),ir(e)};var As=[],Ts=yn("async",(function(e){e&&!Fe(e)?(Ce("Invoking pbjs.enableAnalytics for: ",e),Ni.enableAnalytics(e)):xe("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function Os(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){xe("Error processing command :","prebid.js",e)}}))}Za.enableAnalytics=function(e){As.push(Ts.bind(this,e))},Za.aliasBidder=function(e,t,n){Ce("Invoking pbjs.aliasBidder",arguments),e&&t?Ni.aliasBidAdapter(e,t,n):xe("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},Za.aliasRegistry=Ni.aliasRegistry,T.getConfig("aliasRegistry",(function(e){"private"===e.aliasRegistry&&delete Za.aliasRegistry})),Za.getAllWinningBids=function(){return yo.getAllWinningBids()},Za.getAllPrebidWinningBids=function(){return yo.getBidsReceived().filter((function(e){return e.status===v.UE.CK}))},Za.getHighestCpmBids=function(e){return xa.getWinningBids(e)},Za.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=yo.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?t=xa.getWinningBids(e.adUnitCode):e.adId?t=yo.getBidsReceived().filter((function(t){return t.adId===e.adId})):Se("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=v.UE.fe)},Za.getConfig=T.getAnyConfig,Za.readConfig=T.readAnyConfig,Za.mergeConfig=T.mergeConfig,Za.mergeBidderConfig=T.mergeBidderConfig,Za.setConfig=T.setConfig,Za.setBidderConfig=T.setBidderConfig,Za.que.push((function(){window.addEventListener("message",ua,!1)})),Za.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){xe("Error processing command :",e.message,e.stack)}else xe("Commands written into pbjs.cmd.push must be wrapped in a function")},Za.que.push=Za.cmd.push,Za.processQueue=function(){yn.ready(),Os(Za.que),Os(Za.cmd)};var ks=Za;function js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?js(Object(n),!0).forEach((function(t){zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ds={mimes:function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return"string"==typeof e}))},minduration:function(e){return xt(e)},maxduration:function(e){return xt(e)},protocols:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=10}))},w:function(e){return xt(e)},h:function(e){return xt(e)},startdelay:function(e){return xt(e)},placement:function(e){return xt(e)&&e>=1&&e<=5},linearity:function(e){return-1!==[1,2].indexOf(e)},skip:function(e){return-1!==[0,1].indexOf(e)},skipmin:function(e){return xt(e)},skipafter:function(e){return xt(e)},sequence:function(e){return xt(e)},battr:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=17}))},maxextended:function(e){return xt(e)},minbitrate:function(e){return xt(e)},maxbitrate:function(e){return xt(e)},boxingallowed:function(e){return-1!==[0,1].indexOf(e)},playbackmethod:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))},playbackend:function(e){return-1!==[1,2,3].indexOf(e)},delivery:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=3}))},pos:function(e){return xt(e)&&e>=1&&e<=7},api:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))}},Bs={context:function(e){return e!==Qn},mimes:Ds.mimes,minduration:Ds.minduration,maxduration:Ds.maxduration,protocols:Ds.protocols},Ps={code:"sovrn",supportedMediaTypes:[Xn,Kn],gvlid:13,isBidRequestValid:function(e){var t,n=null==e||null===(t=e.mediaTypes)||void 0===t?void 0:t.video;return!(!e.params.tagid||isNaN(parseFloat(e.params.tagid))||!isFinite(e.params.tagid)||n&&!Object.keys(Bs).every((function(e){return Bs[e](n[e])})))},buildRequests:function(e,t){try{var n,r,i,o,a=[];Me(e,(function(e){!i&&e.userIdAsEids&&(i=e.userIdAsEids).forEach((function(e){e.uids&&e.uids[0]&&"criteo.com"===e.source&&(o=e.uids[0].id)})),e.schain&&(r=r||e.schain),n=n||ge("iv",e.params);var t=e.getFloor&&"function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.banner?"banner":"video",size:"*"}):{};t.floor=t.floor||ge("bidfloor",e.params);var s={adunitcode:e.adUnitCode,id:e.bidId,tagid:String(ge("tagid",e.params)),bidfloor:t.floor};if(h(e,"mediaTypes.banner")){var c=h(e,"mediaTypes.banner.sizes")||e.sizes,u=(c=(c=De(c)&&De(c[0])?c:[c]).filter((function(e){return De(e)}))).map((function(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}));s.banner={format:u,w:1,h:1}}h(e,"mediaTypes.video")&&(s.video=function(e){var t={},n=h(e,"sizes"),r=h(e,"mediaTypes.video",{}),i=h(e,"params.video",{}),o={};if(n){var a=Array.isArray(n[0])?n[0]:n;o.w=a[0],o.h=a[1]}else if(Array.isArray(r.playerSize)){var s=Array.isArray(r.playerSize[0])?r.playerSize[0]:r.playerSize;o.w=s[0],o.h=s[1]}var c=Rs(Rs(Rs({},o),r),i);return Object.keys(Ds).forEach((function(e){c.hasOwnProperty(e)&&(Ds[e](c[e])?t[e]=c[e]:Se("The OpenRTB video param ".concat(e," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.")))})),t}(e)),s.ext=ge("ext",e.ortb2Imp)||void 0;var d=ge("segments",e.params);d&&(s.ext=s.ext||{},s.ext.deals=d.split(",").map((function(e){return e.trim()}))),a.push(s)}));var s=t.ortb2||{},c=s.site||{};c.page=t.refererInfo.page,c.domain=t.refererInfo.domain;var u={id:pe(),imp:a,site:c,user:s.user||{}};r&&(u.source={ext:{schain:r}}),t.gdprConsent&&(Mt(u,"regs.ext.gdpr",+t.gdprConsent.gdprApplies),Mt(u,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&Mt(u,"regs.ext.us_privacy",t.uspConsent),t.gppConsent&&(Mt(u,"regs.gpp",t.gppConsent.gppString),Mt(u,"regs.gpp_sid",t.gppConsent.applicableSections)),i&&(Mt(u,"user.ext.eids",i),o&&Mt(u,"user.ext.prebid_criteoid",o));var d="https://ap.lijit.com/rtb/bid?src=prebid_prebid_7.48.0";return n&&(d+="&iv=".concat(n)),{method:"POST",url:d,data:JSON.stringify(u),options:{contentType:"text/plain"}}}catch(e){xe("Could not build bidrequest, error deatils:",e)}},interpretResponse:function(e){var t=e.body,n=t.id,r=t.seatbid;if(!n||!r||!Array.isArray(r))return[];try{return r.filter((function(e){return e})).map((function(e){return e.bid.map((function(e){var t,n={requestId:e.impid,cpm:parseFloat(e.price),width:parseInt(e.w),height:parseInt(e.h),creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,mediaType:e.nurl?Xn:Kn,ttl:(null===(t=e.ext)||void 0===t?void 0:t.ttl)||90,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]}};return e.nurl?n.ad=decodeURIComponent("".concat(e.adm,'<img src="').concat(e.nurl,'">')):n.vastXml=decodeURIComponent(e.adm),n}))})).flat()}catch(e){return xe("Could not interpret bidresponse, error details:",e),e}},getUserSyncs:function(e,t,n,r){try{var i=[];if(t&&0!==t.length){if(e.iframeEnabled){var o=t.filter((function(e){return h(e,"body.ext.iid")})).map((function(e){return e.body.ext.iid})),a=[];n&&n.gdprApplies&&"string"==typeof n.consentString&&a.push(["gdpr_consent",n.consentString]),r&&a.push(["us_privacy",r]),o[0]&&(a.push(["informer",o[0]]),i.push({type:"iframe",url:"https://ap.lijit.com/beacon?"+a.map((function(e){return e.join("=")})).join("&")}))}e.pixelEnabled&&t.filter((function(e){return h(e,"body.ext.sync.pixels")})).reduce((function(e,t){return e.concat(t.body.ext.sync.pixels)}),[]).map((function(e){return e.url})).forEach((function(e){return i.push({type:"image",url:e})}))}return i}catch(e){return[]}}};function Ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Tr(Ps),i("sovrnBidAdapter");var Us=new WeakMap;function Ms(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Us.has(e)){var n=Object.entries(e);n.sort((function(e,t){return(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1})),Us.set(e,n.map((function(e){var t=Ns(e,2);return[t[0],t[1].fn]})))}var r=Us.get(e).filter((function(e){var n=Ns(e,1)[0];return!t.hasOwnProperty(n)||t[n]})).map((function(e){var n=Ns(e,2),r=n[0],i=n[1];return t.hasOwnProperty(r)?t[r].bind(this,i):i}));return function(){var e=this,t=Array.from(arguments);r.forEach((function(n){n.apply(e,t)}))}}function qs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ls(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ls(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ws(e){return(e=ve(e)).map((function(e){var t=qs(e.split("x"),2),n=t[0],r=t[1];return{w:parseInt(n,10),h:parseInt(r,10)}}))}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(this,arguments)}function Vs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Js=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),$s={instream:1},Ks={1:Xn,2:Kn,4:$n};function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xs.apply(this,arguments)}var Qs,Ys,Zs=["request","imp","bidResponse","response"],ec=["default","pbs"],tc=Zs[0],nc=Zs[1],rc=Zs[2],ic=Zs[3],oc=ec[0],ac=ec[1],sc=new Set(Zs),cc=(Qs={},{registerOrtbProcessor:function(e){var t=e.type,n=e.name,r=e.fn,i=e.priority,o=void 0===i?0:i,a=e.dialects,s=void 0===a?[oc]:a;if(!sc.has(t))throw new Error("ORTB processor type must be one of: ".concat(Zs.join(", ")));s.forEach((function(e){Qs.hasOwnProperty(e)||(Qs[e]={}),Qs[e].hasOwnProperty(t)||(Qs[e][t]={}),Qs[e][t][n]={priority:o,fn:r}}))},getProcessors:function(e){return Qs[e]||{}}}),uc=cc.registerOrtbProcessor,dc=cc.getProcessors;function lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mc.apply(this,arguments)}var gc=(lc(Ys={},tc,{fpd:{priority:99,fn:function(e,t){Ft(e,t.ortb2)}},onlyOneClient:{priority:-99,fn:Fa("ORTB request")},props:{fn:function(e,t){var n;mc(e,{id:e.id||t.auctionId,test:e.test||0});var r=parseInt(t.timeout,10);isNaN(r)||(e.tmax=r),Mt(e,"source.tid",(null===(n=e.source)||void 0===n?void 0:n.tid)||t.auctionId)}}}),lc(Ys,nc,{fpd:{priority:99,fn:function(e,t){Ft(e,t.ortb2Imp)}},id:{fn:function(e,t){e.id=t.bidId}},banner:{fn:function(e,t,n){if(!n.mediaType||n.mediaType===Xn){var r=h(t,"mediaTypes.banner");if(r){var i={topframe:!0===dt()?0:1};r.sizes&&(i.format=Ws(r.sizes)),r.hasOwnProperty("pos")&&(i.pos=r.pos),e.banner=Ft(i,e.banner)}}}},pbadslot:{fn:function(e){var t,n,r,i,o=null===(t=e.ext)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.pbadslot;o&&"string"==typeof o||null===(r=e.ext)||void 0===r||null===(i=r.data)||void 0===i||delete i.pbadslot}}}),lc(Ys,rc,{mediaType:{priority:99,fn:function(e,t,n){if(!e.mediaType){var r=n.mediaType;if(!r&&!Ks.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=r||Ks[t.mtype]}}},banner:{fn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createPixel,n=void 0===t?function(e){return Xe(decodeURIComponent(e))}:t;return function(e,t){e.mediaType===Xn&&(t.adm&&t.nurl?(e.ad=t.adm,e.ad+=n(t.nurl)):t.adm?e.ad=t.adm:t.nurl&&(e.adUrl=t.nurl))}}()},props:{fn:function(e,t,n){var r;Object.entries({requestId:null===(r=n.bidRequest)||void 0===r?void 0:r.bidId,seatBidId:t.id,cpm:t.price,currency:n.ortbResponse.cur||n.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||n.ttl,netRevenue:n.netRevenue}).filter((function(e){var t=fc(e,2);return t[0],void 0!==t[1]})).forEach((function(t){var n=fc(t,2),r=n[0],i=n[1];return e[r]=i})),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain)}}}),Ys);function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hc.apply(this,arguments)}function vc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift(),i=t.length>1?vc.apply(void 0,t):t[0];return Object.fromEntries(Zs.map((function(e){return[e,hc({},r[e],i[e])]})))}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(this,arguments)}function yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?{}:t,r=e.processors,i=void 0===r?Ic:r,o=e.overrides,a=void 0===o?{}:o,s=e.imp,c=e.request,u=e.bidResponse,d=e.response,l=new WeakMap;function f(e,t,n,r){var o;return function(){return null==o&&(o=function(){var o=n.bind(this,Ms(i()[e]||{},a[e]||{}));return t&&(o=t.bind(this,o)),function(){try{return o.apply(this,arguments)}catch(e){r.call.apply(r,[this,e].concat(Array.prototype.slice.call(arguments)))}}}()),o.apply(this,arguments)}}var p=f(nc,s,(function(e,t,n){var r={};return e(r,t,n),r}),(function(e,t,n){xe("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:t,context:n})})),m=f(tc,c,(function(e,t,n,r){var i={imp:t};return e(i,n,r),i}),(function(e,t,n,r){throw xe("Error while converting to ORTB request",{error:e,imps:t,bidderRequest:n,context:r}),e})),g=f(rc,u,(function(e,t,n){var r={};return e(r,t,n),r}),(function(e,t,n){xe("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:t,context:n})})),h=f(ic,d,(function(e,t,n,r){var i={bids:t};return e(i,n,r),i}),(function(e,t,n,r){throw xe("Error while converting from ORTB response",{error:e,bidResponses:t,ortbResponse:n,context:r}),e}));return{toORTB:function(e){var t=e.bidderRequest,r=e.bidRequests,i=e.context,o=void 0===i?{}:i,a={req:bc({bidRequests:r=r||t.bids},n,o),imp:{}};a.req.impContext=a.imp;var s=r.map((function(e){var r=bc({bidderRequest:t,reqContext:a.req},n,o),i=p(e,r);if(null!=i){if(i.hasOwnProperty("id"))return bc(r,{bidRequest:e,imp:i}),a.imp[i.id]=r,i;xe("Converted ORTB imp does not specify an id, ignoring bid request",e,i)}})).filter(Boolean),c=m(s,t,a.req);return a.req.bidderRequest=t,null!=c&&l.set(c,a),c},fromORTB:function(e){var t=e.request,n=e.response,r=l.get(t);if(null==r)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return bc(e,{ortbRequest:t},n,e)}var o=Object.fromEntries((t.imp||[]).map((function(e){return[e.id,e]}))),a=(n.seatbid||[]).flatMap((function(e){return(e.bid||[]).map((function(t){if(o.hasOwnProperty(t.impid)&&r.imp.hasOwnProperty(t.impid))return g(t,i(r.imp[t.impid],{imp:o[t.impid],seatbid:e,ortbResponse:n}));xe("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",t)}))})).filter(Boolean);return h(a,n,i(r.req))}}}gc[nc].native={fn:function(e,t,n){if(!n.mediaType||n.mediaType===$n){var r,i=t.nativeOrtbRequest;i&&(null!==(r=(i=Xs({},n.nativeRequest,i)).assets)&&void 0!==r&&r.length?e.native=Ft({},{request:JSON.stringify(i),ver:i.ver},e.native):Se("mediaTypes.native is set, but no assets were specified. Native request skipped.",t))}}},gc[rc].native={fn:function(e,t){if(e.mediaType===$n){var n;if(!Pe(n="string"==typeof t.adm?JSON.parse(t.adm):t.adm)||!Array.isArray(n.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:n}}}},gc[nc].video={fn:function(e,t,n){if(!n.mediaType||n.mediaType===Kn){var r=h(t,"mediaTypes.video");if(!Fe(r)){var i=Object.fromEntries(Object.entries(r).filter((function(e){var t=Vs(e,1)[0];return Js.has(t)})));if(r.playerSize){var o=Ws(r.playerSize);o.length>1&&Se("video request specifies more than one playerSize; all but the first will be ignored"),Hs(i,o[0])}var a=$s[r.context];null!=a&&(i.placement=a),e.video=Ft(i,e.video)}}}},gc[rc].video={fn:function(e,t,n){if(e.mediaType===Kn){if(h(n.imp,"video.w")&&h(n.imp,"video.h")){var r=[n.imp.video.w,n.imp.video.h];e.playerWidth=r[0],e.playerHeight=r[1]}t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl)}}};var wc,Ic=Ut((function(){return vc(gc,dc(oc))}));function _c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cc,Sc=(_c(wc={},Xn,"banner"),_c(wc,$n,"native"),_c(wc,Kn,"video"),wc);function xc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.adUnit,o=r.bidderRequests,a=r.index,s=void 0===a?yo.index:a,c=r.bidderRegistry,u=void 0===c?Ni.bidderRegistry:c,d=t.params,l=u[t.bidder];l&&l.getSpec().transformBidParams&&(i=i||s.getAdUnit(t),o=o||[n.bidderRequest],d=l.getSpec().transformBidParams(d,!0,i,o)),d&&Mt(e,"ext.prebid.bidder.".concat(t.bidder),d)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ec.apply(this,arguments)}function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ac.apply(this,arguments)}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jc=(Tc(Cc={},tc,{extPrebid:{fn:function(e,t){var n;Mt(e,"ext.prebid",Ft({auctiontimestamp:t.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(n=e.ext)||void 0===n?void 0:n.prebid)),T.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){var t,n;Mt(e,"ext.prebid.channel",Ec({name:"pbjs",version:r().version},null===(t=e.ext)||void 0===t||null===(n=t.prebid)||void 0===n?void 0:n.channel))}},extPrebidAliases:{fn:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.am,o=void 0===i?Ni:i;if(o.aliasRegistry[t.bidderCode]){var a=o.bidderRegistry[t.bidderCode];a&&a.getSpec().skipPbsAliasing||Mt(e,"ext.prebid.aliases.".concat(t.bidderCode),o.aliasRegistry[t.bidderCode])}}}}),Tc(Cc,nc,{params:{fn:xc},adUnitCode:{fn:function(e,t){var n=t.adUnitCode;n&&Mt(e,"ext.prebid.adunitcode",n)}}}),Tc(Cc,rc,{mediaType:{fn:function(e,t,n){var r,i,o=n.mediaType;o||(o=Ks.hasOwnProperty(t.mtype)?Ks[t.mtype]:null===(r=t.ext)||void 0===r||null===(i=r.prebid)||void 0===i?void 0:i.type,Sc.hasOwnProperty(o)||(o=Xn)),e.mediaType=o},priority:99},videoCache:{fn:function(e,t){if(e.mediaType===Kn){var n=h(t,"ext.prebid.cache.vastXml")||{},r=n.cacheId,i=n.url;if(!r||!i){var o=h(t,"ext.prebid.targeting")||{},a=o.hb_uuid,s=o.hb_cache_host,c=o.hb_cache_path;a&&s&&c&&(r=a,i="https://".concat(s).concat(c,"?uuid=").concat(a))}r&&i&&Ac(e,{videoCacheKey:r,vastUrl:i})}},priority:-10},bidderCode:{fn:function(e,t,n){var r;e.bidderCode=n.seatbid.seat,e.adapterCode=h(t,"ext.prebid.meta.adaptercode")||(null===(r=n.bidRequest)||void 0===r?void 0:r.bidder)||e.bidderCode}},pbsBidId:{fn:function(e,t){var n=h(t,"ext.prebid.bidid");ze(n)&&(e.pbsBidId=n)}},adserverTargeting:{fn:function(e,t){var n=h(t,"ext.prebid.targeting");Pe(n)&&(e.adserverTargeting=n)}},extPrebidMeta:{fn:function(e,t){e.meta=Ft({},h(t,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn:function(e,t){var n=h(t,"ext.prebid.events.win");ze(n)&&(e.pbsWurl=n)}}}),Tc(Cc,ic,{serverSideStats:{fn:function(e,t,n){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((function(e){var r=Oc(e,2),i=r[0],o=r[1],a=h(t,"ext.".concat(i,".").concat(n.bidderRequest.bidderCode));a&&(n.bidderRequest[o]=a,n.bidRequests.forEach((function(e){return e[o]=a})))}))}}}),Cc),Rc=Ut((function(){return vc(Ic(),jc,dc(ac))}));function zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zc(Object(n),!0).forEach((function(t){Bc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fc="https://video-outstream.rubiconproject.com/apex-2.2.1.js",Uc={};T.getConfig("rubicon",(function(e){Ft(Uc,e.rubicon)}));var Mc={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160"};Me(Mc,(function(e,t){return Mc[e]=t}));var qc=yc({request:function(e,t,n,i){var o,a,s=i.bidRequests,c=e(t,n,i);c.cur=["USD"],c.test=T.getConfig("debug")?1:0,Mt(c,"ext.prebid.cache",{vastxml:{returnCreative:!0===Uc.returnVast}}),Mt(c,"ext.prebid.bidders",{rubicon:{integration:Uc.int_type||"pbjs"}}),Mt(c,"ext.prebid.targeting.pricegranularity",function(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}(T));var u=r().installedModules;return!u||u.length&&-1===u.indexOf("rubiconAnalyticsAdapter")||Mt(c,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,t){var n,r,i={},o=new Set;t.forEach((function(t){var n,r,a,s,c,u={user:{ext:{data:Dc({},t.params.visitor)}},site:{ext:{data:Dc({},t.params.inventory)}}},d=e.imp.find((function(e){var t,n,r,i,o;return null===(t=e.ext)||void 0===t||null===(n=t.prebid)||void 0===n||null===(r=n.bidder)||void 0===r||null===(i=r.rubicon)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.language}));d&&(u.site.content={language:null===(n=d.ext)||void 0===n||null===(r=n.prebid)||void 0===r||null===(a=r.bidder)||void 0===a||null===(s=a.rubicon)||void 0===s||null===(c=s.video)||void 0===c?void 0:c.language}),t.params.keywords&&(Array.isArray(t.params.keywords)?t.params.keywords:t.params.keywords.split(",")).forEach((function(e){return o.add(e)})),i=Ft(i,t.ortb2||{},u);var l=T.getConfig("user.id");i.user.id=i.user.id||l})),Ft(e,i),o&&o.size&&Mt(e,"site.keywords",Array.from(o.values()).join(",")),null==e||null===(n=e.ext)||void 0===n||null===(r=n.prebid)||void 0===r||delete r.storedrequest}(c,s),null==c||null===(o=c.ext)||void 0===o||null===(a=o.prebid)||void 0===a||delete a.storedrequest,!0===Uc.disableFloors&&delete c.ext.prebid.floors,s.filter((function(e){return"object"==typeof e.floorData})).length>0&&(c.ext.prebid.floors={enabled:!1}),c},imp:function(e,t,n){var r,i,o=$c(t);if(!o.includes(Xn)||1!=o.length){var a=e(t,n);return a.id=t.adUnitCode,delete a.banner,T.getConfig("s2sConfig.defaultTtl")&&(a.exp=T.getConfig("s2sConfig.defaultTtl")),"atf"===t.params.position&&(a.video.pos=1),"btf"===t.params.position&&(a.video.pos=3),null===(r=a.ext)||void 0===r||null===(i=r.prebid)||void 0===i||delete i.storedrequest,function(e,t){if("USD"!=t.bidfloorcur&&(delete t.bidfloor,delete t.bidfloorcur),!t.bidfloor){var n=parseFloat(h(e,"params.floor"));isNaN(n)||(t.bidfloor=n,t.bidfloorcur="USD")}}(t,a),a}},bidResponse:function(e,t,n){var r=e(t,n);r.meta.mediaType=h(t,"ext.prebid.type");var i=n.bidRequest;return r.mediaType===Kn&&"outstream"===i.mediaTypes.video.context&&(r.renderer=function(e){var t=ln.install({id:e.adId,url:Uc.rendererUrl||Fc,config:Uc.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(Hc)}catch(e){Se("Prebid Error calling setRender on renderer",e)}return t}(r)),r.width=t.w||h(i,"mediaTypes.video.w")||h(i,"params.video.playerWidth"),r.height=t.h||h(i,"mediaTypes.video.h")||h(i,"params.video.playerHeight"),h(t,"ext.bidder.rp.advid")&&Mt(r,"meta.advertiserId",t.ext.bidder.rp.advid),r},context:{netRevenue:!1!==Uc.netRevenue,ttl:300},processors:Rc}),Lc={code:"rubicon",gvlid:52,supportedMediaTypes:[Xn,Kn,$n],isBidRequestValid:function(e){var t=!0;if("object"!=typeof e.params)return!1;for(var n=0,r=["accountId","siteId","zoneId"];n<r.length;n++)if(e.params[r[n]]=parseInt(e.params[r[n]]),isNaN(e.params[r[n]]))return xe("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var i=$c(e,!0);if(!i.length)return!1;i.includes(Kn)&&(t=function(e){var t=!0,n=Object.prototype.toString.call([]),r=Object.prototype.toString.call(0),i={mimes:n,protocols:n,linearity:r,api:n};return Object.keys(i).forEach((function(n){Object.prototype.toString.call(h(e,"mediaTypes.video."+n))!==i[n]&&(t=!1,xe("Rubicon: mediaTypes.video."+n+" is required and must be of type: "+i[n]))})),t}(e));var o=[Xn,$n].filter((function(e){return i.includes(e)})).length>0;return o?t&&o:t},buildRequests:function(e,t){var n,r=[],i=[];if((n=e.filter((function(e){var t=$c(e)||[],n=t.length,r=e.params||{},i=r.bidonmultiformat,o=r.video;return 1===n&&(t.includes(Kn)||t.includes($n))||2===n&&!t.includes(Xn)||o&&t.includes(Kn)||i&&(t.includes(Kn)||t.includes($n))})))&&n.length){var o=qc.toORTB({bidRequests:n,bidderRequest:t});i.push({method:"POST",url:"https://".concat(Uc.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:o,bidRequest:n})}var a=e.filter((function(e){var t=$c(e)||[],n=e.params||{},r=n.bidonmultiformat,i=n.video;return t.includes(Xn)&&(1===t.length||r||!r&&!i||!r&&i&&!t.includes(Kn))}));if(!0!==T.getConfig("rubicon.singleRequest"))r=i.concat(a.map((function(e){var n=Lc.createSlotParams(e,t);return{method:"GET",url:"https://".concat(Uc.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:Lc.getOrderedParams(n).reduce((function(e,t){var r=n[t];return ze(r)&&""!==r||Be(r)?"".concat(e).concat(Xc(t,r),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var s=a.reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{});r=i.concat(Object.keys(s).reduce((function(e,n){var r,i;return(r=s[n],i=10,r.map((function(e,t){return t%i==0?r.slice(t,t+i):null})).filter((function(e){return e}))).forEach((function(n){var r=Lc.combineSlotUrlParams(n.map((function(e){return Lc.createSlotParams(e,t)})));e.push({method:"GET",url:"https://".concat(Uc.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:Lc.getOrderedParams(r).reduce((function(e,t){var n=r[t];return ze(n)&&""!==n||Be(n)?"".concat(e).concat(Xc(t,n),"&"):e}),"")+"slots=".concat(n.length,"&rand=").concat(Math.random()),bidRequest:n})})),e}),[]))}return r},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,r=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,n,r){return Object.keys(n).forEach((function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(r,1,n[i])})),t}),{}),n=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var r=t[e].join(";"),i=r.match(n);t[e]=i?i[1]:r})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n=e.params,r=Vc(e,"banner"),i=Pc(n.latLong||[],2),o=i[0],s=i[1],c={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:r[0],alt_size_ids:r.slice(1).join(",")||void 0,rp_floor:(n.floor=parseFloat(n.floor))>=.01?n.floor:void 0,rp_secure:"1",tk_flint:"".concat(Uc.int_type||"pbjs_lite","_v7.48.0"),"x_source.tid":e.transactionId,"x_imp.ext.tid":e.transactionId,l_pb_bid_id:e.bidId,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:Wc(e,t)};if("function"==typeof e.getFloor&&!Uc.disableFloors){var u;try{u=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){xe("Rubicon: getFloor threw an error: ",e)}c.rp_hard_floor="object"!=typeof u||"USD"!==u.currency||isNaN(parseInt(u.floor))?void 0:u.floor}var d={1:"atf",3:"btf"}[h(e,"mediaTypes.banner.pos")]||"";c.p_pos="atf"===n.position||"btf"===n.position?n.position:d;var l=T.getConfig("user.id");return l&&(c.ppuid=l),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source?(c.tpid_tdid=e.uids[0].id,c["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(c["tpid_liveintent.com"]=e.uids[0].id,c["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(c["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?c.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?c["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||""):c["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),!c.ppuid){var t=a(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));t&&t.id&&(c.ppuid=t.id)}}catch(t){Se("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(c.gdpr=Number(t.gdprConsent.gdprApplies)),c.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(c.us_privacy=encodeURIComponent(t.uspConsent)),c.rp_maxbids=t.bidLimit||1,function(e,t,n){var r={user:{ext:{data:Dc({},e.params.visitor)}},site:{ext:{data:Dc({},e.params.inventory)}}};e.params.keywords&&(r.site.keywords=De(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var i=Ft({},e.ortb2||{},r),o=h(e.ortb2Imp,"ext")||{},a=h(e.ortb2Imp,"ext.data")||{},s=h(e,"ortb2Imp.ext.gpid"),c={user:[4],site:[1,2,5,6]},u={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},d=function(e,t,n){return"data"===t&&Array.isArray(e)?e.filter((function(e){return e.segment&&h(e,"ext.segtax")&&c[n]&&-1!==c[n].indexOf(h(e,"ext.segtax"))})).map((function(e){var t=e.segment.filter((function(e){return e.id})).reduce((function(e,t){return e.push(t.id),e}),[]);if(t.length>0)return t.toString()})).toString():"object"==typeof e&&!Array.isArray(e)||void 0===e?void 0:Array.isArray(e)?e.filter((function(e){if("object"!=typeof e&&void 0!==e)return e.toString();Se("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()},l=function(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=d(e,r,t),a=u[r]&&i?"".concat(u[r]):"data"===r?"".concat(u[t],"iab"):"".concat(u[t]).concat(r);n[a]=n[a]?n[a].concat(",",o):o};t===Xn?(["site","user"].forEach((function(e){Object.keys(i[e]).forEach((function(t){"site"===e&&"content"===t&&i[e][t].data?l(i[e][t].data,e,"data"):"ext"!==t?l(i[e][t],e,t):i[e][t].data&&Object.keys(i[e].ext.data).forEach((function(t){l(i[e].ext.data[t],e,t,!1)}))}))})),Object.keys(a).forEach((function(e){"adserver"!==e?l(a[e],"site",e):"gam"===a[e].name&&l(a[e].adslot,name,e)})),s&&(n.p_gpid=s),n["tg_i.pbadslot"]&&delete n["tg_i.dfp_ad_unit_code"]):(Object.keys(o).length&&Ft(n.imp[0].ext,o),s&&(n.imp[0].ext.gpid=s),Ft(n,i))}(e,Xn,c),!0===T.getConfig("coppa")&&(c.coppa=1),e.schain&&Kc(e.schain)&&(c.rp_schain=Lc.serializeSupplyChain(e.schain)),c},serializeSupplyChain:function(e){if(!Kc(e))return"";var t=e.ver,n=e.complete,r=e.nodes;return"".concat(t,",").concat(n,"!").concat(Lc.serializeSupplyChainNodes(r))},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function(e,t){e=e.body;var n=t.data;if(!e||"object"!=typeof e)return[];if(e.seatbid){var r=h(e,"ext.errors.rubicon");return Array.isArray(r)&&r.length>0&&Se("Rubicon: Error in video response"),qc.fromORTB({request:n,response:e}).bids}var i,o=e.ads,a=0,s=t.bidRequest;return"object"==typeof s&&!Array.isArray(s)&&$c(s).includes(Kn)&&"object"==typeof o&&(o=o[s.adUnitCode]),!Array.isArray(o)||o.length<1?[]:o.reduce((function(t,n,r){if(n.impression_id&&i===n.impression_id?a++:i=n.impression_id,"ok"!==n.status)return t;var o=Array.isArray(s)?s[r-a]:s;if(o&&"object"==typeof o){var c={requestId:o.bidId,currency:"USD",creativeId:n.creative_id||"".concat(n.network||"","-").concat(n.advertiser||""),cpm:n.cpm||0,dealId:n.deal,ttl:300,netRevenue:!1!==Uc.netRevenue,rubicon:{advertiserId:n.advertiser,networkId:n.network},meta:{advertiserId:n.advertiser,networkId:n.network,mediaType:Xn}};if(n.creative_type&&(c.mediaType=n.creative_type),n.adomain&&(c.meta.advertiserDomains=Array.isArray(n.adomain)?n.adomain:[n.adomain]),n.creative_type===Kn)c.width=o.params.video.playerWidth,c.height=o.params.video.playerHeight,c.vastUrl=n.creative_depot_url,c.impression_id=n.impression_id,c.videoCacheKey=n.impression_id;else{c.ad=function(e,t){return"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(t,"'>\n<script type='text/javascript'>").concat(e,"<\/script>\n</div>\n</body>\n</html>")}(n.script,n.impression_id);var u=Pc(Mc[n.size_id].split("x").map((function(e){return Number(e)})),2);c.width=u[0],c.height=u[1]}c.rubiconTargeting=(Array.isArray(n.targeting)?n.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:o.adUnitCode}),t.push(c)}else xe("Rubicon: bidRequest undefined at index position:".concat(r),s,e);return t}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,t,n,r){if(!Qc&&e.iframeEnabled){var i={};return n&&("boolean"==typeof n.gdprApplies&&(i.gdpr=Number(n.gdprApplies)),"string"==typeof n.consentString&&(i.gdpr_consent=n.consentString)),r&&(i.us_privacy=encodeURIComponent(r)),i=Object.keys(i).length?"?".concat(Dt(i)):"",Qc=!0,{type:"iframe",url:"https://".concat(Uc.syncHost||"eus",".rubiconproject.com/usync.html")+i}}},transformBidParams:function(e,t){return Ot({accountId:"number",siteId:"number",zoneId:"number"},e)}};function Wc(e,t){var n;return n=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?n.replace(/^http:/i,"https:"):n}function Hc(e){var t,n=document.getElementById(e.adUnitCode);(t=n.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),n=t&&t.nextSibling;n&&"iframe"===n.localName&&n.style.setProperty("display","none")}(n);var r=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:n,align:r.align||"center",position:r.position||"append"},closeButton:r.closeButton||!1,label:r.label||void 0,collapse:r.collapse||!0})}))}function Vc(e,t){var n=e.params;if(t===Kn){var r=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?r=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(h(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?r=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(r=e.sizes[0]),r}var i=[];return Array.isArray(n.sizes)?i=n.sizes:void 0!==h(e,"mediaTypes.banner.sizes")?i=Gc(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?i=Gc(e.sizes):Se("Rubicon: no sizes are setup or found"),function(e){var t=[15,2,9];return e.sort((function(e,n){var r=t.indexOf(e),i=t.indexOf(n);return r>-1||i>-1?-1===r?1:-1===i?-1:r-i:e-n}))}(i)}function Gc(e){return ve(e).reduce((function(e,t){var n=parseInt(Mc[t],10);return n&&e.push(n),e}),[])}function Jc(e){var t=void 0!==h(e,"mediaTypes.".concat(Kn)),n=void 0!==h(e,"mediaTypes.".concat(Xn)),r=void 0!==h(e,"params.bidonmultiformat"),i="object"!=typeof h(e,"params.video");return!(!t||!r)||(n&&i&&(t=!1),t&&i&&Mt(e,"params.video",{}),t)}function $c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(Jc(e)){if(-1===["outstream","instream"].indexOf(h(e,"mediaTypes.".concat(Kn,".context"))))return t&&xe("Rubicon: mediaTypes.video.context must be outstream or instream"),n;if(Vc(e,Kn).length<2)return t&&xe("Rubicon: could not determine the playerSize of the video"),n;t&&_e("Rubicon: making video request for adUnit",e.adUnitCode),n.push(Kn)}if(void 0!==h(e,"mediaTypes.".concat($n))&&n.push($n),void 0!==h(e,"mediaTypes.".concat(Xn))){if(0===Vc(e,Xn).length)return t&&xe("Rubicon: could not determine the sizes for banner request"),n;t&&_e("Rubicon: making banner request for adUnit",e.adUnitCode),n.push(Xn)}return n}function Kc(e){var t=!1,n=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce((function(e,t){return e?n.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||xe("Rubicon: required schain params missing"),t):t}function Xc(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var Qc=!1;function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yc.apply(this,arguments)}function Zc(e){return function(e){if(Array.isArray(e))return eu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach((function(t){ru(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Tr(Lc),i("rubiconBidAdapter");var iu="pubmatic",ou="PubMatic: ",au="USD",su=void 0,cu="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),uu={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},du="number",lu="string",fu="boolean",pu="array",mu={mimes:pu,minduration:du,maxduration:du,startdelay:du,playbackmethod:pu,api:pu,protocols:pu,w:du,h:du,battr:pu,linearity:du,placement:du,minbitrate:du,maxbitrate:du,skip:du},gu=1,hu=3,vu={1:"PMP",5:"PREF",6:"PMPG"},bu={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var n,r=bu.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===r){n=window.bluebillywig.renderers[o];break}n?n.bootstrap(t,i):Se("".concat(ou,": Couldn't find a renderer with ").concat(r))}else Se("".concat(ou,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var n=cu.replace("$RENDERER",e),r=ln.install({url:n,loaded:!1,adUnitCode:t});try{r.setRender(bu.outstreamRender)}catch(e){Se("".concat(ou,": Error tying to setRender on renderer"),e)}return r},outstreamRender:function(e){e.renderer.push((function(){bu.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},yu=[Xn,Kn,$n],wu=0,Iu=!1,_u=["pubmatic"],Cu=["all"];function Su(e,t){if(!ze(t))return t&&Se("PubMatic: Ignoring param key: "+e+", expects string-value, found "+typeof t),su;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||su;case"yob":return parseInt(t)||su;default:return t}}function xu(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=ze(t=e.params.adSlot)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&Se("pubmatic: adSlot must be a string. Ignoring adSlot"),"");var n=e.params.adSlot,r=n.split(":");if(n=r[0],2==r.length&&(e.params.adUnitIndex=r[1]),r=n.split("@"),e.params.adUnit=r[0],r.length>1){if(2!=(r=r[1].split("x")).length)return void Se("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(r[0],10),e.params.height=parseInt(r[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(Xn)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var i=0,o=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&o.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=o,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function Eu(e,t,n){var r,i="Ignoring param key: "+e+", expects "+n+", found "+typeof t;switch(n){case fu:r=Ne;break;case du:r=Be;break;case lu:r=ze;break;case pu:r=De}return r(t)?t:(Se(ou+i),su)}var Au={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},Tu=v.oF,Ou=v.zA,ku=v.FY,ju=v.s$,Ru=Object.values(Au);function zu(e){var t;if(e.ortb){e=e.ortb,t=nu(nu({ver:"1.2"},e),{},{assets:[]});var n=e.assets,r=function(e){return e.title||e.img||e.data||e.video};if(n.length<1||!n.some((function(e){return r(e)})))return Se("".concat(ou,": Native assets object is empty or contains some invalid object")),Iu=!0,t;n.forEach((function(e){var n=e;n.img&&(n.img.type==hu?(n.w=n.w||n.width||(n.sizes?n.sizes[0]:su),n.h=n.h||n.height||(n.sizes?n.sizes[1]:su),n.wmin=n.wmin||n.minimumWidth||(n.minsizes?n.minsizes[0]:su),n.hmin=n.hmin||n.minimumHeight||(n.minsizes?n.minsizes[1]:su)):n.img.type==gu&&(n.w=n.w||n.width||(n.sizes?n.sizes[0]:su),n.h=n.h||n.height||(n.sizes?n.sizes[1]:su))),n&&void 0!==n.id&&r(n)&&t.assets.push(n)}))}else t=function(e){if(!e&&!Pe(e))return Se("".concat(ou,": Native assets object is empty or not an object: ").concat(e)),void(Iu=!0);var t={ver:"1.2",assets:[]};for(var n in e)if(!Ou.includes(n))if(ku.hasOwnProperty(n)||Ru.includes(n)){var r=e[n],i=0;r.required&&Ne(r.required)&&(i=Number(r.required));var o={id:t.assets.length,required:i};if(n in Au)o.data={type:ju[Au[n]]},(r.len||r.length)&&(o.data.len=r.len||r.length),r.ext&&(o.data.ext=r.ext);else if("icon"===n||"image"===n){if(o.img={type:"icon"===n?Tu.ICON:Tu.MAIN},r.aspect_ratios)if(De(r.aspect_ratios))if(r.aspect_ratios.length){var a=r.aspect_ratios[0],s=a.min_width,c=a.min_height;xt(s)&&xt(c)?(o.img.wmin=s,o.img.hmin=c):Se("".concat(ou,": image.aspect_ratios min_width or min_height are invalid: ").concat(s,", ").concat(c));var u=r.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));u.length>0&&(o.img.ext={aspectratios:u})}else Se("".concat(ou,": image.aspect_ratios was passed, but it's empty: ").concat(r.aspect_ratios));else Se("".concat(ou,": image.aspect_ratios was passed, but it's not a an array: ").concat(r.aspect_ratios));o.img.w=r.w||r.width,o.img.h=r.h||r.height,o.img.wmin=r.wmin||r.minimumWidth||(r.minsizes?r.minsizes[0]:su),o.img.hmin=r.hmin||r.minimumHeight||(r.minsizes?r.minsizes[1]:su),r.sizes&&(2===r.sizes.length&&xt(r.sizes[0])&&xt(r.sizes[1])?(Ce("".concat(ou,": if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin")),o.img.w=r.sizes[0],o.img.h=r.sizes[1],delete o.img.hmin,delete o.img.wmin):Se("".concat(ou,": image.sizes was passed, but its value is not an array of integers: ").concat(r.sizes))),r.ext&&(o.img.ext=r.ext),r.mimes&&(o.img.mimes=r.mimes)}else"title"===n?(o.title={len:r.len||r.length||140},r.ext&&(o.title.ext=r.ext)):"ext"===n&&(o.ext=r,delete o.required);t.assets.push(o)}else Se("".concat(ou,": Unrecognized native asset code: ").concat(n,". Asset will be ignored."));return t.assets.length<1?(Se("".concat(ou,": Could not find any valid asset")),void(Iu=!0)):t}(e);return t}function Du(e){var t,n=e.mediaTypes.banner.sizes,r=[];if(n!==su&&De(n)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===n.length)return t=su,Se("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(n[0][0],10),t.h=parseInt(n[0][1],10),n=n.splice(1,n.length-1)}n.length>0&&(r=[],n.forEach((function(e){e.length>1&&r.push({w:e[0],h:e[1]})})),r.length>0&&(t.format=r)),t.pos=0,t.topframe=dt()?0:1}else Se("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=su;return t}function Bu(e){var t,n=Ft(h(e.mediaTypes,"video"),e.params.video);if(n!==su){for(var r in t={},function(e,t){h(e,"placement")||Se("Video.Placement param missing for "+t)}(n,e.adUnitCode),mu)n.hasOwnProperty(r)&&(t[r]=Eu(r,n[r],mu[r]));De(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):Be(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=su,Se("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function Pu(e){var t,n,r={},i={},o=e.hasOwnProperty("sizes")?e.sizes:[],a="",s=[];if(function(e,t){t.params.deals&&(De(t.params.deals)?t.params.deals.forEach((function(t){ze(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):Se("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):Se("PubMatic: Error: bid.params.deals should be an array of strings."))}(r={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Su("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Su("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Su("currency",e.params.currency):au},e),function(e,t){var n,r="";if(t.params.dctr)if(ze(r=t.params.dctr)&&r.length>0){var i=r.split("|");r="",i.forEach((function(e){r+=e.length>0?e.trim()+"|":""})),n=r.length,"|"===r.substring(n,n-1)&&(r=r.substring(0,n-1)),e.ext.key_val=r.trim()}else Se("PubMatic: Ignoring param : dctr with value : "+r+", expects string-value, found empty or non-string value")}(r,e),function(e,t){var n=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,r="";if(void 0!==n&&""!==n&&n.hasOwnProperty("segments")){var i,o=n.segments.length;r+="jw-id="+n.content.id;for(var a=0;a<o;a++)r+="|jw-"+n.segments[a]+"=1";(i=e.ext)&&void 0===i.key_val?i.key_val=r:i.key_val+="|"+r}}(r,e),e.hasOwnProperty("mediaTypes"))for(a in e.mediaTypes)switch(a){case Xn:(t=Du(e))!==su&&(r.banner=t);break;case $n:i.request=JSON.stringify(zu(e.nativeParams)),Iu?(Se("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),Iu=!1):r.native=i;break;case Kn:(n=Bu(e))!==su&&(r.video=n)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:dt()?0:1},De(o)&&o.length>1&&((o=o.splice(1,o.length-1)).forEach((function(e){s.push({w:e[0],h:e[1]})})),t.format=s),r.banner=t;return function(e,t){var n=nu({},h(t,"ortb2Imp.ext.data"));Object.keys(n).forEach((function(t){"pbadslot"===t?"string"==typeof n[t]&&n[t]&&Mt(e,"ext.data.pbadslot",n[t]):"adserver"===t?["name","adslot"].forEach((function(t){var r=h(n,"adserver.".concat(t));"string"==typeof r&&r&&(Mt(e,"ext.data.adserver.".concat(t.toLowerCase()),r),"adslot"===t&&Mt(e,"ext.dfp_ad_unit_code",r))})):Mt(e,"ext.data.".concat(t),n[t])}))}(r,e),function(e,t){var n=-1;"function"!=typeof t.getFloor||T.getConfig("pubmatic.disableFloors")||[Xn,Kn,$n].forEach((function(r){if(e.hasOwnProperty(r)){var i=[];"banner"===r&&(e[r].w&&e[r].h&&i.push([e[r].w,e[r].h]),De(e[r].format)&&e[r].format.forEach((function(e){return i.push([e.w,e.h])}))),0===i.length&&i.push("*"),i.forEach((function(i){var o=t.getFloor({currency:e.bidfloorcur,mediaType:r,size:i});if(Ce(ou,"floor from floor module returned for mediatype:",r," and size:",i," is: currency",o.currency,"floor",o.floor),"object"==typeof o&&o.currency===e.bidfloorcur&&!isNaN(parseInt(o.floor))){var a=parseFloat(o.floor);Ce(ou,"floor from floor module:",a,"previous floor value",n,"Min:",Math.min(a,n)),n=-1===n?a:Math.min(a,n),Ce(ou,"new floor value:",n)}}))}})),e.bidfloor&&(Ce(ou,"floor from floor module:",n,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(n,e.bidfloor)),n=Math.max(n,e.bidfloor)),e.bidfloor=!isNaN(n)&&n>0?n:su,Ce(ou,"new impObj.bidfloor value:",e.bidfloor)}(r,e),r.hasOwnProperty(Xn)||r.hasOwnProperty($n)||r.hasOwnProperty(Kn)?r:su}function Nu(e,t){(t=t.filter((function(e){return"string"==typeof e||(Se("PubMatic: acat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){return n.indexOf(e)===t}))).length>0&&(Se("PubMatic: acat: Selected: ",t),e.ext.acat=t)}function Fu(e){return!0===De(e)&&e.length>0}var Uu={code:iu,gvlid:76,supportedMediaTypes:[Xn,Kn,$n],isBidRequestValid:function(e){if(e&&e.params){if(!ze(e.params.publisherId))return Se("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(Kn)){var t=h(e.mediaTypes,"video.mimes"),n=h(e,"params.video.mimes");if(!1===Fu(t)&&!1===Fu(n))return Se("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[Kn].hasOwnProperty("context"))return xe("".concat(ou,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[Kn].context&&!ze(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[Kn].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(Xn)||e.mediaTypes.hasOwnProperty($n)?(delete e.mediaTypes[Kn],Se("".concat(ou,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):(xe("".concat(ou,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function(e,t){var n,r,i,o,a,s;t&&t.refererInfo&&(s=t.refererInfo);var c,u=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(s),d=function(e){return{id:""+(new Date).getTime(),at:1,cur:[au],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(u),l="",f=[],p=[],m=[];if(e.forEach((function(e){if((c=ut(e)).params.adSlot=c.params.adSlot||"",xu(c),c.mediaTypes&&c.mediaTypes.hasOwnProperty("video")||c.params.hasOwnProperty("video"));else if(!(c.hasOwnProperty("mediaTypes")&&c.mediaTypes.hasOwnProperty($n)||0!==c.params.width||0!==c.params.height))return void Se("PubMatic: Skipping the non-standard adslot: ",c.params.adSlot,JSON.stringify(c));u.pubId=u.pubId||c.params.publisherId,(u=function(e,t){var n,r,i;for(n in t.kadpageurl||(t.kadpageurl=t.pageURL),uu)uu.hasOwnProperty(n)&&(r=e[n])&&("object"==typeof(i=uu[n])&&(r=i.f(r,t)),ze(r)?t[n]=r:Se("PubMatic: Ignoring param : "+n+" with value : "+uu[n]+", expects string-value, found "+typeof r));return t}(c.params,u)).transactionId=c.transactionId,""===l?l=c.params.currency||su:c.params.hasOwnProperty("currency")&&l!==c.params.currency&&Se("PubMatic: Currency specifier ignored. Only one currency permitted."),c.params.currency=l,c.params.hasOwnProperty("dctr")&&ze(c.params.dctr)&&f.push(c.params.dctr),c.params.hasOwnProperty("bcat")&&De(c.params.bcat)&&(p=p.concat(c.params.bcat)),c.params.hasOwnProperty("acat")&&De(c.params.acat)&&(m=m.concat(c.params.acat));var t=Pu(c);t&&d.imp.push(t)})),0!=d.imp.length){d.site.publisher.id=u.pubId.trim(),wu=u.pubId.trim(),d.ext.wrapper={},d.ext.wrapper.profile=parseInt(u.profId)||su,d.ext.wrapper.version=parseInt(u.verId)||su,d.ext.wrapper.wiid=u.wiid||t.auctionId,d.ext.wrapper.wv="prebid_prebid_7.48.0",d.ext.wrapper.transactionId=u.transactionId,d.ext.wrapper.wp="pbjs";var g,v,b=t?On.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==b){if(d.ext.marketplace={},t&&1==b){var y=On.get(t.bidderCode,"allowedAlternateBidderCodes");De(y)?(y=y.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(Ye),_u=y.includes("*")?Cu:[].concat(Zc(_u),Zc(y))):_u=Cu}d.ext.marketplace.allowedbidders=_u.filter(Ye)}d.user.gender=u.gender?u.gender.trim():su,d.user.geo={},d.user.geo.lat=Su("lat",u.lat),d.user.geo.lon=Su("lon",u.lon),d.user.yob=Su("yob",u.yob),d.device.geo=d.user.geo,d.site.page=u.kadpageurl.trim()||d.site.page.trim(),d.site.domain=(g=d.site.page,(v=document.createElement("a")).href=g,v.hostname),"object"==typeof T.getConfig("content")&&(d.site.content=T.getConfig("content")),"object"==typeof T.getConfig("device")&&(d.device=Yc(d.device,T.getConfig("device"))),d.device.language=d.device.language&&d.device.language.split("-")[0],Mt(d,"source.tid",u.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(d.test=1),e[0].schain&&Mt(d,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(Mt(d,"user.ext.consent",t.gdprConsent.consentString),Mt(d,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&Mt(d,"regs.ext.us_privacy",t.uspConsent),!0===T.getConfig("coppa")&&Mt(d,"regs.coppa",1),function(e,t){var n=h(t,"0.userIdAsEids");De(n)&&n.length>0&&Mt(e,"user.eids",n)}(d,e);var w,I,_,C,S=t&&t.ortb2||{};if(S.site){var x=d.site,E=x.page,A=x.domain,O=x.ref;Ft(d,{site:S.site}),d.site.page=E,d.site.domain=A,d.site.ref=O}if(S.user&&Ft(d,{user:S.user}),S.bcat&&(p=p.concat(S.bcat)),null!==(n=S.device)&&void 0!==n&&n.sua&&(d.device.sua=null===(w=S.device)||void 0===w?void 0:w.sua),null!==(r=S.ext)&&void 0!==r&&null!==(i=r.prebid)&&void 0!==i&&null!==(o=i.bidderparams)&&void 0!==o&&null!==(a=o[t.bidderCode])&&void 0!==a&&a.acat){var k=S.ext.prebid.bidderparams[t.bidderCode].acat;Nu(d,k)}else m.length&&Nu(d,m);return function(e,t){(t=t.filter((function(e){return"string"==typeof e||(Se("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){if(e.length>3)return n.indexOf(e)===t;Se("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&(Se("PubMatic: bcat: Selected: ",t),e.bcat=t)}(d,p),null!=t&&t.timeout?d.tmax=t.timeout:d.tmax=null===(I=window)||void 0===I||null===(_=I.PWT)||void 0===_||null===(C=_.versionDetails)||void 0===C?void 0:C.timeout,d.ext.epoch=(new Date).getTime(),"object"==typeof T.getConfig("app")&&(d.app=T.getConfig("app"),d.app.publisher=d.site.publisher,d.app.ext=d.site.ext||su,"object"!=typeof d.app.content&&(d.app.content=d.site.content||su),delete d.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(d),bidderRequest:t}}},interpretResponse:function(e,t){var n=[],r=au,i=JSON.parse(t.data),o=i.site&&i.site.ref?i.site.ref:"";try{e.body&&e.body.seatbid&&De(e.body.seatbid)&&(r=e.body.cur||r,e.body.seatbid.forEach((function(e){e.bid&&De(e.bid)&&e.bid.forEach((function(a){var s={requestId:a.impid,cpm:parseFloat((a.price||0).toFixed(2)),width:a.w,height:a.h,creativeId:a.crid||a.id,dealId:a.dealid,currency:r,netRevenue:!0,ttl:300,referrer:o,ad:a.adm,pm_seat:e.seat||null,pm_dspid:a.ext&&a.ext.dspid?a.ext.dspid:null,partnerImpId:a.id||""};i.imp&&i.imp.length>0&&i.imp.forEach((function(e){if(a.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=yu[e.ext.bidtype];else{Ce("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var n=e.adm,r="",i=new RegExp(/VAST\s+version/);if(n.indexOf('span class="PubAPIAd"')>=0)t.mediaType=Xn;else if(i.test(n))t.mediaType=Kn;else try{(r=JSON.parse(n.replace(/\\/g,"")))&&r.native&&(t.mediaType=$n)}catch(e){Se("PubMatic: Error: Cannot parse native reponse for ad response: "+n)}}}(a,s),s.mediaType){case Xn:break;case Kn:s.width=a.hasOwnProperty("w")?a.w:e.video.w,s.height=a.hasOwnProperty("h")?a.h:e.video.h,s.vastXml=a.adm,function(e,t){var n,r,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(n=t.bidderRequest.bids[o].params,r=t.bidderRequest.bids[o].mediaTypes[Kn].context,i=t.bidderRequest.bids[o].adUnitCode);r&&"outstream"===r&&n&&n.outstreamAU&&i&&(e.rendererCode=n.outstreamAU,e.renderer=bu.newRenderer(e.rendererCode,i))}}(s,t),function(e,t,n){var r,i,o;if(null!=t&&null!==(r=t.ext)&&void 0!==r&&r.prebiddealpriority){var a=h(et(e.requestId,[n.bidderRequest]),"mediaTypes.video");if((null==a?void 0:a.context)==Qn){var s=(null==t||null===(i=t.ext)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.duration)||(null==a?void 0:a.maxduration);e.video={context:Qn,durationSeconds:s,dealTier:t.ext.prebiddealpriority}}}}(s,a,t);break;case $n:!function(e,t){if(e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void Se("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}t.native={ortb:nu({},n.native)},t.mediaType=$n,t.width||(t.width=0),t.height||(t.height=0)}}(a,s)}})),a.ext&&a.ext.deal_channel&&(s.dealChannel=vu[a.ext.deal_channel]||null),function(e,t,n){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);var r=n||t.ext&&t.ext.advid;r&&(e.meta.advertiserId=r,e.meta.agencyId=r,e.meta.buyerId=r),t.adomain&&Fu(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&Fu(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0])}(s,a,e.seat),e.ext&&e.ext.buyid&&(s.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),a.ext&&a.ext.marketplace&&(s.bidderCode=a.ext.marketplace),n.push(s)}))})))}catch(e){xe(e)}return n},getUserSyncs:function(e,t,n,r){var i=""+wu;return n&&(i+="&gdpr="+(n.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),r&&(i+="&us_privacy="+encodeURIComponent(r)),!0===T.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,t,n,r){return Ot({publisherId:"string",adSlot:"string"},e)}};function Mu(e){return function(e){if(Array.isArray(e))return qu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lu(Object(n),!0).forEach((function(t){Hu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Tr(Uu),i("pubmaticBidAdapter");var Vu="ix",Gu="roundel",Ju=[Xn,Kn,$n],$u=[144,144],Ku={JPY:1},Xu="p",Qu="x",Yu=1,Zu=2,ed=3,td=4,nd=5,rd=9,id={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},od={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":"","intimatemerger.com":""},ad=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId"],sd=["mimes","minduration","maxduration"],cd=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],ud="ixdiag",dd="".concat(Vu,"_features"),ld=!1,fd=Nn({bidderCode:Vu}),pd={REQUESTED_FEATURE_TOGGLES:[],featureToggles:{},isFeatureEnabled:function(e){return h(this.featureToggles,"features.".concat(e,".activated"),!1)},getFeatureToggles:function(){if(fd.localStorageIsEnabled()){var e=function(e){try{return JSON.parse(e)}catch(e){}}(fd.getDataFromLocalStorage(dd));h(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){var t=e.body,n=new Date,r=h(t,"ext.features");r&&(this.featureToggles={expiry:n.setHours(n.getHours()+1),features:r},fd.localStorageIsEnabled()&&fd.setDataInLocalStorage(dd,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},fd.localStorageIsEnabled()&&fd.removeDataFromLocalStorage(dd)}},md=0,gd="",hd="",vd=2;function bd(e){var t=yd(e,Kn),n=h(e,"mediaTypes.video"),r=h(e,"params.video");if(Sd(n,r).length)return{};for(var i in t.video=r?ut(e.params.video):{},t.ext.tid=h(e,"ortb2Imp.ext.tid"),kd(t,e),n)-1===cd.indexOf(i)||t.video.hasOwnProperty(i)||(t.video[i]=n[i]);if(t.video.minduration>t.video.maxduration)return xe("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]"),{bidder:Vu,code:rd}),{};var o=r&&r.context||n&&n.context;if(o&&!t.video.hasOwnProperty("placement")&&(o===Vn?t.video.placement=1:o===Hn?h(r,"playerConfig.floatOnScroll")?t.video.placement=5:t.video.placement=4:Se("IX Bid Adapter: Video context '".concat(o,"' is not supported"))),!t.video.w||!t.video.h){var a=xd(h(t,"video.playerSize"))||xd(h(e,"params.size"));if(!a)return Se("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=a[0],t.video.h=a[1]}return wd(e,t,Kn),t}function yd(e,t){var n={};if(n.id=e.bidId,n.ext={},h(e,"params.".concat(t,".siteId"))&&!isNaN(Number(e.params[t].siteId)))switch(t){case Xn:n.ext.siteID=e.params.banner.siteId.toString();break;case Kn:n.ext.siteID=e.params.video.siteId.toString();break;case $n:n.ext.siteID=e.params.native.siteId.toString()}else n.ext.siteID=e.params.siteId.toString();return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(n.ext.sid=String(e.params.id)),n}function wd(e,t,n){var r=null,i=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(r={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),Re(e.getFloor)){var o="*",a="*";if(n&&qe(Ju,n)){var s=t[n];o=n,a=[s.w,s.h]}try{i=e.getFloor({mediaType:o,size:a})}catch(e){Se("priceFloors module call getFloor failed, error : ",e)}}i?(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl=Xu):r&&(t.bidfloor=r.floor,t.bidfloorcur=r.currency,t.ext.fl=Qu)}function Id(e,t,n){var r={},i=!(!h(e,"exp")||!xt(e.exp)),o=h(e,"dealid")||h(e,"ext.dealid");Ku.hasOwnProperty(t)?r.cpm=e.price/Ku[t]:r.cpm=e.price/100,r.requestId=e.impid,o&&(r.dealId=o),r.netRevenue=!0,r.currency=t,r.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype!=vd||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(r.vastUrl=e.ext.vasturl):r.vastXml=e.adm;var a=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{a=JSON.parse(e.adm)}catch(e){Se("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||e.mtype==vd?(r.width=n.video.w,r.height=n.video.h,r.mediaType=Kn,r.mediaTypes=n.mediaTypes,r.ttl=i?e.exp:3600):a&&a.native?(r.native={ortb:a.native},r.width=e.w?e.w:1,r.height=e.h?e.h:1,r.mediaType=$n,r.ttl=i?e.exp:3600):(r.ad=e.adm,r.width=e.w,r.height=e.h,r.mediaType=Xn,r.ttl=i?e.exp:300),r.meta={},r.meta.networkId=h(e,"ext.dspid"),r.meta.brandId=h(e,"ext.advbrandid"),r.meta.brandName=h(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(r.meta.advertiserDomains=e.adomain),r}function _d(e){return Array.isArray(e)&&2===e.length&&xt(e[0])&&xt(e[1])}function Cd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(_d(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return!0;return!1}function Sd(e,t){var n=[];for(var r of(e||Se("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit"),sd)){var i=e&&e.hasOwnProperty(r),o=t&&t.hasOwnProperty(r);i||o||n.push("IX Bid Adapter: ".concat(r," is not included in either the adunit or params level"))}var a=e&&e.hasOwnProperty("protocol"),s=e&&e.hasOwnProperty("protocols"),c=t&&t.hasOwnProperty("protocol"),u=t&&t.hasOwnProperty("protocols");return a||s||c||u||n.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),n}function xd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _d(e)?e:!!_d(e[0])&&e[0]}function Ed(e,t,n){if(e)return Wu(Wu({},a(n,(function(t){return t.bidId===e}))),a(t,(function(t){return t.id===e})))}function Ad(e,t,n,r){var i="https://htlb.casalemedia.com/openrtb/pbjs",o=function(e){var t=[],n={};if(De(e))for(var r of e)od.hasOwnProperty(r.source)&&h(r,"uids.0")&&(n[r.source]=!0,""!=od[r.source]&&(r.uids[0].ext={rtiPartner:od[r.source]}),delete r.uids[0].atype,t.push(r));return{toSend:t,seenSources:n}}(h(e,"0.userIdAsEids")),a=o.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){var n=window.headertag.getIdentityInfo();if(n&&"object"==typeof n)for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];!i.responsePending&&i.data&&"object"==typeof i.data&&Object.keys(i.data).length&&!t.seenSources[i.data.source]&&e.push(i.data)}}(a,o),t&&t.bidderCode===Gu&&!o.seenSources["liveramp.com"])return[];var s=[],c=function(e){var t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=fd.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);c=function(e,t){return t.length>0&&(e.ext.features={},t.forEach((function(t){e.ext.features[t]={activated:pd.isFeatureEnabled(t)}}))),e}(c,pd.REQUESTED_FEATURE_TOGGLES);var u=function(e){for(var t=e.map((function(e){return e.transactionId})).filter((function(e,t,n){return n.indexOf(e)===t})),n={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"7.48.0",userIds:Rd(e[0]),url:window.location.href.split("?")[0]},r=function(r){h(o=e.filter((function(e){return e.transactionId===t[r]}))[0],"mediaTypes")&&(Object.keys(o.mediaTypes).length>1&&n.mfu++,h(o,"mediaTypes.native")&&n.nu++,h(o,"mediaTypes.banner")&&n.bu++,"outstream"===h(o,"mediaTypes.video.context")&&(n.ou++,qd(o)&&(n.ren=!0)),"instream"===h(o,"mediaTypes.video.context")&&n.iu++,n.allu++)},i=0;i<t.length;i++){var o;r(i)}return n}(e);for(var d in u)c.ext.ixdiag[d]=u[d];c=function(e,t,n,r,i){var o=h(t,"timeout");o&&(e.ext.ixdiag.tmax=o),T.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=T.getConfig("userSync").syncsPerBidder);var a=function(){if(fd.localStorageIsEnabled()){var e,t={};try{e=JSON.parse(fd.getDataFromLocalStorage(ud)||"{}")}catch(e){return xe("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(r){"number"==typeof e[n][r]&&(t[r]=t[r]?t[r]+e[n][r]:e[n][r])}))})),t}}();return Fe(a)||(e.ext.ixdiag.err=a),e.ext.ixdiag.imps=Object.keys(n).length,e.source={tid:r[0].auctionId},r[0].schain&&(e.source.ext={},e.source.ext.schain=r[0].schain),i.length>0&&(e.user={},e.user.eids=i),document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer),e}(c,t,n,e,a),c=function(e,t){if(t){t.gdprConsent&&((gd=t.gdprConsent).hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:gd.gdprApplies?1:0}}),gd.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:gd.consentString||""},gd.hasOwnProperty("addtlConsent")&&gd.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:gd.addtlConsent}))),t.uspConsent&&(Mt(e,"regs.ext.us_privacy",t.uspConsent),hd=t.uspConsent);var n=h(t,"refererInfo.page");n&&(e.site.page=n),t.gppConsent&&(Mt(e,"regs.gpp",t.gppConsent.gppString),Mt(e,"regs.gpp_sid",t.gppConsent.applicableSections))}return T.getConfig("coppa")&&Mt(e,"regs.coppa",1),e}(c,t),function(e,t,n,r,i,o){md=e[0].params.siteId,o.s=md;var a=t&&t.bidderCode||"ix",s=T.getConfig(a);if(s&&"object"==typeof s.firstPartyData){var c=s.firstPartyData,u="?";for(var d in c)c.hasOwnProperty(d)&&(u+="".concat(encodeURIComponent(d),"=").concat(encodeURIComponent(c[d]),"&"));u=u.slice(0,-1),"page"in n.site?n.site.page+=u:n.site.page=u}}(e,t,c,0,0,{});for(var l=Object.keys(n),f=!1,p=0;p<l.length&&!(s.length>=4);p++){c=Td(n,l,c,p);var m=h(t,"ortb2")||{},g=Wu({},m.site||m.context),v=Wu({},m.user);if(!Fe(m)&&!f){var b=ut(c=Od(t,c,m,g,v));b.site=Ft({},b.site,g),b.user=Ft({},b.user,v),c.site=Ft({},c.site,g),c.user=Ft({},c.user,v),f=!0}c=jd(n,c,l,p),p===l.length-1&&(s.push({method:"POST",url:i+"?s="+md,data:ut(c),option:{contentType:"text/plain"},validBidRequests:e}),c.imp=[],f=!1)}return s}function Td(e,t,n,r){var i=e[t[r]],o=i.missingImps,a=void 0===o?[]:o,s=i.ixImps,c={ixImps:void 0===s?[]:s,missingBannerImpressions:a},u=Object.keys(c).map((function(e){return c[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,t){return e.concat.apply(e,Mu(t))}),[]),d=e[t[r]].gpid,l=e[t[r]].dfp_ad_unit_code,f=e[t[r]].tid,p=e[t[r]].sid;if(u.length&&Xn in u[0]){for(var m=u[0],g={id:m.id,banner:{topframe:m.banner.topframe,format:u.map((function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}}))}},h=0;h<g.banner.format.length;h++)null!=g.banner.format[h].ext&&null!=g.banner.format[h].ext.sid&&delete g.banner.format[h].ext.sid,"bidfloor"in u[h]&&(g.banner.format[h].ext.bidfloor=u[h].bidfloor);var v=e[t[r]].pos;xt(v)&&(g.banner.pos=v),(l||d||f||p)&&(g.ext={},g.ext.dfp_ad_unit_code=l,g.ext.gpid=d,g.ext.tid=f,g.ext.sid=p),"bidfloor"in u[0]&&(g.bidfloor=u[0].bidfloor),"bidfloorcur"in u[0]&&(g.bidfloorcur=u[0].bidfloorcur);var b=e[t[r]].adUnitFPD;b&&(g.ext.data=b),n.imp.push(g)}else{var y;u.forEach((function(e){return Mt(e,"ext.gpid",d)})),(y=n.imp).push.apply(y,Mu(u))}return n}function Od(e,t,n,r,i){if(t.ext.ixdiag.fpd=!0,Object.keys(r).forEach((function(e){-1===id.SITE.indexOf(e)&&delete r[e]})),Object.keys(i).forEach((function(e){-1===id.USER.indexOf(e)&&delete i[e]})),n.device){var o=Wu({},n.device.sua);Fe(o)||Mt(t,"device.sua",o)}return n.hasOwnProperty("regs")&&!e.gppConsent&&(n.regs.hasOwnProperty("gpp")&&"string"==typeof n.regs.gpp&&Mt(t,"regs.gpp",n.regs.gpp),n.regs.hasOwnProperty("gpp_sid")&&Array.isArray(n.regs.gpp_sid)&&Mt(t,"regs.gpp_sid",n.regs.gpp_sid)),t}function kd(e,t){var n=h(t,"ortb2Imp.ext.data");n&&Mt(e,"ext.data",n)}function jd(e,t,n,r,i,o){var a=e[n[r]].pbadslot,s=e[n[r]].tagId,c=e[n[r]].adUnitCode,u=e[n[r]].divId;return(a||s||c||u)&&(t.ext.ixdiag.pbadslot=a,t.ext.ixdiag.tagid=s,t.ext.ixdiag.adunitcode=c,t.ext.ixdiag.divId=u),t}function Rd(e){var t=e.userId||{};return ad.filter((function(e){return t[e]}))}function zd(e,t){if(t)for(var n=0;n<e.length;n++){var r=e[n];if(t[0]===r[0]&&t[1]===r[1]){e.splice(n,1);break}}}function Dd(e,t){var n=function(e){var t=yd(e,$n),n=e.nativeOrtbRequest;return n.eventtrackers=[{event:1,methods:[1,2]}],n.privacy=1,t.native={request:JSON.stringify(n),ver:"1.2"},t.ext.tid=h(e,"ortb2Imp.ext.tid"),kd(t,e),wd(e,t,$n),t}(e);if(0!=Object.keys(n).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(n),t[e.transactionId].gpid=h(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=h(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=h(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=h(e,"params.tagId");var r=e.adUnitCode,i=document.getElementById(r)?r:Ct(r).divId;t[e.transactionId].adUnitCode=r,t[e.transactionId].divId=i}}function Bd(e,t){var n=bd(e);if(0!=Object.keys(n).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(n),t[e.transactionId].gpid=h(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=h(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=h(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=h(e,"params.tagId");var r=e.adUnitCode,i=document.getElementById(r)?r:Ct(r).divId;t[e.transactionId].adUnitCode=r,t[e.transactionId].divId=i}}function Pd(e,t,n){var r=function(e){var t=yd(e,Xn);t.banner={};var n=h(e,"params.size");return n&&(t.banner.w=n[0],t.banner.h=n[1]),t.banner.topframe=dt()?0:1,wd(e,t,Xn),t}(e),i=Cd(h(e,"mediaTypes.banner.sizes"),h(e,"params.size"));n.hasOwnProperty(e.transactionId)||(n[e.transactionId]={}),n[e.transactionId].gpid=h(e,"ortb2Imp.ext.gpid"),n[e.transactionId].dfp_ad_unit_code=h(e,"ortb2Imp.ext.data.adserver.adslot"),n[e.transactionId].tid=h(e,"ortb2Imp.ext.tid"),n[e.transactionId].pbadslot=h(e,"ortb2Imp.ext.data.pbadslot"),n[e.transactionId].tagId=h(e,"params.tagId"),n[e.transactionId].pos=h(e,"mediaTypes.banner.pos");var o=h(e,"ortb2Imp.ext.data");o&&(n[e.transactionId].adUnitFPD=o);var a=h(e,"params.id");!a||"string"!=typeof a&&"number"!=typeof a||(n[e.transactionId].sid=String(a));var s=e.adUnitCode,c=document.getElementById(s)?s:Ct(s).divId;n[e.transactionId].adUnitCode=s,n[e.transactionId].divId=c,i&&(n[e.transactionId].hasOwnProperty("ixImps")||(n[e.transactionId].ixImps=[]),n[e.transactionId].ixImps.push(r)),function(e,t,n){var r=e.transactionId;if(t.hasOwnProperty(r)){var i=[];t[r].hasOwnProperty("missingSizes")&&(i=t[r].missingSizes),zd(i,e.params.size),t[r].missingSizes=i}else if(h(e,"mediaTypes.banner.sizes")){var o=ut(e.mediaTypes.banner.sizes);zd(o,e.params.size);var a={missingSizes:o,impression:n};t[r]=a}}(e,t,r)}function Nd(e,t,n){var r=ut(t);return r.banner.w=n[0],r.banner.h=n[1],wd(e,r,Xn),r}function Fd(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Vu&&function(e){if(fd.localStorageIsEnabled()){var t;try{t=JSON.parse(fd.getDataFromLocalStorage(ud)||"{}")}catch(e){Se("ix can not read ixdiag from localStorage.")}var n=new Date;if(Object.keys(t).map((function(e){var r=new Date(e);r.setDate(r.getDate()+7)-n<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Vu){var r=n.toISOString().slice(0,10),i=e.arguments[1].code;i&&(t[r]=t[r]||{},Number(t[r][i])||(t[r][i]=0),t[r][i]++)}fd.setDataInLocalStorage(ud,JSON.stringify(t))}}(e)}function Ud(e){e.renderer.push((function(){var t=e.adUnitCode,n=document.getElementById(t)?t:Ct(t).divId;n?window.createIXPlayer(n,e):Se("IX Bid Adapter: adUnitCode: ".concat(n," not found on page."))}))}function Md(e,t){var n=ln.install({id:e,url:t,loaded:!1});try{n.setRender(Ud)}catch(e){return Se("Prebid Error calling setRender on renderer",e),null}return t?n:(Se("Outstream renderer URL not found"),null)}function qd(e){if("outstream"!==h(e,"mediaTypes.video.context"))return!1;var t=h(e,"mediaTypes.video.renderer");return t||(t=h(e,"renderer")),!("object"==typeof t&&t.url&&t.render)||t.backupOnly}function Ld(e){return function(e){if(Array.isArray(e))return Wd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Tr({code:Vu,gvlid:10,aliases:[{code:Gu,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:Ju,isBidRequestValid:function(e){ld||(Kt(v.FP.AUCTION_DEBUG,Fd),Kt(v.FP.AD_RENDER_FAILED,Fd),ld=!0);var t,n,r=h(e,"params.video"),i=h(e,"params.size"),o=h(e,"mediaTypes.banner.sizes"),a=h(e,"mediaTypes.video"),s=h(e,"mediaTypes.video.playerSize"),c=e.params.hasOwnProperty("bidFloor"),u=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!qe(Ju,e.mediaType))return Se("IX Bid Adapter: media type is not supported."),!1;if(h(e,"mediaTypes.banner")&&!o)return!1;if(i){var d=xd(i);if(!d)return xe("IX Bid Adapter: size has invalid format.",{bidder:Vu,code:Yu}),!1;if(!Cd(e.sizes,d)&&!Cd(s,d)&&!Cd(o,d))return xe("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:Vu,code:Zu}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return xe("IX Bid Adapter: siteId must be string or number type.",{bidder:Vu,code:td}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return xe("IX Bid Adapter: siteId must valid value",{bidder:Vu,code:td}),!1;if((c||u)&&!(c&&u&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/)))))return xe("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:Vu,code:nd}),!1;if(a&&r){var l=bd(e).video,f=Sd(a,r);if(h(e,"mediaTypes.video.context")===Hn&&qd(e)&&l){var p=[h(l,"w"),h(l,"h")];if(!(p[0]>=$u[0]&&p[1]>=$u[1]))return xe("IX Bid Adapter: ".concat(p," is an invalid size for IX outstream renderer")),!1}if(f.length)return f.forEach((function(e){xe(e,{bidder:Vu,code:ed})})),!1}return function(e){return void 0===h(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},buildRequests:function(e,t){var n=[],r={},i={},o={},a={};for(var s in pd.getFeatureToggles(),e.forEach((function(e){var t=Object.keys(h(e,"mediaTypes",{}));for(var n in t)switch(t[n]){case Xn:Pd(e,a,r);break;case Kn:Bd(e,i);break;case $n:Dd(e,o);break;default:Se("IX Bid Adapter: ad unit mediaTypes ".concat(n," is not supported"))}})),a)if(a.hasOwnProperty(s)){var c=a[s].missingSizes;r.hasOwnProperty(s)||(r[s]={}),r[s].hasOwnProperty("missingImps")||(r[s].missingImps=[],r[s].missingCount=0);for(var u=a[s].impression,d=0;d<c.length;d++){var l=Nd(e[0],u,c[d]);r[s].missingImps.push(l),r[s].missingCount++}}return Object.keys(r).length>0&&n.push.apply(n,Mu(Ad(e,t,r))),Object.keys(i).length>0&&n.push.apply(n,Mu(Ad(e,t,i))),Object.keys(o).length>0&&n.push.apply(n,Mu(Ad(e,t,o))),n},interpretResponse:function(e,t){var n=[],r=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return pd.setFeatureToggles(e),n;for(var i=e.body,o=i.seatbid,a=0;a<o.length;a++)if(o[a].hasOwnProperty("bid")){for(var s=o[a].bid,c=t.data,u=0;u<s.length;u++){var d=Ed(s[u].impid,c.imp,t.validBidRequests);if((r=Id(s[u],i.cur,d)).mediaType===Kn&&qd(d)){var l=h(i,"ext.videoplayerurl");if(r.renderer=Md(s[u].bidId,l),!r.renderer)continue}n.push(r)}if(h(c,"ext.ixdiag.err")&&fd.localStorageIsEnabled())try{fd.removeDataFromLocalStorage(ud)}catch(e){xe("ix can not clear ixdiag from localStorage.")}}return pd.setFeatureToggles(e),n},transformBidParams:function(e,t){return Ot({siteID:"number"},e)},getUserSyncs:function(e,t){var n,r,i,o,a=[],s=null;if(t.length>0&&(s=h(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==s&&0==s)return[];if(e.iframeEnabled)a.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var c=null;T.getConfig("userSync")&&(c=T.getConfig("userSync").syncsPerBidder),0===c&&(c=s),c=s&&(0===c||c)?s>c?c:s:1;for(var u=0;u<c;u++)a.push({type:"image",url:(n=c,r=u,i=void 0,o=void 0,i="",o="0",gd&&gd.hasOwnProperty("gdprApplies")&&(o=gd.gdprApplies?"1":"0"),gd&&gd.hasOwnProperty("consentString")&&(i=gd.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid&site_id="+md.toString()+"&p="+n.toString()+"&i="+r.toString()+"&gdpr="+o+"&gdpr_consent="+i+"&us_privacy="+(hd||""))})}return a}}),i("ixBidAdapter");var Hd="conversant",Vd=Nn({gvlid:24,bidderCode:Hd}),Gd={code:Hd,gvlid:24,aliases:["cnvr"],supportedMediaTypes:[Xn,Kn],isBidRequestValid:function(e){if(!e||!e.params)return Se("conversant: Missing bid parameters"),!1;if(!ze(e.params.site_id))return Se("conversant: site_id must be specified as a string"),!1;if($d(e)){var t=e.params.mimes||h(e,"mediaTypes.video.mimes");if(t){if(!De(t)||!t.every((function(e){return ze(e)})))return Se("conversant: mimes must be an array of strings"),!1}else Se("conversant: mimes should be specified for videos")}return!0},buildRequests:function(e,t){var n,r=t&&t.refererInfo?t.refererInfo.page:"",i="",o="",a=null,s="_pubcid",c="https://web.hb.ad.cpe.dotomi.com/cvx/client/hb/ortb/25",u=e.map((function(e){var t=function(e){var t=ge("bidfloor",e.params);if(!t&&Re(e.getFloor)){var n=e.getFloor({currency:"USD",mediaType:"*",size:"*"});Pe(n)&&!isNaN(n.floor)&&"USD"===n.currency&&(t=n.floor)}return t}(e);i=ge("site_id",e.params)||i,s=ge("pubcid_name",e.params)||s,o=e.auctionId;var n={id:e.bidId,secure:1,bidfloor:t||0,displaymanager:"Prebid.js",displaymanagerver:"7.48.0"};if(e.ortb2Imp&&Ft(n,e.ortb2Imp),Kd(e.params.tag_id,n,"tagid"),$d(e)){var r=h(e,"mediaTypes.video")||{},u=Jd(r.playerSize||e.sizes),d={};u&&u[0]&&(Kd(u[0].w,d,"w"),Kd(u[0].h,d,"h")),Kd(e.params.position||r.pos,d,"pos"),Kd(e.params.mimes||r.mimes,d,"mimes"),Kd(e.params.maxduration||r.maxduration,d,"maxduration"),Kd(e.params.protocols||r.protocols,d,"protocols"),Kd(e.params.api||r.api,d,"api"),n.video=d}else{var l=h(e,"mediaTypes.banner")||{},f={format:Jd(l.sizes||e.sizes)};Kd(e.params.position||l.pos,f,"pos"),n.banner=f}return e.userId&&e.userId.pubcid?a=e.userId.pubcid:e.crumbs&&e.crumbs.pubcid&&(a=e.crumbs.pubcid),e.params.white_label_url&&(c=e.params.white_label_url),n})),d={id:o,imp:u,source:{tid:o},site:{id:i,mobile:null!==document.querySelector('meta[name="viewport"][content*="width=device-width"]')?1:0,page:r},device:(n=navigator.language?"language":"userLanguage",{h:screen.height,w:screen.width,dnt:"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack?1:0,language:navigator[n].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent}),at:1},l={},f=h(e,"0.schain");f&&Mt(d,"source.ext.schain",f),t&&(t.timeout&&Mt(d,"tmax",t.timeout),t.gdprConsent&&(l.consent=t.gdprConsent.consentString,"boolean"==typeof t.gdprConsent.gdprApplies&&Mt(d,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t.uspConsent&&Mt(d,"regs.ext.us_privacy",t.uspConsent)),a||(a=function(e){var t;try{if(!(t=Vd.getCookie(e))){var n=Vd.getDataFromLocalStorage("".concat(e,"_exp"));(""===n||n&&new Date(n).getTime()-Date.now()>0)&&(t=(t=Vd.getDataFromLocalStorage(e))?decodeURIComponent(t):t)}ze(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t))}catch(e){xe(e)}return t}(s)),a&&(l.fpc=a);var p=function(e){var t=e[0],n=[];if(De(t.userIdAsEids)&&t.userIdAsEids.length>0){var r={"epsilon.com":1,"adserver.org":1,"liveramp.com":1,"criteo.com":1,"id5-sync.com":1,"parrable.com":1,"liveintent.com":1};t.userIdAsEids.forEach((function(e){r.hasOwnProperty(e.source)&&n.push(e)}))}return n}(e);return p.length>0&&(l.eids=p),Fe(l)||(d.user={ext:l}),Ft(d,t.ortb2||{}),{method:"POST",url:c,data:d}},interpretResponse:function(e,t){var n=[],r={};return e=e.body,t&&t.data&&t.data.imp&&Me(t.data.imp,(function(e){return r[e.id]=e})),e&&De(e.seatbid)&&Me(e.seatbid,(function(t){Me(t.bid,(function(t){var i=parseFloat(t.price);if(i>0&&t.impid){var o=t.adm||"",a=t.nurl||"",s=r[t.impid],c={requestId:t.impid,currency:e.cur||"USD",cpm:i,creativeId:t.crid||"",ttl:300,netRevenue:!0,meta:{}};t.adomain&&t.adomain.length>0&&(c.meta.advertiserDomains=t.adomain),s.video?("<"===o.charAt(0)?c.vastXml=o:c.vastUrl=o,c.mediaType="video",c.width=s.video.w,c.height=s.video.h):(c.ad=o+'<img src="'+a+'" />',c.width=t.w,c.height=t.h),n.push(c)}}))})),n},transformBidParams:function(e,t){return Ot({site_id:"string",secure:"number",mobile:"number"},e)},getUserSyncs:function(e,t,n,r){var i={},o=[];if(n&&(i.gdpr=n.gdprApplies?1:0,i.gdpr_consent=encodeURIComponent(n.consentString||"")),r&&(i.us_privacy=encodeURIComponent(r)),t&&t.ext){var a=[{urls:t.ext.fsyncs,type:"iframe"},{urls:t.ext.psyncs,type:"image"}].filter((function(t){return t.urls&&("iframe"===t.type&&e.iframeEnabled||"image"===t.type&&e.pixelEnabled)})).map((function(e){return e.urls.map((function(t){var n=Bt(t);return Ft(n.search,i),0===Object.keys(n.search).length&&delete n.search,{type:e.type,url:Pt(n)}})).reduce((function(e,t){return e.concat(t)}),[])})).reduce((function(e,t){return e.concat(t)}),[]);o.push.apply(o,Ld(a))}return o}};function Jd(e){var t;return Array.isArray(e)&&(t=2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?[{w:e[0],h:e[1]}]:Le(e,(function(e){return{w:e[0],h:e[1]}}))),t}function $d(e){return"video"===e.mediaType||!!h(e,"mediaTypes.video")}function Kd(e,t,n){e&&(t[n]=e)}function Xd(e){return null==e||!e.gdprApplies||!0===h(e,"vendorData.purpose.consents.1")}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qd.apply(this,arguments)}function Yd(e){return function(e){if(Array.isArray(e))return Zd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Zd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Tr(Gd),i("conversantBidAdapter");var el="appnexus",tl="https://ib.adnxs.com/ut/v3/prebid",nl="https://ib.adnxs-simple.com/ut/v3/prebid",rl=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],il=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],ol=["age","externalUid","external_uid","segments","gender","dnt","language"],al=["geo","device_id"],sl=["enabled","dongle","member_id","debug_timeout"],cl={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},ul={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},dl={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},ll="<script",fl=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,pl="trk.js",ml=Nn({bidderCode:el}),gl={code:el,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"defymedia",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618}],supportedMediaTypes:[Xn,Kn,$n],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,t){var n,r,i=(e=function(e){if(!e||!De(e))return e;if(!e.some((function(e){var t;return null===(t=((null==e?void 0:e.mediaTypes)||{})[$n])||void 0===t?void 0:t.ortb})))return e;var t=ut(e);for(var n of t)n.mediaTypes&&n.mediaTypes[$n]&&n.mediaTypes[$n].ortb&&(n.mediaTypes[$n]=Co(At(n.mediaTypes[$n],zo),Ko(n.mediaTypes[$n].ortb)),n.nativeParams=Uo(n.mediaTypes[$n]));return t}(e)).map(bl),s=a(e,wl),c={};!0===T.getConfig("coppa")&&(c={coppa:!0}),s&&Object.keys(s.params.user).filter((function(e){return o(ol,e)})).forEach((function(e){var t=Et(e);if("segments"===e&&De(s.params.user[e])){var n=[];s.params.user[e].forEach((function(e){Be(e)?n.push({id:e}):Pe(e)&&n.push(e)})),c[t]=n}else"segments"!==e&&(c[t]=s.params.user[e])}));var u,d=a(e,_l);d&&d.params&&d.params.app&&(u={},Object.keys(d.params.app).filter((function(e){return o(al,e)})).forEach((function(e){return u[e]=d.params.app[e]})));var l,f=a(e,Cl);f&&f.params&&d.params.app&&d.params.app.id&&(l={appid:f.params.app.id});var p={},m={},g=ml.getCookie("apn_prebid_debug")||null;if(g)try{p=JSON.parse(g)}catch(e){xe("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(cl).forEach((function(e){var t=ke(e);ze(t)&&""!==t&&(p[cl[e]]=t,p.enabled=!0)})),p=Ot({member_id:"number",debug_timeout:"number"},p);var v=a(e,Sl);v&&v.debug&&(p=v.debug)}p&&p.enabled&&Object.keys(p).filter((function(e){return o(sl,e)})).forEach((function(e){m[e]=p[e]}));var b=a(e,Il),y=b?parseInt(b.params.member,10):0,w=e[0].schain,I=a(e,El),_={tags:Yd(i),user:c,sdk:{source:"pbjs",version:"7.48.0"},schain:w};I&&(_.iab_support={omidpn:"Appnexus",omidpv:"7.48.0"}),y>0&&(_.member_id=y),d&&(_.device=u),f&&(_.app=l);var C,S,x=ut(t&&t.ortb2),E=(C=x,S=[],["site.keywords","site.content.keywords","user.keywords","app.keywords","app.content.keywords"].forEach((function(e){var t=h(C,e);ze(t)&&S.push(t)})),S).map((function(e){return jl(e)})),A=ut(T.getConfig("appnexusAuctionKeywords"))||{};Object.keys(A).forEach((function(e){(ze(A[e])||Be(A[e]))&&(A[e]=[A[e]])}));var O=Tt(Ft.apply(void 0,[{},A].concat(Yd(E))));if(O.length>0&&(O.forEach(vl),_.keywords=O),T.getConfig("adpod.brandCategoryExclusion")&&(_.brand_category_uniqueness=!0),m.enabled&&(_.debug=m,Ce("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(m,null,4))),t&&t.gdprConsent&&(_.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){var k=t.gdprConsent.addtlConsent,j=k.substring(k.indexOf("~")+1);_.gdpr_consent.addtl_consent=j.split(".").map((function(e){return parseInt(e,10)}))}if(t&&t.uspConsent&&(_.us_privacy=t.uspConsent),null!=t&&t.gppConsent?_.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:null!=t&&null!==(n=t.ortb2)&&void 0!==n&&null!==(r=n.regs)&&void 0!==r&&r.gpp&&(_.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){var R={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")},z=t.refererInfo.canonicalUrl;ze(z)&&""!==z&&(R.rd_can=z),_.referrer_detection=R}if(a(e,xl)&&e.filter(xl).forEach((function(e){var t=function(e,t){var n,r=t.mediaTypes.video,i=r.durationRangeSec,o=r.requireExactDuration,a=function(e){var t,n=e.adPodDurationSec,r=e.durationRangeSec,i=e.requireExactDuration,o=(t=r,Math.min.apply(Math,G(t))),a=Math.floor(n/o);return i?Math.max(a,r.length):a}(t.mediaTypes.video),s=(n=i,Math.max.apply(Math,G(n))),c=e.filter((function(e){return e.uuid===t.bidId})),u=jt.apply(void 0,Yd(c).concat([a]));if(o){var d=Rt(u,Math.ceil(a/i.length));i.forEach((function(e,t){d[t].map((function(t){Al(t,"minduration",e),Al(t,"maxduration",e)}))}))}else u.map((function(e){return Al(e,"maxduration",s)}));return u}(i,e),n=_.tags.filter((function(t){return t.uuid!==e.bidId}));_.tags=[].concat(Yd(n),Yd(t))})),e[0].userId){var D=[];e[0].userIdAsEids.forEach((function(e){!e||!e.uids||e.uids.length<1||e.uids.forEach((function(t){var n={source:e.source,id:t.id};"adserver.org"==e.source?n.rti_partner="TDID":"uidapi.com"==e.source&&(n.rti_partner="UID2"),D.push(n)}))})),D.length&&(_.eids=D)}i[0].publisher_id&&(_.publisher_id=i[0].publisher_id);var B=function(e,t){var n=[],r={withCredentials:!0},i=tl;if(Xd(null==t?void 0:t.gdprConsent)||(i=nl),"TRUE"!==ke("apn_test").toUpperCase()&&!0!==T.getConfig("apn_test")||(r.customHeaders={"X-Is-Test":1}),e.tags.length>15){var o=ut(e);Rt(e.tags,15).forEach((function(e){o.tags=e;var a=JSON.stringify(o);n.push({method:"POST",url:i,data:a,bidderRequest:t,options:r})}))}else{var a=JSON.stringify(e);n={method:"POST",url:i,data:a,bidderRequest:t,options:r}}return n}(_,t);return B},interpretResponse:function(e,t){var n=this,r=t.bidderRequest;e=e.body;var i=[];if(!e||e.error){var s="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(s+=": ".concat(e.error)),xe(s),i}if(e.tags&&e.tags.forEach((function(e){var t,s=(t=e)&&t.ads&&t.ads.length&&a(t.ads,(function(e){return e.rtb}));if(s&&(!0===On.get(r.bidderCode,"allowZeroCpmBids")?s.cpm>=0:s.cpm>0)&&o(n.supportedMediaTypes,s.ad_type)){var c=function(e,t,n){var r=et(e.uuid,[n]),i=pe(),o={adId:i,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:r.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};function s(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}if(t.adomain&&(o.meta=Qd({},o.meta,{advertiserDomains:[t.adomain]})),t.advertiser_id&&(o.meta=Qd({},o.meta,{advertiserId:t.advertiser_id})),t.buyer_member_id&&(o.meta=Qd({},o.meta,{dchain:s(t)})),t.brand_id&&(o.meta=Qd({},o.meta,{brandId:t.brand_id})),t.rtb.video)switch(Qd(o,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),h(r,"mediaTypes.video.context")){case Qn:var c=function(e,t){var n=Ni.getBidAdapter(e);if(n.getSpec().getMappingFileInfo){var r=n.getSpec().getMappingFileInfo(),i=r.localStorageKey?r.localStorageKey:n.getBidderCode(),o=Er.getDataFromLocalStorage(i);if(o){try{o=JSON.parse(o)}catch(t){xe("Failed to parse ".concat(e," mapping data stored in local storage"))}return o.mapping[t]?o.mapping[t]:null}}}(r.bidder,t.brand_category_id);o.meta=Qd({},o.meta,{primaryCatId:c});var u=t.deal_priority;o.video={context:Qn,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:u},o.vastUrl=t.rtb.video.asset_url;break;case Hn:if(o.adResponse=e,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=t.rtb.video.content,t.renderer_url){var d=a(n.bids,(function(t){return t.bidId===e.uuid})),l=h(d,"mediaTypes.video.renderer.options");l||(l=h(d,"renderer.options")),o.renderer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ln.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{r.setRender(Tl)}catch(e){Se("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return _e("AppNexus outstream video impression event")},loaded:function(){return _e("AppNexus outstream video loaded event")},ended:function(){_e("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(o.adUnitCode,t,l)}break;case Vn:o.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[$n]){var f,p=t.rtb[$n];if(function(e){if(!e||""===e)return!1;var t=e.match(fl),n=null!=t&&t.length>=1,r=e.match(pl),i=null!=r&&r.length>=1;return e.startsWith(ll)&&i&&n}(t.viewability.config)){var m="pbjs_adid="+i+";pbjs_auc="+r.adUnitCode;f=t.viewability.config.replace("dom_id=%native_dom_id%",m)}var g=p.javascript_trackers;null==g?g=f:ze(g)?g=[g,f]:g.push(f),o[$n]={title:p.title,body:p.desc,body2:p.desc2,cta:p.ctatext,rating:p.rating,sponsoredBy:p.sponsored,privacyLink:p.privacy_link,address:p.address,downloads:p.downloads,likes:p.likes,phone:p.phone,price:p.price,salePrice:p.saleprice,clickUrl:p.link.url,displayUrl:p.displayurl,clickTrackers:p.link.click_trackers,impressionTrackers:p.impression_trackers,video:p.video,javascriptTrackers:g},p.main_img&&(o.native.image={url:p.main_img.url,height:p.main_img.height,width:p.main_img.width}),p.icon&&(o.native.icon={url:p.icon.url,height:p.icon.height,width:p.icon.width})}else{Qd(o,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(var v=0;v<t.rtb.trackers[0].impression_urls.length;v++){var b=Xe(t.rtb.trackers[0].impression_urls[v]);o.ad+=b}}catch(e){xe("Error appending tracking pixel",e)}}return o}(e,s,r);c.mediaType=function(e){var t=e.ad_type;return t===Kn?Kn:t===$n?$n:Xn}(s),i.push(c)}})),e.debug&&e.debug.debug_info){var c="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;c=c.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),_e("https://console.appnexus.com/docs/understanding-the-debug-auction"),_e(c)}return i},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,n,r,i){if(e.iframeEnabled&&Xd(n)&&function(e){return!e||!Array.isArray(e.applicableSections)||e.applicableSections.every((function(e){return"number"==typeof e&&e<=5}))}(i))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,n,r){var i=Tt;if(!0===t){var a=null,s=T.getConfig("s2sConfig");Pe(s)?a=h(s,"endpoint.p1Consent"):De(s)&&s.forEach((function(e){o(e.bidders,n.bids[0].bidder)&&(a=h(e,"endpoint.p1Consent"))})),a&&a.match("/openrtb2/prebid")&&(i=kl)}return e=Ot({member:"string",invCode:"string",placementId:"number",keywords:i,publisherId:"number"},e),t&&(hl(e.keywords)&&e.keywords.forEach(vl),Object.keys(e).forEach((function(t){var n=Et(t);n!==t&&(e[n]=e[t],delete e[t])})),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function hl(e){return!!(De(e)&&e.length>0)}function vl(e){hl(e.value)&&""===e.value[0]&&delete e.value}function bl(e){var t={};Object.keys(e.params).forEach((function(t){var n=Et(t);n!==t&&(e.params[n]=e.params[t],delete e.params[t])})),t.sizes=yl(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placement_id?t.id=parseInt(e.params.placement_id,10):t.code=e.params.inv_code,t.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,t.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,t.prebid=!0,t.disable_psa=!0;var n=function(e){if(!Re(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return Pe(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);if(n&&(t.reserve=n),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{var r=h(e,"mediaTypes.banner.pos")||h(e,"mediaTypes.video.pos");0!==r&&1!==r&&3!==r||(t.position=3===r?2:r)}e.params.traffic_source_code&&(t.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(t.private_sizes=yl(e.params.private_sizes)),e.params.supply_type&&(t.supply_type=e.params.supply_type),e.params.pub_click&&(t.pubclick=e.params.pub_click),e.params.ext_inv_code&&(t.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(t.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(t.external_imp_id=e.params.external_imp_id);var i=h(e,"ortb2Imp.ext.data.keywords");if(ze(i)&&""!==i||!Fe(e.params.keywords)){var s=jl(i),c=Pe(e.params.keywords)?ut(e.params.keywords):{};Object.keys(c).forEach((function(e){(ze(c[e])||Be(c[e]))&&(c[e]=[c[e]])}));var u=Tt(Ft({},c,s));u.length>0&&(u.forEach(vl),t.keywords=u)}var d,l,f=h(e,"ortb2Imp.ext.data.pbadslot");if(f&&(t.gpid=f),(e.mediaType===$n||h(e,"mediaTypes.".concat($n)))&&(t.ad_types.push($n),0===t.sizes.length&&(t.sizes=yl([1,1])),e.nativeParams)){var p=(d=e.nativeParams,l={},Object.keys(d).forEach((function(e){var t=dl[e]&&dl[e].serverName||dl[e]||e,n=dl[e]&&dl[e].requiredParams;if(l[t]=Qd({},n,d[e]),(t===dl.image.serverName||t===dl.icon.serverName)&&l[t].sizes){var r=l[t].sizes;(kt(r)||De(r)&&r.length>0&&r.every((function(e){return kt(e)})))&&(l[t].sizes=yl(l[t].sizes))}t===dl.privacyLink&&(l.privacy_supported=!0)})),l);t[$n]={layouts:[p]}}var m=h(e,"mediaTypes.".concat(Kn)),g=h(e,"mediaTypes.video.context");t.hb_source=m&&"adpod"===g?7:1,(e.mediaType===Kn||m)&&t.ad_types.push(Kn),(e.mediaType===Kn||m&&"outstream"!==g)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((function(e){return o(rl,e)})).forEach((function(n){switch(n){case"context":case"playback_method":var r=e.params.video[n];r=De(r)?r[0]:r,t.video[n]=ul[n][r];break;case"frameworks":break;default:t.video[n]=e.params.video[n]}})),e.params.video.frameworks&&De(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),m&&(t.video=t.video||{},Object.keys(m).filter((function(e){return o(il,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=m[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===m[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=m[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){var n=m[e];(n=De(n)?n[0]:n)>=1&&n<=4&&(t.video.playback_method=n)}break;case"api":if(!t.video_frameworks&&De(m[e])){var r=m[e].map((function(e){var t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((function(e){return e}));t.video_frameworks=r}break;case"startdelay":case"placement":if("number"!=typeof t.video.context){var i=m.placement,o=m.startdelay,a=function(e){if(e)return 2===e?"in-banner":e>2?"outstream":void 0}(i)||function(e){if(e)return 0===e?"pre_roll":-1===e?"mid_roll":-2===e?"post_roll":void 0}(o);t.video.context=ul.context[a]}}}))),e.renderer&&(t.video=Qd({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&De(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);var v=a(yo.getAdUnits(),(function(t){return e.transactionId===t.transactionId}));return v&&v.mediaTypes&&v.mediaTypes.banner&&t.ad_types.push(Xn),0===t.ad_types.length&&delete t.ad_types,t}function yl(e){var t=[],n={};if(De(e)&&2===e.length&&!De(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"==typeof e)for(var r=0;r<e.length;r++){var i=e[r];(n={}).width=parseInt(i[0],10),n.height=parseInt(i[1],10),t.push(n)}return t}function wl(e){return!!e.params.user}function Il(e){return!!parseInt(e.params.member,10)}function _l(e){if(e.params)return!!e.params.app}function Cl(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function Sl(e){return!!e.debug}function xl(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===Qn}function El(e){var t=!1,n=e.params,r=e.params.video;return n.frameworks&&De(n.frameworks)&&(t=o(e.params.frameworks,6)),!t&&r&&r.frameworks&&De(r.frameworks)&&(t=o(e.params.video.frameworks,6)),t}function Al(e,t,n){Fe(e.video)&&(e.video={}),e.video[t]=n}function Tl(e,t){!function(e){try{var t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){var n=function(e){return e?e.defaultView:null}(t)||window;n.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Ol.bind(null,e))}))}function Ol(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}function kl(e){var t="";return Object.keys(e).forEach((function(n){ze(e[n])?""!==e[n]?t+="".concat(n,"=").concat(e[n],","):t+="".concat(n,","):De(e[n])&&(""===e[n][0]?t+="".concat(n,","):e[n].forEach((function(e){t+="".concat(n,"=").concat(e,",")})))})),t=t.substring(0,t.length-1)}function jl(e){var t={};return ze(e)&&""!==e&&e.split(/\s*(?:,)\s*/).forEach((function(e){if(-1!==e.indexOf("=")){var n=e.split("="),r=n[0],i=n[1];t.hasOwnProperty(r)?t[r].push(i):t[r]=[i]}else t.hasOwnProperty(e)||(t[e]=[""])})),t}function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rl.apply(this,arguments)}Tr(gl),i("appnexusBidAdapter");var zl=0,Dl="consumable",Bl={code:"consumable",supportedMediaTypes:[Xn,Kn],isBidRequestValid:function(e){return!!(e.params.networkId&&e.params.siteId&&e.params.unitId&&e.params.unitName)},buildRequests:function(e,t){var n={method:"POST",url:"",data:"",bidRequest:[]};if(e.length<1)return n;zl=e[0].params.siteId,Dl=e[0].bidder;var r=Rl({placements:[],time:Date.now(),url:t.refererInfo.page,referrer:t.refererInfo.ref,source:[{name:"prebidjs",version:"7.48.0"}]},e[0].params);return t&&t.gdprConsent&&(r.gdpr={consent:t.gdprConsent.consentString,applies:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(r.ccpa=t.uspConsent),t&&t.schain&&(r.schain=t.schain),T.getConfig("coppa")&&(r.coppa=!0),e.map((function(e){var t=e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes||e.sizes||[],n=Rl({divName:e.bidId,adTypes:e.adTypes||Nl(t)},e.params);n.bidfloor=function(e,t){if(!Re(e.getFloor))return e.params.bidFloor?e.params.bidFloor:null;var n,r=e.getFloor({currency:"USD",mediaType:e.mediaTypes.video?"video":"banner",size:1===t.length?t[0]:"*"});return Pe(r)&&"USD"===r.currency&&!isNaN(parseFloat(r.floor))&&(n=parseFloat(r.floor)),n}(e,t),e.mediaTypes.video&&e.mediaTypes.video.playerSize&&(n.video=e.mediaTypes.video),n.networkId&&n.siteId&&n.unitId&&n.unitName&&r.placements.push(n)})),function(e,t){var n=h(t,"0.userIdAsEids");De(n)&&n.length>0?Mt(e,"user.eids",n):Mt(e,"user.eids",void 0)}(r,e),n.data=JSON.stringify(r),n.bidRequest=e,n.bidderRequest=t,n.url="https://e.serverbid.com/api/v2",n},interpretResponse:function(e,t){var n,r,i,o,a=[];r=t.bidRequest,e=(e||{}).body;for(var s=0;s<r.length;s++)if(n={},i=(o=r[s]).bidId,e){var c=e.decisions&&e.decisions[i],u=c&&c.pricing&&c.pricing.clearPrice;c&&u&&(n.requestId=i,n.cpm=u,n.width=c.width,n.height=c.height,n.unitId=o.params.unitId,n.unitName=o.params.unitName,n.ad=Fl(c,n.unitId,n.unitName),n.currency="USD",n.creativeId=c.adId,n.ttl=30,n.netRevenue=!0,n.referrer=t.bidderRequest.refererInfo.page,n.meta={advertiserDomains:c.adomain||[]},c.cats&&c.cats.length>0&&(n.meta.primaryCatId=c.cats[0],c.cats.length>1&&(n.meta.secondaryCatIds=c.cats.slice(1))),c.networkId&&(n.meta.networkId=c.networkId),c.mediaType&&(n.meta.mediaType=c.mediaType,"video"===c.mediaType&&(n.mediaType="video",n.vastUrl=c.vastUrl||void 0,n.vastXml=c.vastXml||void 0,n.videoCacheKey=c.uuid||void 0)),a.push(n))}return a},getUserSyncs:function(e,t,n,r){var i="https://sync.serverbid.com/ss/"+zl+".html";return!e.iframeEnabled||(n&&n.consentString&&(i="boolean"==typeof n.gdprApplies?Ul(i,"gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString)):Ul(i,"gdpr=0&gdpr_consent=".concat(n.consentString))),r&&r.consentString&&(i=Ul(i,"us_privacy=".concat(r.consentString))),t&&0!==t.length&&t[0].body.bdr&&"cx"===t[0].body.bdr)?e.pixelEnabled&&t&&t.length>0?t[0].body.pixels:void Se(Dl+": Please enable iframe based user syncing."):[{type:"iframe",url:i}]}},Pl=[null,"120x90","120x90","468x60","728x90","300x250","160x600","120x600","300x100","180x150","336x280","240x400","234x60","88x31","120x60","120x240","125x125","220x250","250x250","250x90","0x0","200x90","300x50","320x50","320x480","185x185","620x45","300x125","800x250"];function Nl(e){var t=[];return e.forEach((function(e){var n=Pl.indexOf(e[0]+"x"+e[1]);n>=0&&t.push(n)})),t}function Fl(e,t,n){var r;return e.contents&&e.contents[0]&&(r=e.contents[0].body),e.vastXml&&(r=e.vastXml),r}function Ul(e,t){return"".concat(e).concat(e.indexOf("?")>-1?"&":"?").concat(t)}function Ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ml(Object(n),!0).forEach((function(t){Ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wl.apply(this,arguments)}Pl[77]="970x90",Pl[123]="970x250",Pl[43]="300x600",Pl[286]="970x66",Pl[3230]="970x280",Pl[429]="486x60",Pl[374]="700x500",Pl[934]="300x1050",Pl[1578]="320x100",Pl[331]="320x250",Pl[3301]="320x267",Pl[2730]="728x250",Tr(Bl),i("consumableBidAdapter");var Hl="33across",Vl=["33across_mgni"],Gl="https://ssc-cms.33across.com/ps/?m=xch&rt=html&ru=deb",Jl=/^[a-zA-Z0-9_-]{22}$/,$l="siab",Kl="inview",Xl="instream",Ql=["mimes","minduration","maxduration","placement","protocols","startdelay","skip","skipafter","minbitrate","maxbitrate","delivery","playbackmethod","api","linearity"],Yl={uniqueSiteIds:[]},Zl="nm";function ef(e){return"".concat(e.params.siteId,":").concat(e.params.productId)}function tf(e){return"".concat(e.bidId)}function nf(e){var t,n=e.bidRequests,r=e.gdprConsent,i=void 0===r?{}:r,o=e.uspConsent,a=e.pageUrl,s=e.referer,c=e.ttxSettings,u={},d=n[0],l=d.params,f=l.siteId,p=l.test;return u.imp=[],n.forEach((function(e){var t,n,r;u.imp.push((n=h(t=e,"ortb2Imp.ext.gpid"),r={id:t.bidId,ext:ql({ttx:{prod:h(t,"params.productId")}},n?{gpid:n}:{})},h(t,"mediaTypes.banner")&&(r.banner=ql({},function(e){var t,n,r=h(e,"mediaTypes.banner",{}),i=(n=e.adUnitCode,document.getElementById(n)||document.getElementById(function(e){if(rt())for(var t=googletag.pubads().getSlots(),n=_t(e),r=0;r<t.length;r++)if(n(t[r])){var i=t[r].getSlotElementId();return Ce("[33Across Adapter] Map ad unit path to HTML element id: '".concat(e,"' -> ").concat(i)),i}return Se("[33Across Adapter] Unable to locate element for ad unit code: '".concat(e,"'")),null}(n))),o=function(e){return De(e)&&2===e.length&&!De(e[0])?[of(e)]:e.map(of)}(r.sizes);t="function"==typeof e.getFloor?o.map((function(t){var n,r=cf(e,t,Xn);return r&&(n={ext:{ttx:{bidfloors:[r]}}}),Wl({},t,n)})):o;var a=function(e){return e.reduce((function(e,t){return t.h*t.w<e.h*e.w?t:e}))}(o),s=function(e){return{ttx:{viewability:{amount:isNaN(e)?e:Math.round(e)}}}}(function(e){return!function(){try{return we()!==ye()}catch(e){return!0}}()&&null!==e}(i)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.w,i=n.h;return"visible"===t.document.visibilityState?lf(e,t,{w:r,h:i}):0}(i,ye(),a):Zl);return{format:t,ext:s}}(t))),h(t,"mediaTypes.video")&&(r.video=function(e){var t=h(e,"mediaTypes.video",{}),n=h(e,"params.video",{}),r=ql(ql({},t),n),i={},o=of(r.playerSize[0]),a=o.w,s=o.h;i.w=a,i.h=s,Ql.forEach((function(e){r.hasOwnProperty(e)&&(i[e]=r[e])}));var c=sf(e);if(i.placement=i.placement||2,c===Xl&&(i.startdelay=i.startdelay||0,i.placement=1),"function"==typeof e.getFloor){var u=cf(e,{w:i.w,h:i.h},Kn);u&&Wl(i,{ext:{ttx:{bidfloors:[u]}}})}return i}(t)),r))})),u.site={id:f},u.device=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=we(),n={ext:{ttx:ql(ql({},pf()),{},{pxr:t.devicePixelRatio,vp:ff(),ah:t.screen.availHeight,mtp:t.navigator.maxTouchPoints})}};return e.sua&&(n.sua=At(e.sua,["browsers","platform","model"])),n}(null===(t=d.ortb2)||void 0===t?void 0:t.device),a&&(u.site.page=a),s&&(u.site.ref=s),u.id=d.auctionId,i.consentString&&(u.user=rf(u.user,{consent:i.consentString})),Array.isArray(d.userIdAsEids)&&d.userIdAsEids.length>0&&(u.user=rf(u.user,{eids:d.userIdAsEids})),u.regs=rf(u.regs,{gdpr:Number(i.gdprApplies)}),o&&(u.regs=rf(u.regs,{us_privacy:o})),u.ext={ttx:{prebidStartedAt:Date.now(),caller:[{name:"prebidjs",version:"7.48.0"}]}},d.schain&&(u.source=rf(u.source,{schain:d.schain})),1===p&&(u.test=1),{method:"POST",url:c&&c.url||"".concat("https://ssc.33across.com/api/v1/hb","?guid=").concat(f),data:JSON.stringify(u),options:{contentType:"text/plain",withCredentials:!0}}}function rf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Ft({},e,{ext:t})}function of(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function af(e){return Ft({},e,{params:{productId:sf(e)}})}function sf(e){var t=e.params,n=e.mediaTypes,r=n.banner,i=n.video;return i&&!r&&"instream"===i.context?Xl:t.productId===Kl?t.productId:$l}function cf(e,t,n){var r=e.getFloor({currency:"USD",mediaType:n,size:[t.w,t.h]});if(!isNaN(r.floor)&&"USD"===r.currency)return r.floor}function uf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.w,r=t.h,i=e.getBoundingClientRect(),o=i.width,a=i.height,s=i.left,c=i.top,u=i.right,d=i.bottom;return(0===o||0===a)&&n&&r&&(o=n,a=r,u=s+n,d=c+r),{width:o,height:a,left:s,top:c,right:u,bottom:d}}function df(e){for(var t={left:e[0].left,right:e[0].right,top:e[0].top,bottom:e[0].bottom},n=1;n<e.length;++n){if(t.left=Math.max(t.left,e[n].left),t.right=Math.min(t.right,e[n].right),t.left>=t.right)return null;if(t.top=Math.max(t.top,e[n].top),t.bottom=Math.min(t.bottom,e[n].bottom),t.top>=t.bottom)return null}return t.width=t.right-t.left,t.height=t.bottom-t.top,t}function lf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.w,i=n.h,o=uf(e,{w:r,h:i}),a=df([{left:0,top:0,right:t.innerWidth,bottom:t.innerHeight},o]);return null!==a?a.width*a.height/(o.width*o.height)*100:0}function ff(){var e=function(){var e=we();try{for(;e.parent!==e&&e.parent.document;)e=e.parent}catch(e){}return e}().document.documentElement;return{w:e.clientWidth,h:e.clientHeight}}function pf(){var e=we(),t=e.innerWidth,n=e.innerHeight,r=e.screen,i=[Math.max(r.width,r.height),Math.min(r.width,r.height)],o=i[0],a=i[1];return n>t?{w:a,h:o}:{w:o,h:a}}var mf={NON_MEASURABLE:Zl,code:Hl,aliases:Vl,supportedMediaTypes:[Xn,Kn],gvlid:58,isBidRequestValid:function(e){return function(e){return!(e.bidder!==Hl&&!Vl.includes(e.bidder)||!e.params||!function(e){return null!==(h(e,"params.siteId","")||"").trim().match(Jl)}(e))}(e)&&function(e){var t=h(e,"mediaTypes.banner");return void 0===t||!!Array.isArray(t.sizes)}(e)&&function(e){var t=h(e,"mediaTypes.video"),n=h(e,"params.video",{});if(void 0===t)return!0;if(!Array.isArray(t.playerSize))return!1;if(!t.context)return!1;var r=ql(ql({},t),n);return!(!Array.isArray(r.mimes)||0===r.mimes.length||!Array.isArray(r.protocols)||0===r.protocols.length||void 0!==r.placement&&"number"!=typeof r.placement||"instream"===t.context&&void 0!==r.startdelay&&"number"!=typeof r.startdelay)}(e)},buildRequests:function(e,t){var n=function(e,t){var n,r,i=Wl({},T.getConfig("ttxSettings")),o=Wl({consentString:void 0,gdprApplies:!1},t&&t.gdprConsent),a=t&&t.uspConsent,s=null==t||null===(n=t.refererInfo)||void 0===n?void 0:n.page,c=null==t||null===(r=t.refererInfo)||void 0===r?void 0:r.ref;return Yl.uniqueSiteIds=e.map((function(e){return e.params.siteId})).filter(Ye),{ttxSettings:i,gdprConsent:o,uspConsent:a,pageUrl:s,referer:c}}(e,t),r=n.ttxSettings,i=n.gdprConsent,o=n.uspConsent,a=n.pageUrl,s=n.referer,c=function(e,t){var n=t.map(af),r=e&&e.enableSRAMode;return function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)})),n}(n,!0===r?ef:tf)}(r,e),u=[];for(var d in c)u.push(nf({bidRequests:c[d],gdprConsent:i,uspConsent:o,pageUrl:a,referer:s,ttxSettings:r}));return u},interpretResponse:function(e,t){var n=e.body,r=n.seatbid,i=n.cur,o=void 0===i?"USD":i;return De(r)?r.filter((function(e){return De(e.bid)&&e.bid.length>0})).reduce((function(e,t){return e.concat(t.bid.map((function(e){return function(e,t){var n=e.adomain&&e.adomain.length,r={requestId:e.impid,bidderCode:Hl,cpm:e.price,width:e.w,height:e.h,ad:e.adm,ttl:e.ttl||60,creativeId:e.crid,mediaType:h(e,"ext.ttx.mediaType",Xn),currency:t,netRevenue:!0};return n&&(r.meta={advertiserDomains:e.adomain}),r.mediaType===Kn&&("xml"===h(e,"ext.ttx.vastType","xml")?r.vastXml=r.ad:r.vastUrl=r.ad),r}(e,o)})))}),[]):[]},getUserSyncs:function(e,t,n,r){var i=e.iframeEnabled?Yl.uniqueSiteIds.map((function(e){return function(e){var t=e.siteId,n=void 0===t?"zzz000000000003zzz":t,r=e.gdprConsent,i=void 0===r?{}:r,o=e.uspConsent,a=T.getConfig("ttxSettings"),s=a&&a.syncUrl||Gl,c=i.consentString,u=i.gdprApplies,d={type:"iframe",url:"".concat(s,"&id=").concat(n,"&gdpr_consent=").concat(encodeURIComponent(c),"&us_privacy=").concat(encodeURIComponent(o))};return"boolean"==typeof u&&(d.url+="&gdpr=".concat(Number(u))),d}({gdprConsent:n,uspConsent:r,siteId:e})})):[];return Yl.uniqueSiteIds=[],i}};function gf(e){return function(e){if(Array.isArray(e))return hf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return hf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hf(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Tr(mf),i("33acrossBidAdapter"),Tr(new function(){this.code="rhythmone",this.supportedMediaTypes=[Kn,Xn],this.gvlid=36;var e=[2,3,5,6],t=["video/mp4"],n=[1,2,3,4],r=[1],i=[1,2,5],o={},a=this;function s(e,t){var n,r=[],i=0;if(t&&t.refererInfo&&t.refererInfo.stack.length){var a=document.createElement("a");a.href=t.refererInfo.stack[0],i="https:"==a.protocol?1:0}for(var s=0;s<e.length;s++){o[e[s].adUnitCode]=e[s];var c={};if(c.id=e[s].adUnitCode,c.bidfloor=0,c.secure=i,h(e[s],"mediaTypes.banner")||"banner"===h(e[s],"mediaType")){var u=d(e[s]);u&&(c.banner=u)}(h(e[s],"mediaTypes.video")||"video"===h(e[s],"mediaType"))&&(c.video=l(e[s])),(c.banner||c.video)&&(c.ext={bidder:{placementId:(n=e[s]).params.placementId,zone:n.params&&n.params.zone?n.params.zone:"1r",path:n.params&&n.params.path?n.params.path:"mvo"}},r.push(c))}return r}function c(e){var t,n,r;return{domain:(null==e||null===(t=e.refererInfo)||void 0===t?void 0:t.domain)||"",page:(null==e||null===(n=e.refererInfo)||void 0===n?void 0:n.page)||"",ref:(null==e||null===(r=e.refererInfo)||void 0===r?void 0:r.ref)||""}}function u(e){var t=parseInt(e[0]),n=parseInt(e[1]);return t==t&&n==n&&[t,n]}function d(e){var t=e.sizes;e.mediaTypes&&e.mediaTypes.banner&&(t=e.mediaTypes.banner.sizes);var n=ve(t),r=[];return n.forEach((function(e){if(e){var t=u(e.split("x"));t&&r.push({w:t[0],h:t[1]})}})),!!r.length&&{format:r}}function l(o){var a=[];if(h(o,"mediaTypes.video.playerSize")){var s=o.mediaTypes.video.playerSize;De(o.mediaTypes.video.playerSize[0])&&(s=o.mediaTypes.video.playerSize[0]);var c=u(s);c&&(a=c)}return{mimes:h(o,"mediaTypes.video.mimes")||t,protocols:h(o,"mediaTypes.video.protocols")||e,w:a[0],h:a[1],startdelay:h(o,"mediaTypes.video.startdelay")||0,skip:h(o,"mediaTypes.video.skip")||0,playbackmethod:h(o,"mediaTypes.video.playbackmethod")||n,delivery:h(o,"mediaTypes.video.delivery")||r,api:h(o,"mediaTypes.video.api")||i}}function f(e,t){for(var n=0;n<t.length;n++)if(t[n].params&&t[n].params[e])return t[n].params[e]}this.isBidRequestValid=function(e){return!(!e.params||!e.params.placementId)},this.getUserSyncs=function(e,t,n){return[]},this.buildRequests=function(e,t){var n=f("placementId",e);if(void 0===n||e.length<1)return[];var r=f("endpoint",e)||"https://tag.1rx.io/rmp/{placementId}/0/{path}?z={zone}",i=f("zone",e)||"1r",o=f("path",e)||"mvo";r=(r=(r=r.replace(/\{placementId\}/i,n)).replace(/\{zone\}/i,i)).replace(/\{path\}/i,o);var a=/(^v|(\.0)+$)/gi;r+="&hbv="+"7.48.0".replace(a,"")+","+"2.1".replace(a,"");var u=function(e,t){var n={id:e[0].bidderRequestId,imp:s(e,t),site:c(t),device:{ua:navigator.userAgent,ip:"",dnt:wt()?1:0},user:{ext:{consent:h(t,"gdprConsent.gdprApplies")?t.gdprConsent.consentString:""}},at:1,tmax:1e3,regs:{ext:{gdpr:!!h(t,"gdprConsent.gdprApplies")&&Boolean(1&t.gdprConsent.gdprApplies)}}};return e[0].schain&&(n.source={ext:{schain:e[0].schain}}),n}(e,t);return u.imp.length?{method:"POST",url:r,data:JSON.stringify(u)}:{}},this.interpretResponse=function(e){var t=e.body||[],n=[],r=0;if(t.seatbid){var i=[];for(r=0;r<t.seatbid.length;r++)for(var s=0;s<t.seatbid[r].bid.length;s++)i.push(t.seatbid[r].bid[s]);t=i}for(r=0;r<t.length;r++){var c=t[r],u=o[c.impid],d={requestId:u.bidId,bidderCode:a.code,cpm:parseFloat(c.price),width:c.w,height:c.h,meta:{advertiserDomains:c.adomain},creativeId:c.crid,currency:"USD",netRevenue:!0,ttl:350};u.mediaTypes&&u.mediaTypes.video?(d.vastUrl=c.nurl,d.mediaType="video",d.ttl=600):d.ad=c.adm,n.push(d)}return n}}),i("rhythmoneBidAdapter");var vf="6.0.0",bf="USD",yf="hb-multi",wf="hb-multi-test",If="iframe",_f="pixel",Cf={code:"rise",gvlid:1043,version:vf,supportedMediaTypes:[Xn,Kn],isBidRequestValid:function(e){return e.params?!!e.params.org||(Se("org is a mandatory param for Rise adapter"),!1):(Se("no params have been set to Rise adapter"),!1)},buildRequests:function(e,t){var n={},r=e[0],i=r.params.testMode,o=r.params.rtbDomain;return n.params=function(e,t){var n=window.location.hostname,r=T.getConfig("userSync")||{},i=r.syncEnabled,o=r.filterSettings,a=t.bidderCode,s=e.params,c=t.timeout,u={wrapper_type:"prebidjs",wrapper_vendor:"pbjs",wrapper_version:"7.48.0",adapter_version:vf,auction_start:pt(),publisher_id:s.org,publisher_name:n,site_domain:n,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,device_type:Tf(navigator.userAgent),ua:navigator.userAgent,is_wrapper:!!s.isWrapper,session_id:s.sessionId||ge("auctionId",e),tmax:c},d=ge("userId",e);d&&(u.userIds=JSON.stringify(d));var l=t.ortb2||{};if(l.site&&(u.site_metadata=JSON.stringify(l.site)),l.user&&(u.user_metadata=JSON.stringify(l.user)),i){var f=function(e,t){var n=["all","iframe"],r="image";return e&&n.some((function(n){return Ef(e[n],t)}))?If:e&&e[r]&&!Ef(e[r],t)?void 0:_f}(o,a);f&&(u.cs_method=f)}return t.uspConsent&&(u.us_privacy=t.uspConsent),t&&t.gdprConsent&&t.gdprConsent.gdprApplies&&(u.gdpr=t.gdprConsent.gdprApplies,u.gdpr_consent=t.gdprConsent.consentString),s.ifa&&(u.ifa=s.ifa),e.schain&&(u.schain=function(e){if(Fe(e))return"";var t="".concat(e.ver,",").concat(e.complete);return e.nodes.forEach((function(e){t+="!",t+="".concat(xf(e.asi),","),t+="".concat(xf(e.sid),","),t+="".concat(e.hp?encodeURIComponent(e.hp):"",","),t+="".concat(xf(e.rid),","),t+="".concat(xf(e.name),","),t+="".concat(xf(e.domain))})),t}(e.schain)),t&&t.refererInfo&&(u.referrer=h(t,"refererInfo.ref"),u.page_url=h(t,"refererInfo.page")||h(window,"location.href")),u}(r,t),n.bids=function(e,t){var n=[];return e.length&&e.forEach((function(e){n.push(function(e,t){var n=e.params,r=function(e){return e.mediaTypes&&e.mediaTypes.banner}(e)?Xn:Kn,i=function(e,t){var n=[];return h(e,"mediaTypes.".concat(t,".sizes"))?n=e.mediaTypes[t].sizes:Array.isArray(e.sizes)&&e.sizes.length>0&&(n=e.sizes),n}(e,r);isNaN(n.floorPrice)&&(n.floorPrice=0);var o={mediaType:r,adUnitCode:ge("adUnitCode",e),sizes:i,floorPrice:Math.max(Sf(e,r),n.floorPrice),bidId:ge("bidId",e),bidderRequestId:ge("bidderRequestId",e),loop:ge("bidderRequestsCount",e),transactionId:ge("transactionId",e)},a=h(e,"mediaTypes.".concat(r,".pos"));a&&(o.pos=a);var s=h(e,"ortb2Imp.ext.gpid");s&&(o.gpid=s);var c=n.placementId||h(e,"mediaTypes.".concat(r,".name"));c&&(o.placementId=c);var u=h(e,"mediaTypes.".concat(r,".mimes"));u&&(o.mimes=u);var d=h(e,"mediaTypes.".concat(r,".api"));if(d&&(o.api=d),r===Kn){var l,f=h(e,"mediaTypes.video.playbackmethod");Array.isArray(f)&&xt(f[0])?l=f[0]:xt(f)&&(l=f),l&&(o.playbackMethod=l);var p=h(e,"mediaTypes.video.placement");p&&(o.placement=p);var m=h(e,"mediaTypes.video.minduration");m&&(o.minDuration=m);var g=h(e,"mediaTypes.video.maxduration");g&&(o.maxDuration=g);var v=h(e,"mediaTypes.video.skip");v&&(o.skip=v);var b=h(e,"mediaTypes.video.linearity");b&&(o.linearity=b);var y=h(e,"mediaTypes.video.protocols");y&&(o.protocols=y)}return o}(e))})),n}(e),{method:"POST",url:Af(i,o),data:n}},interpretResponse:function(e){var t=e.body,n=[];return t.bids&&t.bids.forEach((function(e){var t={requestId:e.requestId,cpm:e.cpm,currency:e.currency||bf,width:e.width,height:e.height,ttl:e.ttl||360,creativeId:e.requestId,netRevenue:e.netRevenue||!0,nurl:e.nurl,mediaType:e.mediaType,meta:{mediaType:e.mediaType}};e.mediaType===Kn?t.vastXml=e.vastXml:e.mediaType===Xn&&(t.ad=e.ad),e.adomain&&e.adomain.length&&(t.meta.advertiserDomains=e.adomain),n.push(t)})),n},getUserSyncs:function(e,t){var n=[];for(var r of t)if(e.iframeEnabled&&r.body.params.userSyncURL&&n.push({type:"iframe",url:r.body.params.userSyncURL}),e.pixelEnabled&&De(r.body.params.userSyncPixels)){var i=r.body.params.userSyncPixels.map((function(e){return{type:"image",url:e}}));n.push.apply(n,gf(i))}return n},onBidWon:function(e){null!=e&&(Ce("onBidWon:",e),e.hasOwnProperty("nurl")&&e.nurl.length>0&&Ge(e.nurl))}};function Sf(e,t){if(!Re(e.getFloor))return 0;var n=e.getFloor({currency:bf,mediaType:t,size:"*"});return n.currency===bf&&n.floor?n.floor:0}function xf(e){return Fe(e)?"":encodeURIComponent(e)}function Ef(e,t){if(!e)return!1;var n="include"===e.filter,r=De(e.bidders)?e.bidders:[t];return n&&qe(r,t)}function Af(e,t){var n=t?"https://".concat(t,"/"):"https://hb.yellowblue.io/";return e?n+wf:n+yf}function Tf(e){return/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(e.toLowerCase())?"5":/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(e.toLowerCase())?"4":/smart[-_\s]?tv|hbbtv|appletv|googletv|hdmi|netcast|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b/i.test(e.toLowerCase())?"3":"1"}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Of.apply(this,arguments)}function kf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kf(Object(n),!0).forEach((function(t){Rf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Df(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Df(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Tr(Cf),i("riseBidAdapter");var Bf="gumgum",Pf=Nn({bidderCode:Bf}),Nf={t:0,rq:8,pbv:"7.48.0"},Ff={},Uf=null;function Mf(e){var t,r,i,o,a,s,c,u,d,l,f=function(e){return new RegExp("[?#&](".concat(e,"=(.*?))($|&)"),"i")},p={};try{r=(t=n.g.top).screen,i=e||""}catch(e){return xe(e),p}return p={vw:t.innerWidth,vh:t.innerHeight,sw:r.width,sh:r.height,pu:(u=i,["ggad","ggdeal"].reduce((function(e,t){var n=u.match(f(t));return n?(n[1]&&(e=e.replace(n[1],"")),n[3]&&(e=e.replace(n[3],"")),e):e}),u)),ce:Pf.cookiesAreEnabled(),dpr:t.devicePixelRatio||1,jcsi:JSON.stringify(Nf),ogu:(c=(document&&document.getElementsByTagName("head")[0]).querySelector("meta[property='og:url']"),c?c.content:null)},d=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection),(s=(l=d&&(d.downlink||d.bandwidth))?Math.round(1024*l):null)&&(p.ns=s),(o=(i.match(f("ggad"))||[0,0,0])[2])&&(p[isNaN(o)?"eAdBuyId":"adBuyId"]=o),(a=(i.match(f("ggdeal"))||[0,0,0])[2])&&(p.ggdeal=a),p}function qf(e,t){return e.replace("AD_JSON",window.btoa(JSON.stringify(t)))}function Lf(e){var t=0,n=0,r=0;return e.forEach((function(e){var i=zf(e,2),o=i[0],a=i[1],s=o>a?o:a;(s>r||s===r&&o>=t&&a>=n)&&(r=s,t=o,n=a)})),[t,n]}var Wf={code:Bf,gvlid:61,aliases:["gg"],isBidRequestValid:function(e){var t=e.params,n=e.adUnitCode,r=t.inScreen||t.inScreenPubID||t.inSlot||t.ICV||t.video||t.inVideo||t.slot||t.native||t.zone||t.pubID;if(Ff[r])return Se("[GumGum] Please check the implementation for ".concat(r," for the placement ").concat(n)),!1;switch(!0){case!!t.zone:case!!t.pubId:case!!t.inScreen:case!!t.inScreenPubID:case!!t.inSlot:case!!t.ICV:case!!t.video:case!!t.inVideo:case!!t.videoPubID:break;default:return Se("[GumGum] No product selected for the placement ".concat(n,", please check your implementation.")),!1}return!(t.bidfloor&&("number"!=typeof t.bidfloor||!isFinite(t.bidfloor))&&(Se("[GumGum] bidfloor must be a Number"),1))},buildRequests:function(e,t){var n=[],r=t&&t.gdprConsent,i=t&&t.uspConsent,o=t&&t.gppConsent,a=t&&t.timeout,s=!0===T.getConfig("coppa")?1:0,c=t&&t.refererInfo&&t.refererInfo.page;return Me(e,(function(e){var u,d,l,f,p=e.bidId,m=e.mediaTypes,g=void 0===m?{}:m,v=e.params,b=void 0===v?{}:v,y=e.schain,w=e.transactionId,I=e.userId,_=void 0===I?{}:I,C=e.ortb2Imp,S=e.adUnitCode,x=void 0===S?"":S,E=function(e,t,n){var r=Object.keys(e)[0]||"banner",i={floor:0,currency:"USD"};if("function"==typeof n.getFloor){var o=n.getFloor({mediaType:r,size:"*"}),a=o.currency,s=o.floor;s&&(i.floor=s),a&&(i.currency=a),t&&s&&"USD"===a&&(i.floor=Math.max(t,parseFloat(s)))}else t&&(i.floor=t);return i}(g,b.bidfloor,e),A=E.currency,T=E.floor,O=function(e){var t=["uid","eid","lipbid","envelope"];return Object.keys(e).reduce((function(n,r){var i=e[r];switch(typeof i){case"string":n[r]=i;break;case"object":var o=t.filter((function(e){return i.hasOwnProperty(e)}));o.length&&(n[r]=i[o[0]])}return n}),{})}(_),k=h(C,"ext.data.pbadslot")||h(C,"ext.data.adserver.adslot"),j=[1,1],R={},z=new Date,D=z.getTime(),B=z.getTimezoneOffset();for(var P in R.lt=D,R.to=B,x&&(R.aun=x),O)R[P]=O[P];if(k&&(R.gpid=k),g.banner?j=g.banner.sizes:g.video&&(j=g.video.playerSize,R=function(e){var t=e.minduration,n=e.maxduration,r=e.linearity,i=e.startdelay,o=e.placement,a=e.protocols,s=void 0===a?[]:a,c=e.playerSize,u=ve(void 0===c?[]:c),d=zf(u[0]&&u[0].split("x"),2),l=d[0],f=d[1],p="";return s.length&&(p=s.join(",")),{mind:t,maxd:n,li:r,sd:i,pt:o,pr:p,viw:l,vih:f}}(g.video)),Uf&&(R.pv=Uf),T&&(R.fp=T,R.fpc=A),b.iriscat&&"string"==typeof b.iriscat&&(R.iriscat=b.iriscat),b.irisid&&"string"==typeof b.irisid&&(R.irisid=b.irisid),b.zone||b.pubId)if(b.zone?R.t=b.zone:R.pubId=b.pubId,R.pi=2,b.slot){var N=zf(Lf(j),2),F=N[0],U=N[1];R.maxw=F,R.maxh=U,R.si=b.slot,R.pi=3,R.bf=j.reduce((function(e,t){return"".concat(e).concat(e&&",").concat(t[0],"x").concat(t[1])}),"")}else b.native?(R.ni=b.native,R.pi=5):g.video?R.pi=2===g.video.linearity?6:7:b.product&&"skins"===b.product.toLowerCase()&&(R.pi=8);else R=jf(jf({},R),function(e,t){var n={};if(e.inScreenPubID&&(n.pubId=e.inScreenPubID,n.pi=2),e.inScreen&&(n.t=e.inScreen,n.pi=2),e.inSlot){var r=zf(Lf(t),2),i=r[0],o=r[1];n.maxw=i,n.maxh=o,n.si=e.inSlot,n.pi=3,n.bf=t.reduce((function(e,t){return"".concat(e).concat(e&&",").concat(t[0],"x").concat(t[1])}),"")}return e.ICV&&(n.ni=e.ICV,n.pi=5),e.videoPubID&&(n.pubId=e.videoPubID,n.pi=7),e.video&&(n.t=e.video,n.pi=7),e.inVideo&&(n.t=e.inVideo,n.pi=6),n}(b,j));r&&(R.gdprApplies=r.gdprApplies?1:0),R.gdprApplies&&(R.gdprConsent=r.consentString),i&&(R.uspConsent=i),o?R.gppConsent={gppString:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:!o&&null!=t&&null!==(u=t.ortb2)&&void 0!==u&&null!==(d=u.regs)&&void 0!==d&&d.gpp&&(R.gppConsent={gppString:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),s&&(R.coppa=s),y&&y.nodes&&(R.schain=(f="".concat((l=y).ver,",").concat(l.complete),l.nodes.map((function(e){f+="!".concat(encodeURIComponent(e.asi||""),","),f+="".concat(encodeURIComponent(e.sid||""),","),f+="".concat(encodeURIComponent(e.hp||""),","),f+="".concat(encodeURIComponent(e.rid||""),","),f+="".concat(encodeURIComponent(e.name||""),","),f+="".concat(encodeURIComponent(e.domain||""))})),f)),n.push({id:p,tmax:a,tId:w,pi:R.pi,selector:b.selector,sizes:j,url:"https://g2.gumgum.com/hbid/imp",method:"GET",data:Of(R,Mf(c))})})),n},interpretResponse:function(e,t){var n=[],r=e.body;if(!r||r.err){var i=t.data||{},a=i.si||i.ni||i.t||i.pubId,s=r?r.err.drt:18e5;Ff[a]={productId:i.pi,timestamp:(new Date).getTime()},setTimeout((function(){Ff[a]&&delete Ff[a]}),s),Se("[GumGum] Please check the implementation for ".concat(a))}var c=Of({ad:{price:0,id:0,markup:"",width:0,height:0},pag:{pvid:0},meta:{adomain:[],mediaType:""}},r),u=c.ad,d=u.price,l=u.id,f=u.markup,p=u.cur,m=u.width,g=u.height,h=u.maxw,v=u.maxh,b=c.cw,y=c.pag.pvid,w=c.jcsi,I=c.meta,_=I.adomain,C=I.mediaType,S=t.data||{},x=S.pi,E=6===x||7===x?Kn:Xn,A=3===x&&9===S.si,T={advertiserDomains:_||[],mediaType:C||E},O=ve(t.sizes);if(h&&v)O=["".concat(h,"x").concat(v)];else if(5===x&&o(O,"1x1"))O=["1x1"];else if(2===x&&o(O,"1x1")){var k=t.sizes&&t.sizes.reduce((function(e,t){var n=zf(t,2),r=n[0],i=n[1];return m!==r&&g!==i||e.push(t.join("x")),e}),[])||[];O=k.length?k:ve(t.sizes)}var j=zf(O[0].split("x"),2),R=j[0],z=j[1];return w&&(r.jcsi=Nf),Uf=y,l&&n.push(jf(jf({ad:b?qf(b,Of({},r,{bidRequest:t})):f},E===Kn&&{ad:f,vastXml:f}),{},{mediaType:E,cpm:A?.1:d,creativeId:l,currency:p||"USD",height:z,netRevenue:!0,requestId:t.id,ttl:60,width:R,meta:T})),n},getUserSyncs:function(e,t){return t.map((function(e){return e.body&&e.body.pxs&&e.body.pxs.scr||[]})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return{type:"f"===e.t?"iframe":"image",url:e.u}}))},supportedMediaTypes:[Xn,Kn]};function Hf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gf(Object(n),!0).forEach((function(t){$f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Tr(Wf),i("gumgumBidAdapter");var Kf="sharethrough",Xf="https://btlr.sharethrough.com/universal/v1?supply_id=".concat("WYu2BXv1"),Qf={getProtocol:function(){return window.location.protocol}};function Yf(e){var t=null;if("function"==typeof e.getFloor){var n=e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.video?"video":"banner",size:e.sizes.map((function(e){return{w:e[0],h:e[1]}}))});"object"!=typeof n||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor))}return null!==t?t:e.params.floor}function Zf(e,t){return null==e?t:e}Tr({code:Kf,supportedMediaTypes:[Kn,Xn],gvlid:80,isBidRequestValid:function(e){return!!e.params.pkey&&e.bidder===Kf},buildRequests:function(e,t){var n=t.timeout,r=t.ortb2||{},i=Qf.getProtocol().indexOf("http")<0||Qf.getProtocol().indexOf("https")>-1,o={id:me(),at:1,cur:["USD"],tmax:n,site:Jf({domain:h(t,"refererInfo.domain",window.location.hostname),page:h(t,"refererInfo.page",window.location.href),ref:h(t,"refererInfo.ref")},r.site),device:{ua:navigator.userAgent,language:navigator.language,js:1,dnt:"1"===navigator.doNotTrack?1:0,h:window.screen.height,w:window.screen.width},regs:{coppa:!0===T.getConfig("coppa")?1:0,ext:{}},source:{tid:t.auctionId,ext:{version:"7.48.0",str:"4.3.0",schain:e[0].schain}},bcat:h(t.ortb2,"bcat")||e[0].params.bcat||[],badv:h(t.ortb2,"badv")||e[0].params.badv||[],test:0};if(o.user=Zf(r.user,{}),o.user.ext||(o.user.ext={}),o.user.ext.eids=e[0].userIdAsEids||[],t.gdprConsent){var a=!0===t.gdprConsent.gdprApplies;o.regs.ext.gdpr=a?1:0,a&&(o.user.ext.consent=t.gdprConsent.consentString)}return t.uspConsent&&(o.regs.ext.us_privacy=t.uspConsent),e.map((function(e){var t={ext:{}},n=h(e,"ortb2Imp.ext.tid");n&&(t.ext.tid=n);var r=h(e,"ortb2Imp.ext.gpid",h(e,"ortb2Imp.ext.data.pbadslot"));r&&(t.ext.gpid=r);var o,a,s,c,u=h(e,"mediaTypes.video");if(u){var d=640,l=360;if(u.playerSize&&u.playerSize[0]&&u.playerSize[1]){var f=Hf(u.playerSize,2);d=f[0],l=f[1]}t.video={pos:Zf(u.pos,0),topframe:dt()?0:1,skip:Zf(u.skip,0),linearity:Zf(u.linearity,1),minduration:Zf(u.minduration,5),maxduration:Zf(u.maxduration,60),playbackmethod:u.playbackmethod||[2],api:(s=u,c=s.api,c&&Array.isArray(c)&&c.length>0?c:[2]),mimes:u.mimes||["video/mp4"],protocols:(o=u,a=o.protocols,a&&Array.isArray(a)&&a.length>0?a:[2,3,5,6,7,8]),w:d,h:l,startdelay:Zf(u.startdelay,0),skipmin:Zf(u.skipmin,0),skipafter:Zf(u.skipafter,0),placement:"instream"===u.context?1:+h(u,"placement",4)},u.delivery&&(t.video.delivery=u.delivery),u.companiontype&&(t.video.companiontype=u.companiontype),u.companionad&&(t.video.companionad=u.companionad)}else t.banner={pos:h(e,"mediaTypes.banner.pos",0),topframe:dt()?0:1,format:e.sizes.map((function(e){return{w:+e[0],h:+e[1]}}))};return Jf({id:e.bidId,tagid:String(e.params.pkey),secure:i?1:0,bidfloor:Yf(e)},t)})).filter((function(e){return!!e})).map((function(e){return{method:"POST",url:Xf,data:Jf(Jf({},o),{},{imp:[e]})}}))},interpretResponse:function(e,t){var n=e.body;return n&&n.seatbid&&0!==n.seatbid.length&&n.seatbid[0].bid&&0!==n.seatbid[0].bid.length?n.seatbid[0].bid.map((function(e){var r={requestId:e.impid,width:+e.w,height:+e.h,cpm:+e.price,creativeId:e.crid,dealId:e.dealid||null,mediaType:t.data.imp[0].video?Kn:Xn,currency:n.cur||"USD",netRevenue:!0,ttl:360,ad:e.adm,nurl:e.nurl,meta:{advertiserDomains:e.adomain||[]}};return r.mediaType===Kn&&(r.ttl=3600,r.vastXml=e.adm),r})):[]},getUserSyncs:function(e,t){return e.pixelEnabled&&void 0!==h(t,"0.body.cookieSyncUrls")?t[0].body.cookieSyncUrls.map((function(e){return{type:"image",url:e}})):[]},onTimeout:function(e){},onBidWon:function(e){},onSetTargeting:function(e){}}),i("sharethroughBidAdapter");var ep={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[Xn,Kn],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},serializeSupplyChain:function(e){if(!e||!e.nodes)return null;var t=["asi","sid","hp","rid","name","domain"];return"".concat(e.ver,",").concat(e.complete,"!")+e.nodes.map((function(e){return t.map((function(t){return e[t]?encodeURIComponent(e[t]):""})).join(",")})).join("!")},adaptBannerSizes:function(e){return e.map((function(e){return{w:e[0],h:e[1]}}))},fillPayloadForVideoBidRequest:function(e,t,n){var r=t.playerSize[0];e.isVideo="instream"===t.context,e.mediaType=Kn,e.videoData={videoProtocol:this.getProtocolForVideoBidRequest(t,n),playerWidth:r[0],playerHeight:r[1],adBreak:this.getStartDelayForVideoBidRequest(t,n)}},getProtocolForVideoBidRequest:function(e,t){return void 0!==t&&t.protocol?t.protocol:void 0!==e&&Array.isArray(e.protocols)?Math.max.apply(Math,e.protocols):null},getStartDelayForVideoBidRequest:function(e,t){if(void 0!==t&&t.startDelay)return t.startDelay;if(void 0!==e){if(0==e.startdelay)return 1;if(-1==e.startdelay)return 2;if(-2==e.startdelay)return 3}return 2},createServerRequest:function(e,t){return{method:"POST",url:(void 0!==t?t:"https://prg.smartadserver.com")+"/prebid/v1",data:JSON.stringify(e)}},buildRequests:function(e,t){var n=T.getConfig("currency.adServerCurrency"),r=h(t,"ortb2.user.data",T.getAnyConfig("ortb2.user.data")),i=h(t,"ortb2.site.content.data",T.getAnyConfig("ortb2.site.content.data"));return e.reduce((function(e,o){var a={siteid:o.params.siteId,pageid:o.params.pageId,formatid:o.params.formatId,currencyCode:n,targeting:o.params.target&&""!==o.params.target?o.params.target:void 0,buid:o.params.buId&&""!==o.params.buId?o.params.buId:void 0,appname:o.params.appName&&""!==o.params.appName?o.params.appName:void 0,ckid:o.params.ckId||0,tagId:o.adUnitCode,pageDomain:t&&t.refererInfo&&t.refererInfo.page?t.refererInfo.page:void 0,transactionId:o.transactionId,timeout:T.getConfig("bidderTimeout"),bidId:o.bidId,prebidVersion:"7.48.0",schain:ep.serializeSupplyChain(o.schain),sda:r,sdc:i};t&&(t.gdprConsent&&(a.addtl_consent=t.gdprConsent.addtlConsent,a.gdpr_consent=t.gdprConsent.consentString,a.gdpr=t.gdprConsent.gdprApplies),t.gppConsent&&(a.gpp=t.gppConsent.gppString,a.gpp_sid=t.gppConsent.applicableSections),t.uspConsent&&(a.us_privacy=t.uspConsent)),o&&o.userIdAsEids&&(a.eids=o.userIdAsEids),t&&t.uspConsent&&(a.us_privacy=t.uspConsent);var s=h(o,"mediaTypes.banner"),c=h(o,"mediaTypes.video"),u=c&&("instream"===c.context||"outstream"===c.context);if(s||u){var d;if(s){if(d=Xn,a.sizes=ep.adaptBannerSizes(s.sizes),u){var l=ut(a);ep.fillPayloadForVideoBidRequest(l,c,o.params.video),l.bidfloor=o.params.bidfloor||ep.getBidFloor(o,n,Kn),e.push(ep.createServerRequest(l,o.params.domain))}}else d=Kn,ep.fillPayloadForVideoBidRequest(a,c,o.params.video);a.bidfloor=o.params.bidfloor||ep.getBidFloor(o,n,d),e.push(ep.createServerRequest(a,o.params.domain))}else e.push({});return e}),[])},interpretResponse:function(e,t){var n=[],r=e.body;try{if(r&&!r.isNoAd&&(r.ad||r.adUrl)){var i=JSON.parse(t.data),o={requestId:i.bidId,cpm:r.cpm,width:r.width,height:r.height,creativeId:r.creativeId,dealId:r.dealId,currency:r.currency,netRevenue:r.isNetCpm,ttl:r.ttl,dspPixels:r.dspPixels,meta:{advertiserDomains:r.adomain?r.adomain:[]}};i.mediaType===Kn?(o.mediaType=Kn,o.vastUrl=r.adUrl,o.vastXml=r.ad,o.content=r.ad):(o.adUrl=r.adUrl,o.ad=r.ad),n.push(o)}}catch(e){xe("Error while parsing smart server response",e)}return n},getBidFloor:function(e,t,n){if(!Re(e.getFloor))return 0;var r=e.getFloor({currency:t||"USD",mediaType:n,size:"*"});return Pe(r)&&!isNaN(r.floor)?r.floor:0},getUserSyncs:function(e,t){var n=[];return e.iframeEnabled&&t.length>0&&null!=t[0].body.cSyncUrl?n.push({type:"iframe",url:t[0].body.cSyncUrl}):e.pixelEnabled&&t.length>0&&void 0!==t[0].body.dspPixels&&t[0].body.dspPixels.forEach((function(e){n.push({type:"image",url:e})})),n}};Tr(ep),i("smartadserverBidAdapter");var tp,np={appnexus:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1e3},appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1e3}};function rp(e,t,n){if(t===n)return e;var i=e;if("function"==typeof r().convertCurrency)try{i=r().convertCurrency(e,t,n)}catch(e){}return i}function ip(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?op(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(n),!0).forEach((function(t){cp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},up.apply(this,arguments)}var dp=new Set(["bidderCode","bidderRequestId","uniquePbsTid","bids","timeout"]),lp=yc({processors:Rc,context:{netRevenue:!0},imp:function(e,t,n){up(n,t.pbsData);var r=e(t,n);if((t.bids||[]).forEach((function(e){e.ortb2Imp&&Object.keys(e.ortb2Imp).length>0&&Mt(r,"ext.prebid.imp.".concat(e.bidder),e.ortb2Imp)})),Object.values(Sc).some((function(e){return r[e]})))return r.secure=n.s2sBidRequest.s2sConfig.secure,r},request:function(e,t,n,r){if(t.length){var i=r.s2sBidRequest,o=r.requestedBidders,a=r.eidPermissions,s=e(t,n,r);return s.tmax=i.s2sConfig.timeout,Mt(s,"source.tid",n.auctionId),[s.app,s.dooh,s.site].forEach((function(e){var t;!e||null!==(t=e.publisher)&&void 0!==t&&t.id||Mt(e,"publisher.id",i.s2sConfig.accountId)})),De(a)&&a.length>0&&(o&&De(o)&&(a=a.map((function(e){return sp(sp({},e),{},{bidders:e.bidders.filter((function(e){return o.includes(e)}))})}))),Mt(s,"ext.prebid.data.eidpermissions",a)),s}xe("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")},bidResponse:function(e,t,n){var r,i,o=n.actualBidRequests.get(n.seatbid.seat);null==o&&(o=n.actualBidRequests.get(null)),o&&up(n,{bidRequest:o,bidderRequest:n.actualBidderRequests.find((function(e){return e.bidderCode===o.bidder}))});var a=e(t,n);return a.requestBidder=null===(r=o)||void 0===r?void 0:r.bidder,null!==(i=a.native)&&void 0!==i&&i.ortb&&(a.adm=a.native.ortb),a.requestTimestamp=n.requestTimestamp,{bid:up(ir(0!==t.price?v.Q_.Q:v.Q_.H,{src:v.os.YZ,bidId:o?o.bidId||o.bid_Id:null,transactionId:n.adUnit.transactionId,auctionId:n.bidderRequest.auctionId}),a),adUnit:n.adUnit.code}},overrides:(tp={},cp(tp,nc,{id:function(e,t,n,r){t.id=r.impId},params:function(e,t,n,r){var i=r.s2sBidRequest.s2sConfig.adapterOptions;for(var o of r.actualBidRequests.values())xc(t,o,r,r),i&&i[o.bidder]&&up(t.ext.prebid.bidder[o.bidder],i[o.bidder])},bidfloor:function(e,t,n,r){var i;for(var o of r.actualBidRequests.values()){var a={};if(e(a,o,r),null==a.bidfloorcur||null==a.bidfloor){i=null;break}if(null==i)i=a;else{var s=rp(a.bidfloor,a.bidfloorcur,i.bidfloorcur);null!=s&&s<i.bidfloor&&(i=a)}}null!=i&&up(t,i)}}),cp(tp,tc,{fpd:function(e,t,n,r){var i,o,a;Ft(t,null===(i=r.s2sBidRequest.ortb2Fragments)||void 0===i?void 0:i.global),r.s2sBidRequest.s2sConfig.extPrebid&&"object"==typeof r.s2sBidRequest.s2sConfig.extPrebid&&Mt(t,"ext.prebid",Ft((null===(a=t.ext)||void 0===a?void 0:a.prebid)||{},r.s2sBidRequest.s2sConfig.extPrebid));var s=Object.entries((null===(o=r.s2sBidRequest.ortb2Fragments)||void 0===o?void 0:o.bidder)||{}).map((function(e){var t=ip(e,2);return{bidders:[t[0]],config:{ortb2:t[1]}}}));s.length&&Mt(t,"ext.prebid.bidderconfig",s)},extPrebidAliases:function(e,t,n,r){r.actualBidderRequests.forEach((function(n){return e(t,n,r)}))},sourceExtSchain:function(e,t,n,r){var i,o=h(t,"ext.prebid.schains")||[],a=new Set(o.flatMap((function(e){return e.bidders})));o=Object.values(o.concat(r.actualBidderRequests.filter((function(e){return!a.has(e.bidderCode)})).map((function(e){return{bidders:[e.bidderCode],schain:h(e,"bids.0.schain")}}))).filter((function(e){var t=e.bidders,n=e.schain;return(null==t?void 0:t.length)>0&&n})).reduce((function(e,t){var n=t.bidders,r=t.schain,o=JSON.stringify(r);return e.hasOwnProperty(o)||(e[o]={bidders:new Set,schain:r}),n.forEach((function(t){return e[o].bidders.add(t)})),(null==i||e[o].bidders.size>i.bidders.size)&&(i=e[o]),e}),{})).map((function(e){var t=e.bidders,n=e.schain;return{bidders:Array.from(t),schain:n}})),null!=i&&Mt(t,"source.ext.schain",i.schain),o.length&&Mt(t,"ext.prebid.schains",o)}}),cp(tp,ic,{serverSideStats:function(e,t,n,r){r.actualBidderRequests.forEach((function(i){return e(t,n,sp(sp({},r),{},{bidderRequest:i,bidRequests:i.bids}))}))},fledgeAuctionConfigs:function(e,t,n,r){var i=Object.values(r.impContext).flatMap((function(e){return(e.fledgeConfigs||[]).map((function(t){return{adUnitCode:e.adUnit.code,config:t.config}}))}));i.length>0&&(t.fledgeAuctionConfigs=i)}}),tp)});function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fp.apply(this,arguments)}var pp,mp,gp=T.getConfig,hp=v.os.YZ,vp=0,bp={bidders:Object.freeze([]),timeout:1e3,syncTimeout:1e3,maxBids:1,adapter:"prebidServer",allowUnknownBidderCodes:!1,adapterOptions:{},syncUrlModifier:{},ortbNative:{context:1,plcmttype:1,eventtrackers:[{event:1,methods:[1]}]}};function yp(e){if(e){var t=Array.isArray(e)?e:[e],n=[],r=t.every((function(t,r,i){!function(e){["endpoint","syncEndpoint"].forEach((function(t){if(ze(e[t])){var n=e[t];e[t]={p1Consent:n,noP1Consent:n}}!Pe(e[t])||e[t].p1Consent&&e[t].noP1Consent||["p1Consent","noP1Consent"].forEach((function(n){e[t][n]||Se("s2sConfig.".concat(t,".").concat(n," not defined.  PBS request will be skipped in some P1 scenarios."))}))}))}(e);var a=function(e){if(e.defaultVendor){var t=e.defaultVendor,n=Object.keys(e);if(!np[t])return xe("Incorrect or unavailable prebid server default vendor option: "+t),!1;Object.keys(np[t]).forEach((function(r){bp[r]!==e[r]&&o(n,r)||(e[r]=np[t][r])}))}return e.enabled="boolean"==typeof e.enabled&&e.enabled}(t);if(!1!==a){var s=function(e){var t=Object.keys(e);if(["accountId","endpoint"].filter((function(e){return!o(t,e)&&(xe(e+" missing in server to server config"),!0)})).length>0)return!1}(t);if(!1!==s)return Array.isArray(t.bidders)&&(i[r].bidders=t.bidders.filter((function(e){return-1===n.indexOf(e)&&(n.push(e),!0)}))),!0}return Se("prebidServer: s2s config is disabled"),!1}));return r?pp=t:void 0}}function wp(e,t,n,r,i){if(pp.length!==vp){vp++;var o={},a=gp("userSync.filterSettings");if(a){var s=a.all,c=a.iframe||s,u=a.image||s;c&&(o=fp({iframe:c},o)),u&&(o=fp({image:u},o))}var d={uuid:me(),bidders:e,account:i.accountId,filterSettings:o},l=i.userSyncLimit;Be(l)&&l>0&&(d.limit=l),t&&(d.gdpr=t.gdprApplies?1:0,!1!==t.gdprApplies&&(d.gdpr_consent=t.consentString)),n&&(d.us_privacy=n),r&&(d.gpp_sid=r.applicableSections,d.gpp=r.gppString),"boolean"==typeof i.coopSync&&(d.coopSync=i.coopSync);var f=JSON.stringify(d);en(Sp(i.syncEndpoint,t),(function(e){try{Ip((e=JSON.parse(e)).bidder_status,i)}catch(e){xe(e)}}),f,{contentType:"text/plain",withCredentials:!0})}}function Ip(e,t){if(0!==e.length){var n=e.shift();n.no_cookie?function(e,t,n,r,i){i.syncUrlModifier&&"function"==typeof i.syncUrlModifier[n]&&(t=i.syncUrlModifier[n](e,t,n)),function(e,t,n,r,i){t?"image"===e||"redirect"===e?(_e('Invoking image pixel user sync for bidder: "'.concat(n,'"')),Ge(t,r,i)):"iframe"===e?(_e('Invoking iframe user sync for bidder: "'.concat(n,'"')),Ke(t,r,i)):(xe('User sync type "'.concat(e,'" not supported for bidder: "').concat(n,'"')),r()):(xe('No sync url for bidder "'.concat(n,'": ').concat(t)),r())}(e,t,n,r,i.syncTimeout)}(n.usersync.type,n.usersync.url,n.bidder,le.call(Ip,null,e,t),t):Ip(e,t)}}T.setDefaults({s2sConfig:bp}),gp("s2sConfig",(function(e){return yp(e.s2sConfig)}));var _p={};function Cp(e){var t,n,r=function(e,t){if([e,t].every(ze))return _p["".concat(e).concat(t)]}(e.auctionId,e.adId);ze(r)&&(_e('Invoking image pixel for wurl on BID_WIN: "'.concat(r,'"')),Ge(r),t=e.auctionId,n=e.adId,[t,n].every(ze)&&(_p["".concat(t).concat(n)]=void 0))}function Sp(e,t){return Xd(t)?e.p1Consent:e.noP1Consent}function xp(e){var t,n,r;return Array.isArray(e)&&e.length>0&&(t=e[0].gdprConsent,n=e[0].uspConsent,r=e[0].gppConsent),{gdprConsent:t,uspConsent:n,gppConsent:r}}var Ep=yn("sync",(function(e,t,n,r){var i=r.onResponse,a=r.onError,s=r.onBid,c=r.onFledge,u=xp(t).gdprConsent,d=ut(e.ad_units),l=d.map((function(e){return e.bids.map((function(e){return e.bidder})).filter(Ye)})).reduce(Ze,[]).filter(Ye),f=e.metrics.measureTime("buildRequests",(function(){return function(e,t,n,r,i){var o=pt(),a=new Set,s=[];n.forEach((function(e){var n=new Map;e.bids.forEach((function(r){null!=r.mediaTypes&&Se("Prebid Server adapter does not (yet) support bidder-specific mediaTypes for the same adUnit. Size mapping configuration will be ignored for adUnit: ".concat(e.code,", bidder: ").concat(r.bidder)),n.set(r.bidder,et(r.bid_id,t))}));for(var r=e.code,i=1;a.has(r);)i++,r="".concat(e.code,"-").concat(i);a.add(r),s.push(sp(sp(sp({},e),{},{adUnitCode:e.code},bt(n.values().next().value||{},["userId","userIdAsEids","schain"])),{},{pbsData:{impId:r,actualBidRequests:n,adUnit:e}}))}));var c=sp(sp({},Object.fromEntries(Object.entries(t[0]).filter((function(e){var t=ip(e,1)[0];return!dp.has(t)})))),{},{fledgeEnabled:t.some((function(e){return e.fledgeEnabled}))});return lp.toORTB({bidderRequest:c,bidRequests:s,context:{currency:T.getConfig("currency.adServerCurrency")||"USD",ttl:e.s2sConfig.defaultTtl||60,requestTimestamp:o,s2sBidRequest:e,requestedBidders:r,actualBidderRequests:t,eidPermissions:i,nativeRequest:e.s2sConfig.ortbNative}})}(e,t,d,l,mp)})),p=f&&JSON.stringify(f);Ce("BidRequest: "+p);var m=Sp(e.s2sConfig.endpoint,u);if(f&&p&&m){var g=e.metrics.startTiming("net");n(m,{success:function(t){var n;g();try{n=JSON.parse(t);var r=e.metrics.measureTime("interpretResponse",(function(){return function(e,t){return lp.fromORTB({response:e,request:t})}(n,f)})),a=r.bids,u=r.fledgeAuctionConfigs;a.forEach(s),u&&u.forEach(c)}catch(e){xe(e)}!n||n.status&&o(n.status,"Error")?(xe("error parsing response: ",n?n.status:"not valid JSON"),i(!1,l)):i(!0,l,n)},error:function(){g(),a.apply(this,arguments)}},p,{contentType:"text/plain",withCredentials:!0})}else xe("PBS request not made.  Check endpoints.")}),"processPBSRequest");function Ap(e){return function(e){if(Array.isArray(e))return Tp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Op(Object(n),!0).forEach((function(t){jp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ce().setEidPermissions=function(e){mp=e},Ni.registerBidAdapter(new function(){var e=new nr("prebidServer");return e.callBids=function(e,t,n,r,i){var o=e.metrics=vr(h(t,"0.metrics")).newMetrics().renameWith((function(t){return["adapter.s2s.".concat(t),"adapters.s2s.".concat(e.s2sConfig.defaultVendor,".").concat(t)]}));r=o.startTiming("total").stopBefore(r),t.forEach((function(e){return vr(e.metrics).join(o,{continuePropagation:!1})}));var a=xp(t),s=a.gdprConsent,c=a.uspConsent,u=a.gppConsent;if(Array.isArray(pp)){if(e.s2sConfig&&e.s2sConfig.syncEndpoint&&Sp(e.s2sConfig.syncEndpoint,s)){var d=e.s2sConfig.bidders.map((function(e){return Ni.aliasRegistry[e]||e})).filter((function(e,t,n){return n.indexOf(e)===t}));wp(d,s,c,u,e.s2sConfig)}Ep(e,t,i,{onResponse:function(n,i,o){var a,d;n&&t.forEach((function(e){return Yt(v.FP.BIDDER_DONE,e)})),function(e,t){var n,r;return(null==e||null===(n=e.extPrebid)||void 0===n?void 0:n.returnallbidstatus)&&(null==t||null===(r=t.ext)||void 0===r?void 0:r.seatnonbid)}(e.s2sConfig,o)&&(a=o.ext.seatnonbid,d=t[0].auctionId,Yt(v.FP.SEAT_NON_BID,{seatnonbid:a,auctionId:d})),r(),function(e,t,n,r){e.forEach((function(e){var i=Ni.getBidAdapter(e);i&&i.registerSyncs&&T.runWithBidder(e,le.call(i.registerSyncs,i,[],t,n,r))}))}(i,s,c,u)},onError:r,onBid:function(t){var r,i,o,a=t.adUnit,s=t.bid,c=s.metrics=e.metrics.fork().renameWith();c.checkpoint("addBidResponse"),null!=s.requestId&&null!=s.requestBidder||e.s2sConfig.allowUnknownBidderCodes?c.measureTime("addBidResponse.validate",(function(){return Dr(a,s)}))?(n(a,s),s.pbsWurl&&(r=s.auctionId,i=s.adId,o=s.pbsWurl,[r,i].every(ze)&&(_p["".concat(r).concat(i)]=o))):n.reject(a,s,v.Gw.UI):(Se("PBS adapter received bid from unknown bidder (".concat(s.bidder,"), but 's2sConfig.allowUnknownBidderCodes' is not set. Ignoring bid.")),n.reject(a,s,v.Gw.Dg))},onFledge:function(e){var t=e.adUnitCode,n=e.config;Rr(t,n)}})}},Kt(v.FP.BID_WON,Cp),fp(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:hp})},"prebidServer"),i("prebidServerBidAdapter");var Rp=hi.CLIENT,zp=hi.SERVER,Dp=kp(kp({},hi),{},{clientTestBidders:new Set});function Bp(e){return e&&e.enabled&&e.testing}Dp.bidSource={},Dp.globalRand=Math.random(),Dp.getSourceBidderMap=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=(jp(e={},zp,{}),jp(e,Rp,{}),e);return n.forEach((function(e){(e.bids||[]).forEach((function(e){r.indexOf(e.bidder)>-1&&!Dp.bidSource[e.bidder]&&(Dp.bidSource[e.bidder]=zp),e.calcSource=e.calcSource||Dp.getSource(e.bidSource),e.finalSource=e.calcSource||Dp.bidSource[e.bidder]||Rp,i[e.finalSource][e.bidder]=!0}))})),Object.keys(Dp.bidSource).forEach((function(e){i[Dp.bidSource[e]][e]=!0})),jp(t={},zp,Object.keys(i[zp])),jp(t,Rp,Object.keys(i[Rp])),t},Dp.calculateBidSources=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidderControl||{};(e.bidders||[]).forEach((function(e){Dp.bidSource[e]=Dp.getSource(t[e]&&t[e].bidSource)||zp}))},Dp.getSource=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[zp,Rp],n={},r=0;if(t.forEach((function(t){r+=e[t]||0,n[t]=r})),r)for(var i=Dp.globalRand*r,o=0;o<t.length;o++){var a=t[o];if(i<n[a])return a}},Ri.before((function(e,t,n){var r,i=ji(n),o=!1;n.forEach((function(e){Bp(e)&&(Dp.calculateBidSources(e),Dp.getSourceBidderMap(t,Ap(i))[Rp].forEach((function(e){return Dp.clientTestBidders.add(e)}))),function(e){return Boolean(Bp(e)&&e.testServerOnly)}(e)&&function(e,t){return Boolean(a(e,(function(e){return a(e.bids,(function(e){return(e.bidSource||t.bidderControl&&t.bidderControl[e.bidder])&&e.finalSource===zp}))})))}(t,e)&&(Se("testServerOnly: True.  All client requests will be suppressed."),o=!0)})),e.bail(nt(t).reduce((function(e,t){return i.has(t)&&e[zp].push(t),o||i.has(t)&&!Dp.clientTestBidders.has(t)||e[Rp].push(t),e}),(jp(r={},Rp,[]),jp(r,zp,[]),r)))})),Ci.before((function(e,t,n){if(null==n)e.bail(t.filter((function(e){return!Dp.clientTestBidders.size||e.finalSource!==zp})));else{var r=ji(n);e.bail(t.filter((function(e){return r.has(e.bidder)&&(!Bp(n)||e.finalSource!==Rp)})))}})),i("s2sTesting");var Pp="",Np={code:"richaudience",gvlid:108,aliases:["ra"],supportedMediaTypes:[Xn,Kn],isBidRequestValid:function(e){return!!(e.params&&e.params.pid&&e.params.supplyType)},buildRequests:function(e,t){return e.map((function(e){var n,r={bidfloor:Hp(e,T),ifa:e.params.ifa,pid:e.params.pid,supplyType:e.params.supplyType,currencyCode:T.getConfig("currency.adServerCurrency"),auctionId:e.auctionId,bidId:e.bidId,BidRequestsCount:e.bidRequestsCount,bidder:e.bidder,bidderRequestId:e.bidderRequestId,tagId:e.adUnitCode,sizes:Fp(e),referer:void 0!==t.refererInfo.page?encodeURIComponent(t.refererInfo.page):null,numIframes:void 0!==t.refererInfo.numIframes?t.refererInfo.numIframes:null,transactionId:e.transactionId,timeout:T.getConfig("bidderTimeout"),user:qp(e),demand:Up(e),videoData:Mp(e),scr_rsl:(n="",void 0!==window.screen&&(n=window.screen.width+"x"+window.screen.height),n),cpuc:void 0!==window.navigator?window.navigator.hardwareConcurrency:null,kws:Fe(e.params.keywords)?null:e.params.keywords,schain:e.schain};return Pp=void 0!==t.refererInfo.page?encodeURIComponent(t.refererInfo.page):null,r.gdpr_consent="",r.gdpr=!1,t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(r.gdpr=t.gdprConsent.gdprApplies),void 0!==t.gdprConsent.consentString&&(r.gdpr_consent=t.gdprConsent.consentString)),{method:"POST",url:"https://shb.richaudience.com/hb/",data:JSON.stringify(r)}}))},interpretResponse:function(e,t){var n=[],r=e.body;if(r){var i={requestId:JSON.parse(t.data).bidId,cpm:r.cpm,width:r.width,height:r.height,creativeId:r.creative_id,mediaType:r.media_type,netRevenue:r.netRevenue,currency:r.currency,ttl:r.ttl,meta:r.adomain,dealId:r.dealId};if("video"===r.media_type){i.vastXml=r.vastXML;try{null!=i.vastXml&&("outstream"!=JSON.parse(t.data).videoData.format&&"banner"!=JSON.parse(t.data).videoData.format||(i.renderer=ln.install({id:t.bidId,adunitcode:t.tagId,loaded:!1,config:r.media_type,url:"https://cdn3.richaudience.com/prebidVideo/player.js"})),i.renderer.setRender(Wp))}catch(e){i.ad=r.adm}}else i.ad=r.adm;n.push(i)}return n},getUserSyncs:function(e,t,n){var r,i=[],o=Math.floor(9999999999*Math.random()),a="",s="";return r=function(e){try{var t=null,n={};return null!=e.getConfig("userSync").filterSettings&&void 0!==e.getConfig("userSync").filterSettings&&(null!=(t=e.getConfig("userSync").filterSettings).iframe&&void 0!==t.iframe&&(n.raiIframe="richaudience"==t.iframe.bidders||"*"==t.iframe.bidders?t.iframe.filter:"exclude"),null!=t.image&&void 0!==t.image&&(n.raiImage="richaudience"==t.image.bidders||"*"==t.image.bidders?t.image.filter:"exclude")),n}catch(e){return null}}(T),n&&"string"==typeof n.consentString&&void 0!==n.consentString&&(s="consentString=".concat(n.consentString)),e.iframeEnabled&&"exclude"!=r.raiIframe&&(a="https://sync.richaudience.com/dcf3528a0b8aa83634892d50e91c306e/?ord="+o,""!=s&&(a+="&".concat(s)),i.push({type:"iframe",url:a})),e.pixelEnabled&&null!=Pp&&0==i.length&&"exclude"!=r.raiImage&&(a="https://sync.richaudience.com/bf7c142f4339da0278e83698a02b0854/?referrer=".concat(Pp),""!=s&&(a+="&".concat(s)),i.push({type:"image",url:a})),i}};function Fp(e){var t;if(e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(t=e.mediaTypes.banner.sizes),null!=t)return t.map((function(e){return{w:e[0],h:e[1]}}))}function Up(e){var t="display";return void 0!==e.sizes&&e.sizes.forEach((function(e){("1800"==e[0]&&"1000"==e[1]||"1"==e[0]&&"1"==e[1])&&(t="skin")})),null!=e.mediaTypes&&null!=e.mediaTypes.video&&(t="video"),t}function Mp(e){return"video"==Up(e)?{format:e.mediaTypes.video.context,playerSize:e.mediaTypes.video.playerSize,mimes:e.mediaTypes.video.mimes}:{format:"banner"}}function qp(e){var t=[];return e&&e.userId&&(Lp(0,t,"id5-sync.com",h(e,"userId.id5id.uid")),Lp(0,t,"pubcommon",h(e,"userId.pubcid")),Lp(0,t,"criteo.com",h(e,"userId.criteoId")),Lp(0,t,"liveramp.com",h(e,"userId.idl_env")),Lp(0,t,"liveintent.com",h(e,"userId.lipb.lipbid")),Lp(0,t,"adserver.org",h(e,"userId.tdid"))),t}function Lp(e,t,n,r){ze(r)&&t.push({userId:r,source:n})}function Wp(e){e.renderer.push((function(){!function(e){var t="".concat(e.vastXml),n={config:null!=e.params[0].player?{end:null!=e.params[0].player.end?e.params[0].player.end:"close",init:null!=e.params[0].player.init?e.params[0].player.init:"close",skin:null!=e.params[0].player.skin?e.params[0].player.skin:"light"}:{end:"close",init:"close",skin:"light"},pid:e.params[0].pid,adUnit:e.adUnitCode};window.raParams(n,t,!0)}(e)}))}function Hp(e,t){try{var n;return null!=e.params.bidfloor?n=e.params.bidfloor:"function"==typeof e.getFloor&&(n=e.getFloor({currency:null!=t.getConfig("floors.data.currency")?t.getConfig("floors.data.currency"):"USD",mediaType:"object"==typeof e.mediaTypes.banner?"banner":"video",size:"*"}).floor),n}catch(e){return 0}}function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vp.apply(this,arguments)}Tr(Np),i("richaudienceBidAdapter");var Gp="prebid",Jp="vidazoo",$p="1.0.0",Kp=9e5,Xp=36e5,Qp="vidSid",Yp="vdzwopt",Zp={britepoolid:1,criteoId:1,id5id:1,idl_env:1,lipb:1,netId:1,parrableId:1,pubcid:1,tdid:1,pubProvidedId:1},em="wsid_"+parseInt(Date.now()*Math.random()),tm=Nn({bidderCode:Jp});function nm(){try{return Bt(window.top.document.URL,{decodeSearchAsString:!0}).search}catch(e){return""}}function rm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gp;return"https://".concat(e,".cootlogix.com")}function im(e){return e.cId||e.CID||e.cID||e.CId||e.cid||e.ciD||e.Cid||e.CiD}function om(e){return e.pId||e.PID||e.pID||e.PId||e.pid||e.piD||e.Pid||e.PiD}function am(e,t,n,r,i){var o,a,s=e.params,c=e.bidId,u=e.userId,d=e.adUnitCode,l=e.schain,f=e.mediaTypes,p=e.auctionId,m=e.transactionId,g=e.bidderRequestId,v=e.bidRequestsCount,b=e.bidderRequestsCount,y=e.bidderWinsCount,w=s.ext,I=s.bidFloor,_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",n=e.length,r=0,i=0;if(n>0)for(;i<n;)r=(r<<5)-r+e.charCodeAt(i++)|0;return t+r}(t),C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kp;try{var n,r=sm(e),i=0;r&&r.value&&Date.now()-r.created<t&&(i=r.value,n=r.created);var o=i+1;return cm(e,o,n),o}catch(e){return 0}}(_),S=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xp,r="u_".concat(e),i=Date.now(),o=sm(r);return!o||!o.value||i-o.created>n?cm(r,t="".concat(e,"_").concat(i.toString())):t=o.value,t}(_),x=sm(Qp)||"",E=im(s),A=om(s),T=function(e){return e.subDomain||e.SubDomain||e.Subdomain||e.subdomain||e.SUBDOMAIN||e.subDOMAIN}(s),O=function(){var e=tm.getDataFromLocalStorage(Yp);return e||(e=String(Date.now()),tm.setDataInLocalStorage(Yp,e)),e}(),k=On.get(Jp,"storageAllowed"),j=h(e,"ortb2Imp.ext.gpid",h(e,"ortb2Imp.ext.data.pbadslot","")),R=h(r,"ortb2.site.cat",[]),z=h(r,"ortb2.site.pagecat",[]);if(Re(e.getFloor)){var D=e.getFloor({currency:"USD",mediaType:"*",size:"*"});"USD"===D.currency&&(I=D.floor)}var B,P,N={url:encodeURIComponent(t),uqs:nm(),cb:Date.now(),bidFloor:I,bidId:c,referrer:r.refererInfo.ref,adUnitCode:d,publisherId:A,sessionId:x,sizes:n,dealId:C,uniqueDealId:S,bidderVersion:$p,prebidVersion:"7.48.0",res:"".concat(screen.width,"x").concat(screen.height),schain:l,mediaTypes:f,ptrace:O,isStorageAllowed:k,gpid:j,cat:R,pagecat:z,auctionId:p,transactionId:m,bidderRequestId:g,bidRequestsCount:v,bidderRequestsCount:b,bidderWinsCount:y,bidderTimeout:i,webSessionId:em};B=N,Me(u,(function(e,t){if(Zp[t])switch(P="uid.".concat(t),t){case"digitrustid":B[P]=h(e,"data.id");break;case"lipb":B[P]=e.lipbid;break;case"parrableId":B[P]=e.eid;break;case"id5id":B[P]=e.uid;break;default:B[P]=e}}));var F=h(r,"ortb2.device.sua");F&&(N.sua=F),r.gdprConsent&&(r.gdprConsent.consentString&&(N.gdprConsent=r.gdprConsent.consentString),void 0!==r.gdprConsent.gdprApplies&&(N.gdpr=r.gdprConsent.gdprApplies?1:0)),r.uspConsent&&(N.usPrivacy=r.uspConsent),r.gppConsent?(N.gppString=r.gppConsent.gppString,N.gppSid=r.gppConsent.applicableSections):null!==(o=r.ortb2)&&void 0!==o&&null!==(a=o.regs)&&void 0!==a&&a.gpp&&(N.gppString=r.ortb2.regs.gpp,N.gppSid=r.ortb2.regs.gpp_sid);var U={method:"POST",url:"".concat(rm(T),"/prebid/multi/").concat(E),data:N};return Me(w,(function(e,t){U.data["ext."+t]=e})),U}function sm(e){try{return function(e){try{return JSON.parse(e)}catch(t){return e}}(tm.getDataFromLocalStorage(e))}catch(e){}return null}function cm(e,t,n){try{var r=n||Date.now(),i=JSON.stringify({value:t,created:r});tm.setDataInLocalStorage(e,i)}catch(e){}}var um={code:Jp,version:$p,gvlid:744,supportedMediaTypes:[Xn,Kn],isBidRequestValid:function(e){var t=e.params||{};return!(!im(t)||!om(t))},buildRequests:function(e,t){var n=t.refererInfo.page||t.refererInfo.topmostLocation,r=T.getConfig("bidderTimeout"),i=[];return e.forEach((function(e){var o=ve(e.sizes),a=am(e,n,o,t,r);i.push(a)})),i},interpretResponse:function(e,t){if(!e||!e.body)return[];var n=t.data.bidId,r=e.body.results,i=[];try{return r.forEach((function(e){var t=e.creativeId,r=e.ad,o=e.price,a=e.exp,s=e.width,c=e.height,u=e.currency,d=e.advertiserDomains,l=e.metaData,f=e.mediaType,p=void 0===f?Xn:f;if(r&&o){var m={requestId:n,cpm:o,width:s,height:c,creativeId:t,currency:u||"USD",netRevenue:!0,ttl:a||300};Vp(m,l?{meta:l}:{meta:{advertiserDomains:d||[]}}),Vp(m,p===Xn?{ad:r}:{vastXml:r,mediaType:Kn}),i.push(m)}})),i}catch(e){return[]}},getUserSyncs:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=[],o=e.iframeEnabled,a=e.pixelEnabled,s=n.gdprApplies,c=n.consentString,u=void 0===c?"":c,d=t.filter((function(e){return h(e,"body.cid")})).map((function(e){return e.body.cid})).filter(Ye),l="?cid=".concat(encodeURIComponent(d.join(",")),"&gdpr=").concat(s?1:0,"&gdpr_consent=").concat(encodeURIComponent(u||""),"&us_privacy=").concat(encodeURIComponent(r||""));return o&&i.push({type:"iframe",url:"https://sync.cootlogix.com/api/sync/iframe/".concat(l)}),a&&i.push({type:"image",url:"https://sync.cootlogix.com/api/sync/image/".concat(l)}),i}};Tr(um),i("vidazooBidAdapter");var dm={growthCodeId:{getValue:function(e){return e.gc_id},source:"growthcode.io",atype:1,getUidExt:function(e){var t=At(e,["h1","h2","h3"]);if(Object.keys(t).length)return t}},trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},pairId:{source:"google.com",atype:571187},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},ftrackId:{source:"flashtalking.com",atype:1,getValue:function(e){var t="";return e&&e.ext&&e.ext.DeviceID&&(t=e.ext.DeviceID),t},getUidExt:function(e){return e&&e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=At(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},bidswitch:{source:"bidswitch.net",atype:3,getValue:function(e){return e.id}},medianet:{source:"media.net",atype:3,getValue:function(e){return e.id}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{atype:3,getSource:function(e){var t;return null!=e&&null!==(t=e.ext)&&void 0!==t&&t.ssp?"".concat(e.ext.ssp,".merkleinc.com"):"merkleinc.com"},getValue:function(e){return e.id},getUidExt:function(e){return e.keyID?{keyID:e.keyID}:e.ext?e.ext:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return void 0===e.snowflake.id?e.snowflake:e.snowflake.id},source:"novatiq.com"},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxdt.net",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imppid:{source:"ppid.intimatemerger.com",atype:1},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1},dacId:{source:"impact-ad.jp",atype:1},"33acrossId":{source:"33across.com",atype:1,getValue:function(e){return e.envelope}},tncid:{source:"thenewco.it",atype:3},gravitompId:{source:"gravito.net",atype:1},czechAdId:{source:"czechadid.cz",atype:1},oneKeyData:{getValue:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0])return e.identifiers[0].value},source:"paf",atype:1,getEidExt:function(e){if(e&&e.preferences)return{preferences:e.preferences}},getUidExt:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0]){var t=e.identifiers[0];return{version:t.version,type:t.type,source:t.source}}}}};function lm(e,t){var n=dm[t];if(n&&e){var r={};r.source=Re(n.getSource)?n.getSource(e):n.source;var i=Re(n.getValue)?n.getValue(e):e;if(ze(i)){var o={id:i,atype:n.atype};if(Re(n.getUidExt)){var a=n.getUidExt(e);a&&(o.ext=a)}if(r.uids=[o],Re(n.getEidExt)){var s=n.getEidExt(e);s&&(r.ext=s)}return r}}return null}function fm(e){var t=[],n=function(n){if(e.hasOwnProperty(n))if("pubProvidedId"===n)t=t.concat(e.pubProvidedId);else if(Array.isArray(e[n]))e[n].forEach((function(e,r,i){var o=lm(e,n);o&&t.push(o)}));else{var r=lm(e[n],n);r&&t.push(r)}};for(var r in e)n(r);return t}var pm,mm,gm,hm,vm,bm,ym=yn("sync",(function(){})),wm="User ID",Im=zn,_m=Rn,Cm="_pbjs_userid_consent_data",Sm=30,xm="_pbjs_id_optout",Em=Fn("userid"),Am=!1,Tm=[],Om=[],km=[],jm=function(){return null==bm&&(bm=yr()),bm};function Rm(e){return jm().fork().renameWith((function(t){return["userId.mod.".concat(t),"userId.mods.".concat(e,".").concat(t)]}))}function zm(e){var t="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,n=e.config.storage.name;return function(e,r,i){Em.setCookie(n+(e||""),r,i,"Lax",t)}}function Dm(e,t){var n=e.config.storage;try{var r=new Date(Date.now()+864e5*n.expires).toUTCString(),i=Pe(t)?JSON.stringify(t):t;if(n.type===Im){var o=zm(e);o(null,i,r),"number"==typeof n.refreshInSeconds&&o("_last",(new Date).toUTCString(),r)}else n.type===_m&&(Em.setDataInLocalStorage("".concat(n.name,"_exp"),r),Em.setDataInLocalStorage(n.name,encodeURIComponent(i)),"number"==typeof n.refreshInSeconds&&Em.setDataInLocalStorage("".concat(n.name,"_last"),(new Date).toUTCString()))}catch(e){xe(e)}}function Bm(e){var t,n,r,i;switch(null===(t=e.config)||void 0===t||null===(n=t.storage)||void 0===n?void 0:n.type){case Im:var o=zm(e),a=new Date(Date.now()-864e5).toUTCString();r=function(e){return o(e,"",a)},i=["","_last"];break;case _m:r=function(t){return Em.removeDataFromLocalStorage(e.config.storage.name+t)},i=["","_last","_exp"]}r&&i.forEach((function(e){try{r(e)}catch(e){xe(e)}}))}function Pm(e){var t=ce().setEidPermissions;"function"==typeof t&&De(e)&&t(function(e){var t=[];return e.filter((function(e){return Pe(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(n){h(e,"config.bidders")&&Array.isArray(e.config.bidders)&&h(dm,n+".source")&&t.push({source:dm[n].source,bidders:e.config.bidders})}))})),t}(e))}function Nm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=n?"".concat(e.name,"_").concat(n):e.name;try{if(e.type===Im)t=Em.getCookie(r);else if(e.type===_m){var i=Em.getDataFromLocalStorage("".concat(e.name,"_exp"));""===i?t=Em.getDataFromLocalStorage(r):i&&new Date(i).getTime()-Date.now()>0&&(t=decodeURIComponent(Em.getDataFromLocalStorage(r)))}"string"==typeof t&&"{"===t.trim().charAt(0)&&(t=JSON.parse(t))}catch(e){xe(e)}return t}function Fm(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=function(e,t){if(Re(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},i=3735928559^n,o=1103547991^n,a=0;a<e.length;a++)i=r(i^(t=e.charCodeAt(a)),2654435761),o=r(o^t,1597334677);return i=r(i^i>>>16,2246822507)^r(o^o>>>13,3266489909),(4294967296*(2097151&(o=r(o^o>>>16,2246822507)^r(i^i>>>13,3266489909)))+(i>>>0)).toString()}(JSON.stringify(t))}function Um(e){try{var t=new Date(Date.now()+864e5*Sm).toUTCString();Em.setCookie(Cm,Fm(e),t,"Lax")}catch(e){xe(e)}}function Mm(){try{return Em.getCookie(Cm)}catch(e){xe(e)}}function qm(e,t){t=jm().fork().startTiming("userId.callbacks.total").stopBefore(t);var n=ht((function(){clearTimeout(void 0),t()}),e.length);e.forEach((function(e){var t=Rm(e.submodule.name).startTiming("callback").stopBefore(n);try{var r;e.callback((function(n){n?(e.config.storage&&Dm(e,n),e.idObj=e.submodule.decode(n,e.config),ig(e.idObj)):Ce("".concat(wm,": ").concat(e.submodule.name," - request id responded with an empty value")),t()}),Nm.bind(null,null===(r=e.config)||void 0===r?void 0:r.storage))}catch(n){xe("Error in userID module '".concat(e.submodule.name,"':"),n),t()}e.callback=void 0}))}function Lm(e,t){[e].some((function(e){return!Array.isArray(e)||!e.length}))||e.forEach((function(e){e.bids&&De(e.bids)&&e.bids.forEach((function(e){var n=function(e,t){return Array.isArray(e)&&e.length&&t?e.filter((function(e){return!e.config.bidders||!De(e.config.bidders)||o(e.config.bidders,t)})).filter((function(e){return Pe(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(n){e[n]=t.idObj[n]})),e}),{}):{}}(t,e.bidder);Object.keys(n).length&&(e.userId=n,e.userIdAsEids=fm(n))}))}))}var Wm,Hm={};function Vm(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.delay,i=void 0===r?L.timeout:r,o=H(),a=H(),s=!1;function c(n){return t=jm().fork(),null!=e&&e.reject(Hm),e=H(),L.race([n,e.promise]).finally(t.startTiming("userId.total"))}var u=pm,d=Tm;function l(e){return function(){if(u===pm&&d===Tm)return e.apply(void 0,arguments)}}function f(){return Ei.promise.finally(t.startTiming("userId.init.gdpr"))}var p=c(L.all([In,o.promise]).then(f).then(l((function(e){og(u,d,e)}))).then((function(){return a.promise.finally(t.startTiming("userId.callbacks.pending"))})).then(l((function(){var e=u.filter((function(e){return Re(e.callback)}));if(e.length)return new L((function(t){return qm(e,t)}))}))));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refresh,n=void 0!==t&&t,r=e.submoduleNames,m=void 0===r?null:r,g=e.ready,h=void 0!==g&&g;return h&&!s&&(s=!0,o.resolve(),gm>0?a.resolve():Kt(v.FP.AUCTION_END,(function e(){Xt(v.FP.AUCTION_END,e),i(mm).then(a.resolve)}))),n&&s&&(p=c(p.catch((function(){return null})).then(f).then(l((function(e){var t=og(u,d.filter((function(e){return null==m||m.includes(e.submodule.name)})),e,!0).filter((function(e){return null!=e.callback}));if(t.length)return new L((function(e){return qm(t,e)}))}))))),p}}function Gm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Km()||[],t=hm&&e.find((function(e){return e.source===hm}));if(t&&"string"==typeof h(t,"uids.0.id")){var n=t.uids[0].id.replace(/[\W_]/g,"");if(n.length>=32&&n.length<=150)return n;Se("User ID - Googletag Publisher Provided ID for ".concat(hm," is not between 32 and 150 characters - ").concat(n))}}var Jm=Ir("userId",(function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.delay,a=void 0===o?L.timeout:o,s=i.getIds,c=void 0===s?tg:s;L.race([c().catch((function(){return null})),a(gm)]).then((function(){Lm(t.adUnits||r().adUnits,pm),jm().join(vr(t.metrics),{propagate:!1,includeGroups:!0}),e.call(n,t)}))}));function $m(){return function(e){return Array.isArray(e)&&e.length?e.filter((function(e){return Pe(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(n){e[n]=t.idObj[n]})),e}),{}):{}}(pm)}function Km(){return fm($m())}function Xm(e){return fm(function(e,t){if(!Array.isArray(e)||!e.length)return{};var n=e.filter((function(e){var n;return Pe(e.idObj)&&Object.keys(e.idObj).length&&(null===(n=dm[Object.keys(e.idObj)[0]])||void 0===n?void 0:n.source)===t}));return Fe(n)?[]:n[0].idObj}(pm,e))[0]}function Qm(e,t,n){return Wm().then((function(){var r={};if(Re(n)){Ce("".concat(wm," - Getting encrypted signal from custom function : ").concat(n.name," & source : ").concat(e," "));var i=n(e);r[e]=i?Ym(i):null}else{var o=Xm(e);Ce("".concat(wm," - Getting encrypted signal for eids :").concat(JSON.stringify(o))),Fe(o)||(r[o.source]=!0===t?Ym(o):o.uids[0].id)}return Ce("".concat(wm," - Fetching encrypted eids: ").concat(r[e])),r[e]}))}function Ym(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="";return 1===t&&(n="object"==typeof e?window.btoa(JSON.stringify(e)):window.btoa(e)),"".concat(t,"||").concat(n)}function Zm(){if(rt()){window.googletag.encryptedSignalProviders=window.googletag.encryptedSignalProviders||[];var e=T.getConfig("userSync.encryptedSignalSources");if(e){var t=e.registerDelay||0;setTimeout((function(){e.sources&&e.sources.forEach((function(e){var t=e.source,n=e.encrypt,r=e.customFunc;t.forEach((function(e){window.googletag.encryptedSignalProviders.push({id:e,collectorFunction:function(){return Qm(e,n,r)}})}))}))}),t)}else Se("".concat(wm," - ESP : encryptedSignalSources config not defined under userSync Object"))}}function eg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.submoduleNames,n=arguments.length>1?arguments[1]:void 0;return Wm({refresh:!0,submoduleNames:t}).then((function(){return n&&Re(n)&&n(),$m()}))}function tg(){return Wm().then((function(){return $m()}),(function(e){return e===Hm?Promise.resolve().then(tg):(xe("Error initializing userId",e),L.reject(e))}))}var ng=yn("sync",(function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}}),"validateGdprEnforcement");function rg(e,t,n,r){if(e.config.storage){var i,o=Nm(e.config.storage),a=!1;if("number"==typeof e.config.storage.refreshInSeconds){var s=new Date(Nm(e.config.storage,"last"));a=s&&Date.now()-s.getTime()>1e3*e.config.storage.refreshInSeconds}!o||a||r||!function(e,t){return null!=e&&e===Fm(t)}(n,t)?i=e.submodule.getId(e.config,t,o):"function"==typeof e.submodule.extendId&&(i=e.submodule.extendId(e.config,t,o)),Pe(i)&&(i.id&&(Dm(e,i.id),o=i.id),"function"==typeof i.callback&&(e.callback=i.callback)),o&&(e.idObj=e.submodule.decode(o,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var c=e.submodule.getId(e.config,t,void 0);Pe(c)&&("function"==typeof c.callback&&(e.callback=c.callback),c.id&&(e.idObj=e.submodule.decode(c.id,e.config)))}ig(e.idObj)}function ig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$m();if(e&&hm){var t=Gm(fm(e));t&&(rt()?window.googletag.pubads().setPublisherProvidedId(t):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(t)}))))}}function og(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return jm().fork().measureTime("userId.init.modules",(function(){if(!t.length)return[];var i=cg();if(!(t=t.filter((function(e){return!e.config.storage||i.has(e.config.storage.type)}))).length)return Se("".concat(wm," - no ID module is configured for one of the available storage types:"),Array.from(i)),[];var o=ng(t,n),a=o.userIdModules;if(!o.hasValidated&&!Xd(n))return Se("".concat(wm," - gdpr permission not valid for local storage or cookies, exit module")),[];var s=Mm();Um(n);var c=a.reduce((function(e,t){return Rm(t.submodule.name).measureTime("init",(function(){try{rg(t,n,s,r),e.push(t)}catch(e){xe("Error in userID module '".concat(t.submodule.name,"':"),e)}return e}))}),[]);return c.length&&Pm(c),c.forEach(ag.bind(null,e)),c}))}function ag(e,t){for(var n=!1,r=0;r<e.length;r++)if(t.config.name.toLowerCase()===e[r].config.name.toLowerCase()){n=!0,e[r]=t;break}n||e.push(t)}var sg=new Set([_m,Im]);function cg(){var e=[],t=!1;return Em.localStorageIsEnabled()&&(e.push(_m),Em.getDataFromLocalStorage(xm)&&(Ce("".concat(wm," - opt-out localStorage found, storage disabled")),t=!0)),Em.cookiesAreEnabled()&&(e.push(Im),Em.getCookie(xm)&&(Ce("".concat(wm," - opt-out cookie found, storage disabled")),t=!0)),new Set(t?[]:e)}function ug(){var e=function(e,t){return Array.isArray(e)?e.reduce((function(e,t){return!t||Ue(t.name)||(t.storage&&!Ue(t.storage.type)&&!Ue(t.storage.name)&&sg.has(t.storage.type)||Pe(t.value)?e.push(t):t.storage||t.value||e.push(t)),e}),[]):[]}(Om);if(e.length){var t=km.filter((function(e){return!a(Tm,(function(t){return t.name===e.name}))}));Tm.splice(0,Tm.length),t.map((function(t){var n=a(e,(function(e){return e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())}));return n&&t.name!==n.name&&(n.name=t.name),t.findRootDomain=Ra,n?{submodule:t,config:n,callback:void 0,idObj:void 0}:null})).filter((function(e){return null!==e})).forEach((function(e){return Tm.push(e)})),!Am&&Tm.length&&(r().requestBids.before(Jm,40),Ni.callDataDeletionRequest.before(dg),ym.after((function(e){return e(Gm())})),Ce("".concat(wm," - usersync config updated for ").concat(Tm.length," submodules: "),Tm.map((function(e){return e.submodule.name}))),Am=!0)}}function dg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ce("UserID: received data deletion request; deleting all stored IDs..."),Tm.forEach((function(e){if("function"==typeof e.submodule.onDataDeletionRequest)try{var t;(t=e.submodule).onDataDeletionRequest.apply(t,[e.config,e.idObj].concat(n))}catch(t){xe("Error calling onDataDeletionRequest for ID submodule ".concat(e.submodule.name),t)}Bm(e)})),e.apply(this,n)}function lg(e){return function(){return Promise.resolve(e.apply(this,arguments))}}!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,i=void 0===n?L.timeout:n;hm=void 0,Tm=[],Om=[],Am=!1,pm=[],Wm=Vm({delay:i}),null!=vm&&vm(),km=[],vm=e.getConfig("userSync",(function(e){var t=e.userSync;hm=t.ppid,t&&t.userIds&&(Om=t.userIds,mm=Be(t.syncDelay)?t.syncDelay:500,gm=Be(t.auctionDelay)?t.auctionDelay:0,ug(),Wm({ready:!0}))})),r().getUserIds=$m,r().getUserIdsAsEids=Km,r().getEncryptedEidsForSource=lg(Qm),r().registerSignalSources=Zm,r().refreshUserIds=lg(eg),r().getUserIdsAsync=lg(tg),r().getUserIdsAsEidBySource=Xm}(T),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.postInstallAllowed,i=void 0!==r&&r;yn("async",(function(n){n.forEach((function(e){return t.apply(void 0,vn(e))})),i&&(Cn[e]=t)}),e)([])}("userId",(function(e){a(km,(function(t){return t.name===e.name}))||(km.push(e),si.register(jn,e.name,e.gvlid),ug(),Wm({refresh:!0,submoduleNames:[e.name]}))})),uc({type:tc,name:"userExtEids",fn:function(e,t,n){var r=h(n,"bidRequests.0.userIdAsEids");r&&Object.keys(r).length>0&&Mt(e,"user.ext.eids",r)}}),i("userId");var fg=Nn({moduleType:jn,moduleName:"pubCommonId"}),pg="cookie",mg="html5",gg="_pubcid_optout",hg="PublisherCommonId";function vg(e,t){if(t===pg)return fg.getCookie(e);if(t===mg&&fg.hasLocalStorage()){var n=fg.getDataFromLocalStorage("".concat(e,"_exp"));if(!n)return fg.getDataFromLocalStorage(e);if(new Date(n).getTime()-Date.now()>0)return fg.getDataFromLocalStorage(e)}}function bg(e,t){return function(n,r){t?yg(t,e,(function(){n(r()||e)}))():n(e)}}function yg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;if(e){var r=Bt(e);r.search.id=encodeURIComponent("pubcid:"+t);var i=Pt(r);return function(){Ge(i,n)}}}function wg(){return!!(fg.cookiesAreEnabled()&&vg(gg,pg)||fg.hasLocalStorage()&&vg(gg,mg))}var Ig={name:"sharedId",aliasName:"pubCommonId",gvlid:Xr,decode:function(e,t){if(!wg())return Ce(" Decoded value PubCommonId "+e),{pubcid:e};Ce("PubCommonId decode: Has opted-out")},getId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(wg())Ce("PubCommonId: Has opted-out");else{var n=Oi();if(!n){var r=e.params,i=(r=void 0===r?{}:r).create,o=void 0===i||i,a=r.pixelUrl,s=t;if(!s){try{"object"==typeof window[hg]&&(s=window[hg].getId())}catch(e){}s||(s=o&&mt()?me():void 0)}return{id:s,callback:bg(s,a)}}Ce("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId")}},extendId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(wg())return Ce("PubCommonId: Has opted-out"),{id:void 0};var n=Oi();if(n)Ce("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");else{var r=e.params,i=(r=void 0===r?{}:r).extend,o=void 0!==i&&i,a=r.pixelUrl;if(o){if(a){var s=yg(a,t);return{callback:s}}return{id:t}}}},domainOverride:function(e,t){return function(){for(var n,r,i=document.domain.split("."),o="_gd".concat(Date.now(),"_").concat(t),a=0;a<i.length;a++){var s=i.slice(a).join(".");if(e.setCookie(o,"1",void 0,void 0,s),r=e.getCookie(o),e.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,s),"1"!==r)return n;n=s}}}(fg,"sharedId")};function _g(e){return function(e){if(Array.isArray(e))return xg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Sg(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Sg(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sg(e,t){if(e){if("string"==typeof e)return xg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xg(e,t):void 0}}function xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Sn("userId",Ig),i("sharedIdSystem");var Eg=T.getConfig;function Ag(e,t){for(var n,r=0;r<e.length;r++)if(n=h(e[r],t))return n}function Tg(e){e.renderer.push((function(){window.Adform.renderOutstream(e)}))}Tr({code:"adf",aliases:[{code:"adformOpenRTB",gvlid:50},{code:"adform",gvlid:50}],gvlid:50,supportedMediaTypes:[$n,Xn,Kn],isBidRequestValid:function(e){var t=e.params||{},n=t.mid,r=t.inv,i=t.mname;return!!(n||r&&i)},buildRequests:function(e,t){var n,r,i=t.ortb2||{},o=i.user;"object"==typeof Eg("app")?(n=Eg("app")||{},i.app&&Ft(n,i.app)):(r=Eg("site")||{},i.site&&Ft(r,i.site),r.page||(r.page=t.refererInfo.page));var a=Eg("device")||{};a.w=a.w||window.innerWidth,a.h=a.h||window.innerHeight,a.ua=a.ua||navigator.userAgent;var s=Ag(e,"params.adxDomain")||"adx.adform.net",c=Ag(e,"params.pt")||Ag(e,"params.priceType")||"net",u=t.auctionId,d=Ag(e,"params.test"),l=Eg("currency.adServerCurrency"),f=l&&[l],p=Ag(e,"userIdAsEids"),m=Ag(e,"schain"),g=e.map((function(e,t){e.netRevenue=c;var n=e.getFloor?e.getFloor({currency:l||"USD"}):{},r=n.floor,i=n.currency,o=e.params,a={id:t+1,tagid:o.mid,bidfloor:r,bidfloorcur:i,ext:{bidder:{inv:o.inv,mname:o.mname}}};if(e.nativeOrtbRequest&&e.nativeOrtbRequest.assets){for(var s=e.nativeOrtbRequest.assets,u=[],d=0;d<s.length;d++){var f=ut(s[d]),p=f.img;if(p){var m=p.ext&&p.ext.aspectratios;if(m){var g=parseInt(m[0].split(":")[0],10),v=parseInt(m[0].split(":")[1],10);p.wmin=p.wmin||0,p.hmin=v*p.wmin/g|0}}u.push(f)}a.native={request:{assets:u}}}var b=h(e,"mediaTypes.banner");if(b&&b.sizes){var y=ve(b.sizes).map((function(e){var t=Cg(e.split("x"),2),n=t[0],r=t[1];return{w:parseInt(n,10),h:parseInt(r,10)}}));a.banner={format:y}}var w=h(e,"mediaTypes.video");return w&&(a.video=w),a})),v={id:t.auctionId,site:r,app:n,user:o,device:a,source:{tid:u,fd:1},ext:{pt:c},cur:f,imp:g};return d&&(v.is_debug=!!d,v.test=1),T.getConfig("coppa")&&Mt(v,"regs.coppa",1),void 0!==h(t,"gdprConsent.gdprApplies")&&(Mt(v,"user.ext.consent",t.gdprConsent.consentString),Mt(v,"regs.ext.gdpr",1&t.gdprConsent.gdprApplies)),t.uspConsent&&Mt(v,"regs.ext.us_privacy",t.uspConsent),p&&Mt(v,"user.ext.eids",p),m&&Mt(v,"source.ext.schain",m),{method:"POST",url:"https://"+s+"/adx/openrtb",data:JSON.stringify(v),bids:e}},interpretResponse:function(e,t){var n=t.bids;if(e.body){var r,i,o=e.body,a=o.seatbid,s=o.cur,c=(r=a.map((function(e){return e.bid})),(i=[]).concat.apply(i,_g(r))).reduce((function(e,t){return e[t.impid-1]=t,e}),[]);return n.map((function(e,t){var n=c[t];if(n){var r=h(n,"ext.prebid.type"),i={requestId:e.bidId,cpm:n.price,creativeId:n.crid,ttl:360,netRevenue:"net"===e.netRevenue,currency:s,mediaType:r,width:n.w,height:n.h,dealId:n.dealid,meta:{mediaType:r,advertiserDomains:n.adomain}};return n.native?i.native={ortb:n.native}:i[r===Kn?"vastXml":"ad"]=n.adm,e.renderer||r!==Kn||"outstream"!==h(e,"mediaTypes.video.context")||(i.renderer=ln.install({id:e.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js",adUnitCode:e.adUnitCode}),i.renderer.setRender(Tg)),i}})).filter(Boolean)}}}),i("adfBidAdapter");var Og="publinkId",kg=Nn({moduleType:jn,moduleName:Og});function jg(e){return/^[A-F0-9]+$/i.test(e)}function Rg(e,t){var n=Bt("https://proc.ad.cpe.dotomi.com/cvx/client/sync/publink");n.search={deh:e.e,mpn:"Prebid.js",mpv:"7.48.0"},t&&(n.search.gdpr=t.gdprApplies?1:0,n.search.gdpr_consent=t.consentString),e.site_id&&(n.search.sid=e.site_id),e.api_key&&(n.search.apikey=e.api_key);var r=Ai.getConsentData();return r&&"string"==typeof r&&(n.search.us_privacy=r),Pt(n)}function zg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return function(n){e.params&&e.params.e&&(jg(e.params.e)?en(Rg(e.params,t),(function(e,t){if(200===t.status){var r=JSON.parse(e);r&&n(r.publink)}}),void 0,{method:"GET",withCredentials:!0}):xe("params.e must be a hex string"))}}var Dg={name:Og,gvlid:24,decode:function(e){return{publinkId:e}},getId:function(e,t,n){var r=function(){var e;function t(e){var t;if(kg.hasLocalStorage()&&(t=kg.getDataFromLocalStorage(e)),t||(t=kg.getCookie(e)),"string"==typeof t){if("{"!==t.charAt(0))return t;try{var n=JSON.parse(t);if(n)return n.publink}catch(e){xe(e)}}}return(e=t("_publink_srv"))||(e=t("_publink")),e}();return r?{id:r}:n?void 0:{callback:zg(e,t)}}};Sn("userId",Dg),i("publinkIdSystem");var Bg,Pg,Ng,Fg,Ug,Mg,qg=!1,Lg={iab:function(e){var t=e.onSuccess,n=e.onError,r=e.onEvent;function i(e,i){Ce("Received a response from CMP",e),i?(r(e),!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||Vg(e,{onSuccess:t,onError:n})):n("CMP unable to register callback function.  Please check CMP setup.")}var a={},s=function(){for(var e,t,n=window;;){try{if("function"==typeof n.__tcfapi){t=n.__tcfapi,e=n;break}}catch(e){}try{if(n.frames.__tcfapiLocator){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{cmpFrame:e,cmpFunction:t}}(),c=s.cmpFrame,u=s.cmpFunction;if(!c)return n("TCF2 CMP not found.");"function"==typeof u?(Ce("Detected CMP API is directly accessible, calling it now..."),u("addEventListener",2,i)):(Ce("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),function(e,t,n){var r="__tcfapi",i="".concat(r,"Call");function s(e){var t="".concat(r,"Return"),n="string"==typeof e.data&&o(e.data,t)?JSON.parse(e.data):e.data;if(n[t]&&n[t].callId){var i=n[t];a.hasOwnProperty(i.callId)&&a[i.callId](i.returnValue,i.success)}}window[r]=function(e,n,r,o){var s,c,u,d=Math.random()+"",l=(u={command:e,version:n,parameter:o,callId:d},(c=i)in(s={})?Object.defineProperty(s,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[c]=u,s);a[d]=r,t.postMessage(l,"*")},window.addEventListener("message",s,!1),window[r](e,2,n)}("addEventListener",c,i))},static:function(e){var t=e.onSuccess,n=e.onError;Vg(Fg,{onSuccess:t,onError:n})}};function Wg(e){var t,n,r=!1,i=null,a=!1;function s(e){null!=i&&clearTimeout(i),r||null==e||(0===e?t():i=setTimeout(t,e))}function c(t,n,i){if(s(null),r=!0,Ei.setConsentData(t),"function"==typeof e){for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];e.apply(void 0,[n,i].concat(a))}}if(o(Object.keys(Lg),Bg)){var u={onSuccess:function(e){return c(e,!1)},onError:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];c.apply(void 0,[null,!0,e].concat(n))},onEvent:function(e){n=e,a||(a=!0,null!=Ug&&s(Ug))}};t=function(){var e=function(e){c(e,!1,"".concat(a?"Timeout waiting for user action on CMP":"CMP did not load",", continuing auction..."))};Vg(n,{onSuccess:e,onError:function(){return e(Gg(void 0))}})},Lg[Bg](u),null!=Ug&&a||s(Pg)}else c(null,!1,"CMP framework (".concat(Bg,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var Hg=Ir("gdpr",(function(e,t){var n;n=function(n,r){if(r){var i=Se;n&&(i=xe,r="".concat(r," Canceling auction as per consentManagement config."));for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];i.apply(void 0,[r].concat(a))}n?(e.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():xe("Error executing bidsBackHandler")):e.call(this,t)},Mg?(Ce("User consent information already known.  Pulling internally stored information..."),n(!1)):Wg(n)}));function Vg(e,t){var n,r,i=t.onSuccess,o=t.onError;n=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Ng,r=e&&e.tcString,"boolean"==typeof n&&(!0!==n||r&&ze(r))?i(Gg(e)):o("CMP returned unexpected value during lookup process.",e)}function Gg(e){return Mg={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Ng},e&&e.addtlConsent&&ze(e.addtlConsent)&&(Mg.addtlConsent=e.addtlConsent),Mg.apiVersion=2,Mg}T.getConfig("consentManagement",(function(e){return function(e){var t;(e=e&&(e.gdpr||e.usp||e.gpp?e.gdpr:e))&&"object"==typeof e?(ze(e.cmpApi)?Bg=e.cmpApi:(Bg="iab",Ce("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),Be(e.timeout)?Pg=e.timeout:(Pg=1e4,Ce("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),Ug=Be(e.actionTimeout)?e.actionTimeout:null,Ng=!0===e.defaultGdprScope,Ce("consentManagement module has been activated..."),"static"===Bg&&(Pe(e.consentData)?(null!=(null===(t=Fg=e.consentData)||void 0===t?void 0:t.getTCData)&&(Fg=Fg.getTCData),Pg=0):xe("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),qg||r().requestBids.before(Hg,50),qg=!0,Ei.enable(),Wg()):Se("consentManagement (gdpr) config not defined, exiting consent manager")}(e.consentManagement)})),Va.before((function(e,t){return e(t.then((function(e){var t=Ei.getConsentData();return t&&("boolean"==typeof t.gdprApplies&&Mt(e,"regs.ext.gdpr",t.gdprApplies?1:0),Mt(e,"user.ext.consent",t.consentString)),e})))})),uc({type:tc,name:"gdprAddtlConsent",fn:function(e,t){var n,r=null===(n=t.gdprConsent)||void 0===n?void 0:n.addtlConsent;r&&"string"==typeof r&&Mt(e,"user.ext.ConsentedProvidersSettings.consented_providers",r)}}),i("consentManagement");var Jg,$g,Kg="iab",Xg=Kg,Qg=50,Yg=!1,Zg={iab:function(e){var t,n=e.onSuccess,r=e.onError,i=(t={},{consentDataCallback:function(e,i){i&&e.uspString&&(t.usPrivacy=e.uspString),t.usPrivacy?nh(t,{onSuccess:n,onError:r}):r("Unable to get USP consent string.")}}),o={},a=function(){for(var e,t,n=window;;){try{if("function"==typeof n.__uspapi){t=n.__uspapi,e=n;break}}catch(e){}try{if(n.frames.__uspapiLocator){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{uspapiFrame:e,uspapiFunction:t}}(),s=a.uspapiFrame,c=a.uspapiFunction;if(!s)return r("USP CMP not found.");function u(e,t){try{e("registerDeletion",t,Ni.callDataDeletionRequest)}catch(e){xe("Error invoking CMP `registerDeletion`:",e)}}Re(c)?(Ce("Detected USP CMP is directly accessible, calling it now..."),c("getUSPData",1,i.consentDataCallback),u(c,1)):(Ce("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),l("getUSPData",s,i.consentDataCallback),u(l,s));var d=!1;function l(e,t,n){var r,i,a,s,c;d||(window.addEventListener("message",(function(e){var t=e&&e.data&&e.data.__uspapiReturn;t&&t.callId&&o.hasOwnProperty(t.callId)&&(o[t.callId](t.returnValue,t.success),delete o[t.callId])}),!1),d=!0),r=e,i=1,a=n,s=Math.random()+"",c={__uspapiCall:{command:r,version:i,callId:s}},o[s]=a,t.postMessage(c,"*")}},static:function(e){var t=e.onSuccess,n=e.onError;nh(Jg,{onSuccess:t,onError:n})}};function eh(e){var t=null,n=!1;function r(r,i){if(null!=t&&clearTimeout(t),n=!0,Ai.setConsentData(r),null!=e){for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];e.apply(void 0,[i].concat(a))}}if(Zg[Xg]){var i={onSuccess:r,onError:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.apply(void 0,[null,"".concat(e," Resuming auction without consent data as per consentManagement config.")].concat(n))}};Zg[Xg](i),n||(0===Qg?nh(void 0,i):t=setTimeout(i.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),Qg))}else r(null,"USP framework (".concat(Xg,") is not a supported framework. Aborting consentManagement module and resuming auction."))}var th=Ir("usp",(function(e,t){var n=this;Yg||rh(),eh((function(r){if(null!=r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];Se.apply(void 0,[r].concat(o))}e.call(n,t)}))}));function nh(e,t){var n=t.onSuccess,r=t.onError;e&&e.usPrivacy?(function(e){e&&e.usPrivacy&&($g=e.usPrivacy)}(e),n($g)):r("USPAPI returned unexpected value during lookup process.",e)}function rh(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Yg||(Ce("USPAPI consentManagement module has been activated".concat(e?"":" using default values (api: '".concat(Xg,"', timeout: ").concat(Qg,"ms)"))),Yg=!0,Ai.enable()),eh()}T.getConfig("consentManagement",(function(e){return function(e){(e=e&&e.usp)&&"object"==typeof e||Se("consentManagement.usp config not defined, using defaults"),e&&ze(e.cmpApi)?Xg=e.cmpApi:(Xg=Kg,Ce("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat(Kg,")."))),e&&Be(e.timeout)?Qg=e.timeout:(Qg=50,Ce("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),"static"===Xg&&(Pe(e.consentData)&&Pe(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(Jg={usPrivacy:e.consentData.getUSPData.uspString}),Qg=0):xe("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),rh(!0)}(e.consentManagement)})),_n("requestBids").before(th,50),Va.before((function(e,t){return e(t.then((function(e){var t=Ai.getConsentData();return t&&Mt(e,"regs.ext.us_privacy",t),e})))})),i("consentManagementUsp");var ih=["modelGroups"];function oh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ah.apply(this,arguments)}function sh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ch(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sh(Object(n),!0).forEach((function(t){uh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dh,lh="Price Floors",fh=tn(1e4),ph=["gptSlot","adUnitCode","size","domain","mediaType"],mh=!1,gh=!1,hh={},vh=[],bh={};function yh(e,t){return Math.ceil((parseFloat(e)*Math.pow(10,t)).toFixed(1))/Math.pow(10,t)}function wh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?yo.index:r;return(null==e?void 0:e.adUnitCode)||i.getAdUnit(t).code}var Ih={size:function(e,t){return be(t.size)||"*"},mediaType:function(e,t){return t.mediaType||"banner"},gptSlot:function(e,t){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=(void 0===t?yo.index:t).getAdUnit({transactionId:e});return"gam"===h(n,"ortb2Imp.ext.data.adserver.name")&&n.ortb2Imp.ext.data.adserver.adslot}((e||t).transactionId)||Ct(wh(e,t)).gptSlot},domain:function(){return null==dh&&(dh=Bt(Wr().topmostLocation,{noDecodeWholeURL:!0}).hostname),dh},adUnitCode:function(e,t){return wh(e,t)}};function _h(e,t,n){return e.reduce((function(e,r){var i=Ih[r](t,n)||"*";return e.push("*"===i?["*"]:[i.toLowerCase(),"*"]),e}),[])}function Ch(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=_h(h(e,"schema.fields")||[],t,n);if(!r.length)return{matchingFloor:e.default};var i=r.map((function(e){return e[0]})).join("-"),o=h(e,"matchingInputs.".concat(i));if(o)return ch({},o);var s=Sh(r,h(e,"schema.delimiter")||"|"),c=a(s,(function(t){return e.values.hasOwnProperty(t)})),u={floorMin:e.floorMin||0,floorRuleValue:isNaN(e.values[c])?e.default:e.values[c],matchingData:s[0],matchingRule:c};return"number"==typeof h(t,"ortb2Imp.ext.prebid.floorMin")&&(u.floorMin=t.ortb2Imp.ext.prebid.floorMin),u.matchingFloor=Math.max(u.floorMin,u.floorRuleValue),Mt(e,"matchingInputs.".concat(i),ch({},u)),u}function Sh(e,t){return e.reduce((function(e,n){var r=[];return e.map((function(e){n.map((function(n){r.push(e+t+n)}))})),r})).sort((function(e,t){return e.split("*").length-t.split("*").length}))}function xh(e,t,n){return parseFloat(Ui(e,ch(ch({},t),{},{cpm:e}),n))}function Eh(e,t){var n=Math.pow(10,10);return e*n/(t*n)*(e*n)/n}var Ah={banner:function(e){return h(e,"mediaTypes.banner.sizes")||[]},video:function(e){return h(e,"mediaTypes.video.playerSize")||[]},native:function(e){return h(e,"mediaTypes.native.image.sizes")?[h(e,"mediaTypes.native.image.sizes")]:[]}};function Th(e,t){var n=Object.keys(e.mediaTypes||{});return"*"===t.mediaType&&1===n.length&&(t.mediaType=n[0]),"*"===t.size&&-1!==n.indexOf(t.mediaType)&&Ah[t.mediaType]&&1===Ah[t.mediaType](e).length&&(t.size=Ah[t.mediaType](e)[0]),t}function Oh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},t=this,n=bh[t.auctionId];if(!n||n.skipped)return{};e=Th(t,e);var i=Ch(n.data,ch({},t),{mediaType:e.mediaType,size:e.size}),o=e.currency||n.data.currency;if(i.matchingFloor&&o!==n.data.currency)try{i.matchingFloor=r().convertCurrency(i.matchingFloor,n.data.currency,o)}catch(e){Se("".concat(lh,": Unable to get currency conversion for getFloor for bidder ").concat(t.bidder,". You must have currency module enabled with defaultRates in your currency config")),o=n.data.currency}if(n.enforcement.bidAdjustment&&i.matchingFloor){var a=On.get(t.bidder,"inverseBidAdjustment");if(a)i.matchingFloor=a(i.matchingFloor,t);else{var s=xh(i.matchingFloor,null,t);i.matchingFloor=s?Eh(i.matchingFloor,s):i.matchingFloor}}return i.matchingFloor?{floor:yh(i.matchingFloor,4),currency:o}:{}}function kh(e,t){var n=ut(e);return n.schema.delimiter=e.schema.delimiter||"|",n.values=function(e,t){var n=e.schema.fields,r=e.schema.delimiter,i=t&&-1===n.indexOf("adUnitCode")&&n.unshift("adUnitCode");return Object.keys(e.values).reduce((function(n,o){return n[(i?"".concat(t).concat(r).concat(o):o).toLowerCase()]=e.values[o],n}),{})}(n,t),n.currency=n.currency||"USD",n}function jh(e,t){var n=ut(hh);if(2===h(n,"data.floorsSchemaVersion")){var r=n.data,i=r.modelGroups,o=oh(r,ih);n.data=ah(o,function(e,t){for(var n=Math.floor(Math.random()*t+1),r=0;r<e.length;r++)if((n-=e[r].modelWeight)<=0)return e[r]}(i,o.modelWeightSum))}var a=0===Object.keys(h(n,"data.values")||{}).length;if(n.data=a?function(e){return e.reduce((function(e,t){if(Bh(t.floors))if(e.values){var n=kh(t.floors,t.code).values;ah(e.values,n)}else(e=kh(t.floors,t.code)).location="adUnit";else null!=t.floors&&Se("adUnit '".concat(t.code,"' provides an invalid `floor` definition, it will be ignored for floor calculations"),t);return e}),{})}(e):kh(n.data),0===Object.keys(h(n,"data.values")||{}).length)n.skipped=!0;else{var s=ke("pbjs_skipRate")||n.skipRate,c=100*Math.random()<parseFloat(s);n.skipped=c}return n.hasOwnProperty("floorMin")&&(n.data.floorMin=n.floorMin),function(e,t,n){e.forEach((function(e){e.bids.forEach((function(e){t.skipped?delete e.getFloor:e.getFloor=Oh,e.auctionId=n,e.floorData={skipped:t.skipped,skipRate:t.skipRate,floorMin:t.floorMin,modelVersion:h(t,"data.modelVersion"),modelWeight:h(t,"data.modelWeight"),modelTimestamp:h(t,"data.modelTimestamp"),location:h(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:hh.fetchStatus}}))}))}(e,n,t),n}function Rh(e){e.hasExited||(vh=vh.filter((function(t){return t.timer!==e.timer})),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||me(),bh[e.reqBidsConfigObj.auctionId]=jh(e.reqBidsConfigObj.adUnits||r().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function zh(e){return t=h(e,"schema.fields"),!!(Array.isArray(t)&&t.length>0&&t.every((function(e){return-1!==ph.indexOf(e)}))||(xe("".concat(lh,": Fields recieved do not match allowed fields")),0))&&(n=e,r=e.schema.fields.length,i=e.schema.delimiter||"|","object"==typeof n.values&&(n.values=Object.keys(n.values).reduce((function(e,t){return function(e,t,n,r){return"string"==typeof e&&e.split(r).length===n&&"number"==typeof t}(t,n.values[t],r,i)&&(e[t]=n.values[t]),e}),{}),Object.keys(n.values).length>0));var t,n,r,i}var Dh={1:function(e){return zh(e)},2:function(e){return!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((function(t){return!("number"!=typeof t.modelWeight||!zh(t)||(e.modelWeightSum+=t.modelWeight,0))})))}};function Bh(e){return"object"==typeof e&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof Dh[e.floorsSchemaVersion]?(xe("".concat(lh,": Unknown floorsSchemaVersion: "),e.floorsSchemaVersion),!1):Dh[e.floorsSchemaVersion](e))}function Ph(e,t){if(e&&"object"==typeof e&&Bh(e))return Ce("".concat(lh,": A ").concat(t," set the auction floor data set to "),e),ch(ch({},e),{},{location:t});xe("".concat(lh,": The floors data did not contain correct values"),e)}var Nh=Ir("priceFloors",(function(e,t){var n={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};hh.auctionDelay>0&&mh?(n.timer=setTimeout((function(){Se("".concat(lh,": Fetch attempt did not return in time for auction")),hh.fetchStatus="timeout",Rh(n)}),hh.auctionDelay),vh.push(n)):Rh(n)}));function Fh(){vh.forEach((function(e){clearTimeout(e.timer),Rh(e)})),vh=[]}function Uh(e){var t;mh=!1,hh.fetchStatus="success";try{t=JSON.parse(e)}catch(n){t=e}var n=Ph(t,"fetch");n&&(hh.data=n,hh.skipRate=Be(n.skipRate)?n.skipRate:hh.skipRate,hh.floorProvider=n.floorProvider||hh.floorProvider),Fh()}function Mh(e){mh=!1,hh.fetchStatus="error",xe("".concat(lh,": Fetch errored with: "),e),Fh()}function qh(e){var t;hh=At(e,["floorMin","enabled",function(e){return!1!==e},"auctionDelay",function(e){return e||0},"floorProvider",function(t){return h(e,"data.floorProvider",t)},"endpoint",function(e){return e||{}},"skipRate",function(){return isNaN(h(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate},"enforcement",function(e){return At(e||{},["enforceJS",function(e){return!1!==e},"enforcePBS",function(e){return!0===e},"floorDeals",function(e){return!0===e},"bidAdjustment",function(e){return!1!==e}])},"additionalSchemaFields",function(e){return"object"==typeof e&&Object.keys(e).length>0?(t=e,void Object.keys(t).forEach((function(e){-1===ph.indexOf(e)&&"function"==typeof t[e]&&(ph.push(e),Ih[e]=t[e])}))):void 0;var t},"data",function(e){return e&&Ph(e,"setConfig")||hh.data}]),hh.enabled?((t=hh.endpoint).url&&!mh?"GET"!==(t.method||"GET")?xe("".concat(lh,": 'GET' is the only request method supported at this time!")):(fh(t.url,{success:Uh,error:Mh},null,{method:"GET"}),mh=!0):mh&&Se("".concat(lh,": A fetch is already occuring. Skipping.")),gh||(Kt(v.FP.AUCTION_END,(function(e){setTimeout((function(){return delete bh[e.auctionId]}),3e3)})),r().requestBids.before(Nh,50),_n("addBidResponse").before(Lh,Te()?4:50),gh=!0)):(Ce("".concat(lh,": Turning off module")),hh={},bh={},_n("addBidResponse").getHooks({hook:Lh}).remove(),r().requestBids.getHooks({hook:Nh}).remove(),gh=!1)}var Lh=_r("priceFloors",(function(e,t,n,i){var o=bh[n.auctionId];if(!o||!n||o.skipped)return e.call(this,t,n,i);var a,s=yo.index.getBidRequest(n),c=Ch(o.data,s,ch(ch({},n),{},{size:[n.width,n.height]}));if(!c.matchingFloor)return Se("".concat(lh,": unable to determine a matching price floor for bidResponse"),n),e.call(this,t,n,i);var u=o.data.currency.toUpperCase(),d=n.currency||"USD";if(u===d.toUpperCase())a=n.cpm;else if(n.originalCurrency&&u===n.originalCurrency.toUpperCase())a=n.originalCpm;else try{a=r().convertCurrency(n.cpm,d.toUpperCase(),u)}catch(r){return xe("".concat(lh,": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(n)),e.call(this,t,n,i)}if(function(e,t,n,r){n.floorData={floorValue:t.matchingFloor,floorRule:t.matchingRule,floorRuleValue:t.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:r,enforcements:ch({},e.enforcement),matchedFields:{}},e.data.schema.fields.forEach((function(r,i){var o=t.matchingData.split(e.data.schema.delimiter)[i];n.floorData.matchedFields[r]=o}))}(o,c,n,a=xh(a,n,s)),function(e,t,n){var r=!1!==h(e,"enforcement.enforceJS"),i=!0===h(e,"enforcement.floorDeals")||!n.dealId,o=n.floorData.cpmAfterAdjustments<t.matchingFloor;return r&&o&&i}(o,c,n)){var l,f=i(v.Gw.pe);return Se("".concat(lh,": ").concat(f.bidderCode,"'s Bid Response for ").concat(t," was rejected due to floor not met (adjusted cpm: ").concat(null==n||null===(l=n.floorData)||void 0===l?void 0:l.cpmAfterAdjustments,", floor: ").concat(null==c?void 0:c.matchingFloor,")"),n),e.call(this,t,f,i)}return e.call(this,t,n,i)}));T.getConfig("floors",(function(e){return qh(e.floors)})),uc({type:nc,name:"bidfloor",fn:function(e,t,n){if("function"==typeof t.getFloor){var r,i;try{var o=t.getFloor({currency:n.currency||T.getConfig("currency.adServerCurrency")||"USD",mediaType:n.mediaType||"*",size:"*"});r=o.currency,i=o.floor}catch(e){return void Se("Cannot compute floor for bid",t)}i=parseFloat(i),null==r||null==i||isNaN(i)||ah(e,{bidfloor:i,bidfloorcur:r})}}}),uc({type:nc,name:"extPrebidFloors",fn:function(e,t,n){if(null!=e.bidfloor){var r,i,o,a,s,c,u,d,l,f,p=n.reqContext.floorMin||{},m=p.floorMinCur,g=p.floorMin;null==m&&(m=e.bidfloorcur);var h=(null===(r=e.ext)||void 0===r||null===(i=r.prebid)||void 0===i||null===(o=i.floors)||void 0===o?void 0:o.floorMinCur)||(null===(a=e.ext)||void 0===a||null===(s=a.prebid)||void 0===s?void 0:s.floorMinCur)||m,v=(null===(c=e.ext)||void 0===c||null===(u=c.prebid)||void 0===u||null===(d=u.floors)||void 0===d?void 0:d.floorMin)||(null===(l=e.ext)||void 0===l||null===(f=l.prebid)||void 0===f?void 0:f.floorMin),b=rp(e.bidfloor,e.bidfloorcur,m),y=!(!v||!h)&&rp(v,h,m),w=y&&y<b?y:b;Mt(e,"ext.prebid.floors.floorMin",w),(null==g||g>w)&&(g=w),n.reqContext.floorMin={floorMin:g,floorMinCur:m}}},dialects:[ac],priority:-1}),uc({type:tc,name:"extPrebidFloors",fn:function(e,t,n){var r,i,o;gh&&Mt(e,"ext.prebid.floors.enabled",(null===(r=e.ext)||void 0===r||null===(i=r.prebid)||void 0===i||null===(o=i.floors)||void 0===o?void 0:o.enabled)||!1),null!=n&&n.floorMin&&Ft(e,{ext:{prebid:{floors:n.floorMin}}})},dialects:[ac]}),i("priceFloors");var Wh="Invalid schain object found: ",Hh=" should be a string",Vh=" should be an Integer",Gh=" should be an object",Jh={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},$h=[];function Kh(e,t){var n=Jh.STRICT;if(function(e){return!(void 0===e||!Pe(e)&&(xe(Wh+"the following schain config will not be used as schain is not an object.",e),1))}(e)){if(ze(e.validation)&&-1!=$h.indexOf(e.validation)&&(n=e.validation),n===Jh.OFF)return e.config;if(function(e,t){var n="Detected something wrong within an schain config:",r="";function i(e){r+="\n"+e}function o(){!0===t?xe(n,e,r):Se(n,e,r)}if(!Pe(e)&&(i("schain.config"+Gh),o(),t))return!1;if(Be(e.complete)&&xt(e.complete)||i("schain.config.complete"+Vh),ze(e.ver)||i("schain.config.ver"+Hh),We(e,"ext")&&(Pe(e.ext)||i("schain.config.ext"+Gh)),De(e.nodes))e.nodes.forEach((function(e,t){ze(e.asi)||i("schain.config.nodes[".concat(t,"].asi")+Hh),ze(e.sid)||i("schain.config.nodes[".concat(t,"].sid")+Hh),Be(e.hp)&&xt(e.hp)||i("schain.config.nodes[".concat(t,"].hp")+Vh),We(e,"rid")&&(ze(e.rid)||i("schain.config.nodes[".concat(t,"].rid")+Hh)),We(e,"name")&&(ze(e.name)||i("schain.config.nodes[".concat(t,"].name")+Hh)),We(e,"domain")&&(ze(e.domain)||i("schain.config.nodes[".concat(t,"].domain")+Hh)),We(e,"ext")&&(Pe(e.ext)||i("schain.config.nodes[".concat(t,"].ext")+Gh))}));else if(i("schain.config.nodes should be an Array"),o(),t)return!1;return!(r.length>0&&(o(),t))}(e.config,!(n!==Jh.STRICT)))return e.config;xe(Wh+"due to the 'strict' validation setting, this schain config will not be passed to bidder '".concat(t,"'.  See above error for details."))}return null}function Xh(e,t){var n=T.getConfig("schain"),r=T.getBidderConfig();t.forEach((function(e){var t=e.bidderCode,i=function(e){return r[e]&&r[e].schain||n}(t);e.bids.forEach((function(e){var n=Kh(i,t);n&&(e.schain=n)}))})),e(t)}Me(Jh,(function(e){return $h.push(e)})),Ni.makeBidRequests.after(Xh),uc({type:tc,name:"sourceExtSchain",fn:function(e,t,n){if(!h(e,"source.ext.schain")){var r=h(n,"bidRequests.0.schain");r&&Mt(e,"source.ext.schain",r)}}}),i("schain");try{ks.processQueue()}catch(e){window.zamaf.cmd.push((function(){window.zamaf.trackException(e)}))}}()}(),function(){var e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}var c=a,u=s;function d(e){if(c===setTimeout)return setTimeout(e,0);if((c===a||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}"function"==typeof e.setTimeout&&(c=setTimeout),"function"==typeof e.clearTimeout&&(u=clearTimeout);var l,f=[],p=!1,m=-1;function g(){p&&l&&(p=!1,l.length?f=l.concat(f):m=-1,f.length&&h())}function h(){if(!p){var e=d(g);p=!0;for(var t=f.length;t;){for(l=f,f=[];++m<t;)l&&l[m].run();m=-1,t=f.length}l=null,p=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===s||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function b(){}v.prototype.run=function(){this.fun.apply(null,this.array)};var y,w,I=b,_=b,C=b,S=b,x=b,E=b,A=b,T=e.performance||{},O=T.now||T.mozNow||T.msNow||T.oNow||T.webkitNow||function(){return(new Date).getTime()},k=new Date,j={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new v(e,t)),1!==f.length||p||d(h)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:I,addListener:_,once:C,off:S,removeListener:x,removeAllListeners:E,emit:A,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*O.call(T),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-k)/1e3}},R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},z={exports:{}};function D(){if(w)return y;w=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return y=function(s,c){c=c||{};var u=typeof s;if("string"===u&&s.length>0)return function(a){if(!((a=String(a)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(s){var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(s);if("number"===u&&isFinite(s))return c.long?function(i){var o=Math.abs(i);return o>=r?a(i,o,r,"day"):o>=n?a(i,o,n,"hour"):o>=t?a(i,o,t,"minute"):o>=e?a(i,o,e,"second"):i+" ms"}(s):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}var B,P,N=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n);var d=o.log||t.log;d.apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(o(t.names.map(r)),o(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=D(),t.destroy=function(){},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};function F(e){var t=this;if(!e.getAdUnitPath)return"unknown slot";var n,r={};return(e&&e.getTargetingKeys&&e.getTargetingKeys()||[]).forEach((function(n){r[n]=e.getTargeting(n),0===r[n].length&&t.error(e.getSlotElementId(),"key",n,"is empty!")})),{targeting:r,adUnitPath:e.getAdUnitPath(),slotElementId:e.getSlotElementId(),slotId:e.getSlotId().toString(),sizes:(n=e.getSizes(),"fluid"===n[0]?n[0]:n.filter((function(e){return"fluid"!=e})).map((function(e){return e.getWidth?[e.getWidth(),e.getHeight()]:[0,0]}))),_slot:e}}B=z,(P=z.exports).formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+B.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),e.splice(r,0,t)}},P.save=function(e){try{e?P.storage.setItem("debug",e):P.storage.removeItem("debug")}catch(e){}},P.load=function(){var e;try{e=P.storage.getItem("debug")}catch(e){}return!e&&void 0!==j&&"env"in j&&(e=j.env.DEBUG),e},P.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},P.storage=function(){try{return localStorage}catch(e){}}(),P.destroy=function(){},P.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],P.log=console.debug||console.log||function(){},B.exports=N(P),B.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};class U{constructor(e){this.namespace=e}log(){}error(){}warn(){}_slots(){}slots(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"slots",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t;void 0!==t&&(n=[]),n=Array.isArray(t)?t:[t],this._slots(e,n.filter((function(e){return!!e})).map(F.bind(this)))}}function M(e){return new U(e)}var q=M("utils");function L(){var e,t;q.slots("googletag.pubads refresh",arguments.length<=0?void 0:arguments[0]),googletag.pubads().refreshOrig?(e=googletag.pubads()).refreshOrig.apply(e,arguments):(t=googletag.pubads()).refresh.apply(t,arguments)}var W="zaf:bids:done",H="pbjs:auctionEnd",V="pbjs:bidRequested",G=["pbjs:auctionInit",H,"pbjs:bidAdjustment","pbjs:bidTimeout",V,"pbjs:bidResponse","pbjs:bidWon","pbjs:setTargeting","pbjs:requestBids","pbjs:addAdUnits","pbjs:adRenderFailed","pbjs:bidderDone"],J="adUnitCodes",$="bidderCodes",K="bidTimeoutCount",X="bidCount",Q="adserverTargeting",Y="elementIds",Z="args";function ee(e,t,n){if("video"===t.type){var i=e.video?Object.keys(e.video):[];i&&i.forEach((function(t){e.video[t]||delete e.video[t]})),e.video.mimes&&!Array.isArray(e.video.mimes)&&(e.video.mimes=e.video.mimes.split(",").map((function(e){return e.trim()}))),e.video.api&&!Array.isArray(e.video.api)&&(e.video.api=e.video.api.split(",").map((function(e){return parseInt(e.trim())}))),e.video.protocols&&!Array.isArray(e.video.protocols)&&(e.video.protocols=e.video.protocols.split(",").map((function(e){return parseInt(e.trim())}))),e.video.playbackmethod&&!Array.isArray(e.video.playbackmethod)&&(e.video.playbackmethod=e.video.playbackmethod.split(",").map((function(e){return parseInt(e.trim())}))),n.params.video=r({},t.mediaOptions,e.video),e.video.size&&(n.params.video.w=e.video.size[0],n.params.video.h=e.video.size[1],n.params.video.playerSize=e.video.size)}}function te(e,t){if(!e||!t)return[];var n=[];function i(e){e&&e.length&&[].push.apply(n,e)}return Object.keys(t).forEach((function(o){var a,s=e.bidderParams[o],c=t[o];switch(o){case"sovrn":i(function(e,t,n){if(!e.tagid)return[];var r=e.tagid.split(",");return n&&n.server&&(e.bidfloor=parseFloat(e.bidfloor)),r.map((function(t){return{bidder:"sovrn",params:{tagid:t,bidfloor:e.bidfloor}}}))}(s,0,c));break;case"aol":i((a=s).placement?a.placement.split(",").map((function(e){return{bidder:"aol",params:{placement:e,network:a.network,bidFloor:a.bidFloor}}})):[]);break;case"onemobile":i(function(e,t,n){if(!e.dcn||!e.pos)return[];var r=e.pos.split(",");return(r=r.filter((function(e){var n=e.trim().split("_"),r=n[n.length-1];return!!t.sizes.find((function(e){return r===e.join("x")}))}))).map((function(t){return{bidder:"onemobile",params:{dcn:e.dcn.trim(),pos:t.trim()}}}))}(s,e));break;case"ix":i(function(e,t,n){if(!e.siteId||!e.size)return[];var r=e.siteId.split(","),i=e.size.split(",");return r.length!==i.length?[]:(i=i.filter((function(e,n){var i=t.sizes.find((function(t){return e===t.join("x")}));return i||r.splice(n,1),!!i})),r.length&&i.length&&i.length===r.length?r.map((function(n,r){var o,a=i[r].split("x");a&&2==a.length&&(o=[parseInt(a[0]),parseInt(a[1])]);var s={bidder:"ix",params:{siteId:n,size:o}};return e.bidFloor&&(s.params.bidFloor=e.bidFloor,s.params.bidFloorCur=e.bidFloorCur||"USD"),ee(e,t,s),s})):[])}(s,e));break;case"rubicon":i(function(e,t,n){if(!e.accountId||!e.siteId||!e.zoneId)return[];if(null!=e.sizes){var r=[];e.sizes.toString().split(",").forEach((function(e){var t=parseInt(e);isNaN(t)||r.push(t)})),delete e.sizes,e.sizes=r}return e.video&&e.video.size&&(e.playerWidth=e.video.size[0],e.playerHeight=e.video.size[1]),[{bidder:"rubicon",params:e}]}(s));break;case"pubmatic":i(function(e,t,n){if(!e.adSlot||!e.publisherId)return[];var r=e.adSlot.split(",");return(r=r.filter((function(e){var n=e.trim().split("@"),r=n[n.length-1];return!!t.sizes.find((function(e){return r===e.join("x")}))}))).map((function(n){var r={bidder:"pubmatic",params:{adSlot:n,publisherId:e.publisherId,kadfloor:e.kadfloor}};return ee(e,t,r),r}))}(s,e));break;case"appnexus":i(function(e,t,n){return e.placementId?e.placementId.split(",").map((function(n){var i={bidder:"appnexus",params:{placementId:n,reserve:e.reserve,usePaymentRule:!0}};if("video"===t.type){var o=e.video?Object.keys(e.video):[];o&&o.forEach((function(t){e.video[t]||delete e.video[t]})),e.video.mimes&&!Array.isArray(e.video.mimes)&&(e.video.mimes=e.video.mimes.split(",").map((function(e){return e.trim()}))),e.video.playback_method&&!Array.isArray(e.video.playback_method)&&(e.video.playback_method=e.video.playback_method.split(",").map((function(e){return e.trim()}))),i.params.video=r({},t.mediaOptions,e.video),e.video.size&&(i.params.video.w=e.video.size[0],i.params.video.h=e.video.size[1]),e.video.size&&(i.params.video.playerSize=e.video.size),i.params.video.frameworks=i.params.video.api}return i})):[]}(s,e));break;case"consumable":i(function(e,t,n){if(!(e.networkId&&e.siteId&&e.unitId&&e.unitName))return[];var r=e.unitId.split(","),i=e.unitName.split(","),o=e.zoneIds.split(",");return r.length!==i.length||r.length!==o.length?[]:r.map((function(t,n){return{bidder:"consumable",params:{networkId:e.networkId?parseInt(e.networkId):void 0,siteId:e.networkId?parseInt(e.siteId):void 0,unitId:r[n]?parseInt(r[n]):void 0,unitName:i[n],zoneIds:[o[n]]}}}))}(s));break;case"brightcom":i(function(e,t,n){return e.publisherId?[{bidder:"brightcom",params:e}]:[]}(s));break;case"districtm":i(function(e,t,n){return e.placementId?(e.usePaymentRule=!0,[{bidder:"districtm",params:e}]):[]}(s));break;case"rhythmone":i(function(e,t,n){return e.placementId?[{bidder:"rhythmone",params:e}]:[]}(s));break;case"justpremium":i(function(e,t,n){return e.zone?(e.allow&&(e.allow=e.allow.split(",").map((function(e){return e?e.trim():""}))),e.exclude&&(e.exclude=e.exclude.split(",").map((function(e){return e?e.trim():""}))),[{bidder:"justpremium",params:e}]):[]}(s));break;case"conversant":i(function(e,t,n){var i={bidder:"conversant",params:e};if("video"===t.type){var o=e.video?Object.keys(e.video):[];o&&o.forEach((function(t){e.video[t]||delete e.video[t],e.video.mimes&&!Array.isArray(e.video.mimes)&&(e.video.mimes=e.video.mimes.split(",").map((function(e){return e.trim()}))),e.video.api&&!Array.isArray(e.video.api)&&(e.video.api=e.video.api.split(",").map((function(e){return parseInt(e.trim())}))),e.video.protocols&&!Array.isArray(e.video.protocols)&&(e.video.protocols=e.video.protocols.split(",").map((function(e){return parseInt(e.trim())})))})),i.params=r(i.params,t.mediaOptions,e.video),i.params.video&&delete i.params.video}return[i]}(s,e));break;case"pulsepoint":i(function(e,t,n){if(!e.cp||!e.cf||!e.ct)return[];var r=e.cf.split(","),i=e.ct.split(",");return r.length!==i.length?[]:r.map((function(t,n){return{bidder:"pulsepoint",params:{cp:e.cp,cf:t.trim(),ct:parseInt(i[n].trim()),bidfloor:e.bidfloor}}}))}(s));break;default:n.push({bidder:o,params:r({},s)})}})),n}function ne(){return window.__definedSlots=window.__definedSlots||{}}var re=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function ie(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&require("lie/polyfill");var oe=Promise;function ae(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function se(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function ce(e){return"string"!=typeof e&&(e=String(e)),e}function ue(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var de,le="local-forage-detect-blob-support",fe={},pe=Object.prototype.toString,me="readonly",ge="readwrite";function he(e){return"boolean"==typeof de?oe.resolve(de):function(e){return new oe((function(t){var n=e.transaction(le,ge),r=ie([""]);n.objectStore(le).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return de=e}))}function ve(e){var t=fe[e.name],n={};n.promise=new oe((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function be(e){var t=fe[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function ye(e,t){var n=fe[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function we(e,t){return new oe((function(n,r){if(fe[e.name]=fe[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);ve(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=re.open.apply(re,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(le)}catch(e){if("ConstraintError"!==e.name)throw e}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),be(e)}}))}function Ie(e){return we(e,!1)}function _e(e){return we(e,!0)}function Ce(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function Se(e){var t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data));return ie([t],{type:e.type})}function xe(e){return e&&e.__local_forage_encoded_blob}function Ee(e){var t=this,n=t._initReady().then((function(){var e=fe[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return se(n,e,e),n}function Ae(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return oe.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),_e(e)})).then((function(){return function(e){ve(e);for(var t=fe[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,Ie(e).then((function(t){return e.db=t,Ce(e)?_e(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw ye(e,t),t}))}(e).then((function(){Ae(e,t,n,r-1)}))})).catch(n);n(i)}}var Te={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=fe[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},fe[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=Ee);var o=[];function a(){return oe.resolve()}for(var s=0;s<i.forages.length;s++){var c=i.forages[s];c!==t&&o.push(c._initReady().catch(a))}var u=i.forages.slice(0);return oe.all(o).then((function(){return n.db=i.db,Ie(n)})).then((function(e){return n.db=e,Ce(n,t._defaultConfig.version)?_e(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var o=u[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!re||!re.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new oe((function(t,r){n.ready().then((function(){Ae(n._dbInfo,me,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;xe(r)&&(r=Se(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},getItem:function(e,t){var n=this;e=ce(e);var r=new oe((function(t,r){n.ready().then((function(){Ae(n._dbInfo,me,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),xe(e)&&(e=Se(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},setItem:function(e,t,n){var r=this;e=ce(e);var i=new oe((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===pe.call(t)?he(o.db).then((function(e){return e?t:(n=t,new oe((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){Ae(r._dbInfo,ge,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return ae(i,n),i},removeItem:function(e,t){var n=this;e=ce(e);var r=new oe((function(t,r){n.ready().then((function(){Ae(n._dbInfo,ge,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},clear:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){Ae(t._dbInfo,ge,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return ae(n,e),n},length:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){Ae(t._dbInfo,me,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return ae(n,e),n},key:function(e,t){var n=this,r=new oe((function(t,r){e<0?t(null):n.ready().then((function(){Ae(n._dbInfo,me,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},keys:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){Ae(t._dbInfo,me,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return ae(n,e),n},dropInstance:function(e,t){t=ue.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;if(e.name){var o=e.name===n.name&&i._dbInfo.db,a=o?oe.resolve(i._dbInfo.db):Ie(e).then((function(t){var n=fe[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));r=e.storeName?a.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;ve(e);var r=fe[e.name],i=r.forages;t.close();for(var o=0;o<i.length;o++){var a=i[o];a._dbInfo.db=null,a._dbInfo.version=n}var s=new oe((function(t,r){var i=re.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}));return s.then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,be(n._dbInfo)}})).catch((function(t){throw(ye(e,t)||oe.resolve()).catch((function(){})),t}))}})):a.then((function(t){ve(e);var n=fe[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;var o=new oe((function(t,n){var r=re.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return o.then((function(e){n.db=e;for(var t=0;t<r.length;t++)be(r[t]._dbInfo)})).catch((function(t){throw(ye(e,t)||oe.resolve()).catch((function(){})),t}))}))}else r=oe.reject("Invalid arguments");return ae(r,t),r}},Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ke=/^~~local_forage_type~([^~]+)~/,je="__lfsc__:",Re=je.length,ze="arbf",De="blob",Be="si08",Pe="ui08",Ne="uic8",Fe="si16",Ue="si32",Me="ur16",qe="ui32",Le="fl32",We="fl64",He=Re+ze.length,Ve=Object.prototype.toString;function Ge(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<s;t+=4)n=Oe.indexOf(e[t]),r=Oe.indexOf(e[t+1]),i=Oe.indexOf(e[t+2]),o=Oe.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|i>>2,d[c++]=(3&i)<<6|63&o;return u}function Je(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=Oe[n[t]>>2],r+=Oe[(3&n[t])<<4|n[t+1]>>4],r+=Oe[(15&n[t+1])<<2|n[t+2]>>6],r+=Oe[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var $e={serialize:function(e,t){var n="";if(e&&(n=Ve.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Ve.call(e.buffer))){var r,i=je;e instanceof ArrayBuffer?(r=e,i+=ze):(r=e.buffer,"[object Int8Array]"===n?i+=Be:"[object Uint8Array]"===n?i+=Pe:"[object Uint8ClampedArray]"===n?i+=Ne:"[object Int16Array]"===n?i+=Fe:"[object Uint16Array]"===n?i+=Me:"[object Int32Array]"===n?i+=Ue:"[object Uint32Array]"===n?i+=qe:"[object Float32Array]"===n?i+=Le:"[object Float64Array]"===n?i+=We:t(new Error("Failed to get type for BinaryArray"))),t(i+Je(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+Je(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,Re)!==je)return JSON.parse(e);var t,n=e.substring(He),r=e.substring(Re,He);if(r===De&&ke.test(n)){var i=n.match(ke);t=i[1],n=n.substring(i[0].length)}var o=Ge(n);switch(r){case ze:return o;case De:return ie([o],{type:t});case Be:return new Int8Array(o);case Pe:return new Uint8Array(o);case Ne:return new Uint8ClampedArray(o);case Fe:return new Int16Array(o);case Me:return new Uint16Array(o);case Ue:return new Int32Array(o);case qe:return new Uint32Array(o);case Le:return new Float32Array(o);case We:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:Ge,bufferToString:Je};function Ke(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS ".concat(t.storeName," ")+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function Xe(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):Ke(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function Qe(e,t,n,r){var i=this;e=ce(e);var o=new oe((function(o,a){i.ready().then((function(){void 0===t&&(t=null);var s=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,u){u?a(u):c.db.transaction((function(n){Xe(n,c,"INSERT OR REPLACE INTO ".concat(c.storeName," ")+"(key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Qe.apply(i,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return ae(o,n),o}function Ye(e){return new oe((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var Ze={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new oe((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){Ke(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=$e,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new oe((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Xe(n,i,"SELECT * FROM ".concat(i.storeName),[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},getItem:function(e,t){var n=this;e=ce(e);var r=new oe((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Xe(n,i,"SELECT * FROM ".concat(i.storeName," WHERE key = ? LIMIT 1"),[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},setItem:function(e,t,n){return Qe.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=ce(e);var r=new oe((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Xe(n,i,"DELETE FROM ".concat(i.storeName," WHERE key = ?"),[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},clear:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Xe(t,r,"DELETE FROM ".concat(r.storeName),[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return ae(n,e),n},length:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Xe(t,r,"SELECT COUNT(key) as c FROM ".concat(r.storeName),[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return ae(n,e),n},key:function(e,t){var n=this,r=new oe((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Xe(n,i,"SELECT key FROM ".concat(i.storeName," WHERE id = ? LIMIT 1"),[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},keys:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Xe(t,r,"SELECT key FROM ".concat(r.storeName),[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return ae(n,e),n},dropInstance:function(e,t){t=ue.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return ae(r=e.name?new oe((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Ye(r))})).then((function(e){return new oe((function(t,n){e.db.transaction((function(r){function i(e){return new oe((function(t,n){r.executeSql("DROP TABLE IF EXISTS ".concat(e),[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],a=0,s=e.storeNames.length;a<s;a++)o.push(i(e.storeNames[a]));oe.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):oe.reject("Invalid arguments"),t),r}};function et(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function tt(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var nt={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=et(e,this._defaultConfig),tt()?(this._dbInfo=t,t.serializer=$e,oe.resolve()):oe.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(i),a++)))return u}}}));return ae(r,t),r},getItem:function(e,t){var n=this;e=ce(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return ae(r,t),r},setItem:function(e,t,n){var r=this;e=ce(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new oe((function(i,o){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return ae(i,n),i},removeItem:function(e,t){var n=this;e=ce(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return ae(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return ae(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return ae(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return ae(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return ae(n,e),n},dropInstance:function(e,t){if(t=ue.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new oe((function(t){e.storeName?t(et(e,i._defaultConfig)):t("".concat(e.name,"/"))})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):oe.reject("Invalid arguments"),ae(r,t),r}},rt=function(e,t){for(var n,r,i=e.length,o=0;o<i;){if((n=e[o])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},it=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ot={},at={},st={INDEXEDDB:Te,WEBSQL:Ze,LOCALSTORAGE:nt},ct=[st.INDEXEDDB._driver,st.WEBSQL._driver,st.LOCALSTORAGE._driver],ut=["dropInstance"],dt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ut),lt={description:"",driver:ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function pt(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(it(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}class mt{constructor(e){for(var t in st)if(st.hasOwnProperty(t)){var n=st[t],r=n._driver;this[t]=r,ot[r]||this.defineDriver(n)}this._defaultConfig=pt({},lt),this._config=pt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}config(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config}defineDriver(e,t,n){var r=new oe((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=dt.concat("_initStorage"),a=0,s=o.length;a<s;a++){var c=o[a];if((!rt(ut,c)||e[c])&&"function"!=typeof e[c])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method ".concat(e," is not implemented by the current driver")),n=oe.reject(t);return ae(n,arguments[arguments.length-1]),n}},n=0,r=ut.length;n<r;n++){var i=ut[n];e[i]||(e[i]=t(i))}}();var u=function(n){ot[r]&&console.info("Redefining LocalForage driver: ".concat(r)),ot[r]=e,at[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(u,n):u(!!e._support):u(!0)}catch(e){n(e)}}));return se(r,t,n),r}driver(){return this._driver||null}getDriver(e,t,n){var r=ot[e]?oe.resolve(ot[e]):oe.reject(new Error("Driver not found."));return se(r,t,n),r}getSerializer(e){var t=oe.resolve($e);return se(t,e),t}ready(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return se(n,e,e),n}setDriver(e,t,n){var r=this;it(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function a(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var s=null!==this._driverSet?this._driverSet.catch((function(){return oe.resolve()})):oe.resolve();return this._driverSet=s.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}o();var s=new Error("No available storage method found.");return r._driverSet=oe.reject(s),r._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=oe.reject(e),r._driverSet})),se(this._driverSet,t,n),this._driverSet}supports(e){return!!at[e]}_extend(e){pt(this,e)}_getSupportedDrivers(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t}_wrapLibraryMethodsWithReady(){for(var e=0,t=dt.length;e<t;e++)ft(this,dt[e])}createInstance(e){return new mt(e)}}var gt=new mt,ht={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Boolean]",a="[object Date]",s="[object Function]",c="[object GeneratorFunction]",u="[object Map]",d="[object Number]",l="[object Object]",f="[object Promise]",p="[object RegExp]",m="[object Set]",g="[object String]",h="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",y="[object DataView]",w="[object Float32Array]",I="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",x="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]",O=/\w*$/,k=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,z={};z[i]=z["[object Array]"]=z[b]=z[y]=z[o]=z[a]=z[w]=z[I]=z[_]=z[C]=z[S]=z[u]=z[d]=z[l]=z[p]=z[m]=z[g]=z[h]=z[x]=z[E]=z[A]=z[T]=!0,z["[object Error]"]=z[s]=z[v]=!1;var D="object"==typeof R&&R&&R.Object===Object&&R,B="object"==typeof self&&self&&self.Object===Object&&self,P=D||B||Function("return this")(),N=t&&!t.nodeType&&t,F=N&&e&&!e.nodeType&&e,U=F&&F.exports===N;function M(e,t){return e.set(t[0],t[1]),e}function q(e,t){return e.add(t),e}function L(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function V(e,t){return function(n){return e(t(n))}}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var J,$=Array.prototype,K=Function.prototype,X=Object.prototype,Q=P["__core-js_shared__"],Y=(J=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",Z=K.toString,ee=X.hasOwnProperty,te=X.toString,ne=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=U?P.Buffer:void 0,ie=P.Symbol,oe=P.Uint8Array,ae=V(Object.getPrototypeOf,Object),se=Object.create,ce=X.propertyIsEnumerable,ue=$.splice,de=Object.getOwnPropertySymbols,le=re?re.isBuffer:void 0,fe=V(Object.keys,Object),pe=Fe(P,"DataView"),me=Fe(P,"Map"),ge=Fe(P,"Promise"),he=Fe(P,"Set"),ve=Fe(P,"WeakMap"),be=Fe(Object,"create"),ye=We(pe),we=We(me),Ie=We(ge),_e=We(he),Ce=We(ve),Se=ie?ie.prototype:void 0,xe=Se?Se.valueOf:void 0;function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){this.__data__=new Ae(e)}function ke(e,t){var n=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!ee.call(e,a)||o&&("length"==a||qe(a,r))||n.push(a);return n}function je(e,t,n){var r=e[t];ee.call(e,t)&&He(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Re(e,t){for(var n=e.length;n--;)if(He(e[n][0],t))return n;return-1}function ze(e,t,n,r,f,v,k){var j;if(r&&(j=v?r(e,f,v,k):r(e)),void 0!==j)return j;if(!Ke(e))return e;var R=Ve(e);if(R){if(j=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,j)}else{var D=Me(e),B=D==s||D==c;if(Je(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(D==l||D==i||B&&!v){if(W(e))return v?e:{};if(j=function(e){return"function"!=typeof e.constructor||Le(e)?{}:Ke(t=ae(e))?se(t):{};var t}(B?{}:e),!t)return function(e,t){return Pe(e,Ue(e),t)}(e,function(e,t){return e&&Pe(t,Xe(t),e)}(j,e))}else{if(!z[D])return v?e:{};j=function(e,t,n,r){var i,s=e.constructor;switch(t){case b:return Be(e);case o:case a:return new s(+e);case y:return function(e,t){var n=t?Be(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case w:case I:case _:case C:case S:case x:case E:case A:case T:return function(e,t){var n=t?Be(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return L(t?n(H(e),!0):H(e),M,new e.constructor)}(e,r,n);case d:case g:return new s(e);case p:return function(e){var t=new e.constructor(e.source,O.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return L(t?n(G(e),!0):G(e),q,new e.constructor)}(e,r,n);case h:return i=e,xe?Object(xe.call(i)):{}}}(e,D,ze,t)}}k||(k=new Oe);var P=k.get(e);if(P)return P;if(k.set(e,j),!R)var N=n?function(e){return function(e,t,n){var r=t(e);return Ve(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Xe,Ue)}(e):Xe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(N||e,(function(i,o){N&&(i=e[o=i]),je(j,o,ze(i,t,n,r,o,e,k))})),j}function De(e){return!(!Ke(e)||(t=e,Y&&Y in t))&&($e(e)||W(e)?ne:k).test(We(e));var t}function Be(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Pe(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;je(n,a,void 0===s?e[a]:s)}return n}function Ne(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}Ee.prototype.clear=function(){this.__data__=be?be(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(be){var r=t[e];return r===n?void 0:r}return ee.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:ee.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?n:t,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(e){var t=this.__data__,n=Re(t,e);return!(n<0||(n==t.length-1?t.pop():ue.call(t,n,1),0))},Ae.prototype.get=function(e){var t=this.__data__,n=Re(t,e);return n<0?void 0:t[n][1]},Ae.prototype.has=function(e){return Re(this.__data__,e)>-1},Ae.prototype.set=function(e,t){var n=this.__data__,r=Re(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new Ee,map:new(me||Ae),string:new Ee}},Te.prototype.delete=function(e){return Ne(this,e).delete(e)},Te.prototype.get=function(e){return Ne(this,e).get(e)},Te.prototype.has=function(e){return Ne(this,e).has(e)},Te.prototype.set=function(e,t){return Ne(this,e).set(e,t),this},Oe.prototype.clear=function(){this.__data__=new Ae},Oe.prototype.delete=function(e){return this.__data__.delete(e)},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ae){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this;n=this.__data__=new Te(r)}return n.set(e,t),this};var Ue=de?V(de,Object):function(){return[]},Me=function(e){return te.call(e)};function qe(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function Le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function We(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(pe&&Me(new pe(new ArrayBuffer(1)))!=y||me&&Me(new me)!=u||ge&&Me(ge.resolve())!=f||he&&Me(new he)!=m||ve&&Me(new ve)!=v)&&(Me=function(e){var t=te.call(e),n=t==l?e.constructor:void 0,r=n?We(n):void 0;if(r)switch(r){case ye:return y;case we:return u;case Ie:return f;case _e:return m;case Ce:return v}return t});var Ve=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!$e(e)}var Je=le||function(){return!1};function $e(e){var t=Ke(e)?te.call(e):"";return t==s||t==c}function Ke(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return Ge(e)?ke(e):function(e){if(!Le(e))return fe(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return ze(e,!0,!0)}}(ht,ht.exports);var vt,bt=ht.exports,yt="bd_timeout",wt="json",It={globalBidUnits:[],cacheBidsByAdUnit:function(e){if(!e||!e.cpm)return!1;var t=function(e,t){var n=window.sessionStorage.getItem(e);return"json"===t?JSON.parse(n||"{}"):n}(yt,wt),r=!!t.lastAuction&&t.lastAuction[e.adUnitCode];if(r&&r.highestBid&&e.auctionId==r.highestBid.auctionId){(r.highestBid.cpm<e.cpm||r.highestBid.cpm===e.cpm&&r.highestBid.timeToRespond>e.timeToRespond)&&(t.lastAuction[e.adUnitCode].highestBid=e);var i=t.lastAuction[e.adUnitCode].bidderCpms;i&&i[e.bidder]?e.cpm>i[e.bidder]&&(i[e.bidder]=e.cpm):i[e.bidder]=e.cpm,t.lastAuction[e.adUnitCode].bidderCpms=i}else t.lastAuction=t.lastAuction||{},t.lastAuction[e.adUnitCode]={highestBid:e,bidderCpms:n({},e.bidder,e.cpm)};return function(e,t,n){var r;r="json"===n?JSON.stringify(t):t,window.sessionStorage.setItem(e,r)}(yt,t,wt),function(e,t,n){var r;r="json"===n?JSON.stringify(t):t,gt.setItem(e,r)}(yt,t,wt),!0},getAdUnitTimeout:function(e,t){var n=t.lastAuction[e]?t.lastAuction[e].highestBid:null,r=t.bidderTimeouts[e];return n&&(!r||r<n.timeToRespond)&&(r=n.timeToRespond),t.bidderTimeouts[e]=r||0,t.bidderTimeouts[e]},cacheBids:function(e){this.cacheBidsByAdUnit(e)},getBidderTimeout:function(e){return zamaf.config.options.prebid.prebidTimeout||3e3},clearBidCache:function(){!function(e){window.sessionStorage.removeItem(e)}(yt)},setGlobalBidUnits:function(e,t){var n=function(e){return e.code===t},r=bt(e.find(n)),i=this.globalBidUnits.findIndex(n);i<0?this.globalBidUnits.push(r):this.globalBidUnits[i]=r},updateGlobalBidWithUserIds:function(){this.globalBidUnits.forEach((function(e){e.bids.forEach((function(e){e.userId=PWT.getUserIds(),e.userIdAsEids=owpbjs.getUserIdsAsEids()}))}))},setBidderOrderAndGroups:async function(e){}},_t="__lodash_hash_undefined__",Ct="[object Function]",St="[object GeneratorFunction]",xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Et=/^\w*$/,At=/^\./,Tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/\\(\\)?/g,kt=/^\[object .+?Constructor\]$/,jt="object"==typeof R&&R&&R.Object===Object&&R,Rt="object"==typeof self&&self&&self.Object===Object&&self,zt=jt||Rt||Function("return this")(),Dt=Array.prototype,Bt=Function.prototype,Pt=Object.prototype,Nt=zt["__core-js_shared__"],Ft=(vt=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||""))?"Symbol(src)_1."+vt:"",Ut=Bt.toString,Mt=Pt.hasOwnProperty,qt=Pt.toString,Lt=RegExp("^"+Ut.call(Mt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=zt.Symbol,Ht=Dt.splice,Vt=nn(zt,"Map"),Gt=nn(Object,"create"),Jt=Wt?Wt.prototype:void 0,$t=Jt?Jt.toString:void 0;function Kt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yt(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function Zt(e,t){var n;t=function(e,t){if(sn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!un(e))||(Et.test(e)||!xt.test(e)||null!=t&&e in Object(t))}(t,e)?[t]:sn(n=t)?n:rn(n);for(var r=0,i=t.length;null!=e&&r<i;)e=e[on(t[r++])];return r&&r==i?e:void 0}function en(e){if(!cn(e)||(t=e,Ft&&Ft in t))return!1;var t,n=function(e){var t=cn(e)?qt.call(e):"";return t==Ct||t==St}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?Lt:kt;return n.test(function(e){if(null!=e){try{return Ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function tn(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function nn(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return en(n)?n:void 0}Kt.prototype.clear=function(){this.__data__=Gt?Gt(null):{}},Kt.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Kt.prototype.get=function(e){var t=this.__data__;if(Gt){var n=t[e];return n===_t?void 0:n}return Mt.call(t,e)?t[e]:void 0},Kt.prototype.has=function(e){var t=this.__data__;return Gt?void 0!==t[e]:Mt.call(t,e)},Kt.prototype.set=function(e,t){return this.__data__[e]=Gt&&void 0===t?_t:t,this},Xt.prototype.clear=function(){this.__data__=[]},Xt.prototype.delete=function(e){var t=this.__data__,n=Yt(t,e);return!(n<0||(n==t.length-1?t.pop():Ht.call(t,n,1),0))},Xt.prototype.get=function(e){var t=this.__data__,n=Yt(t,e);return n<0?void 0:t[n][1]},Xt.prototype.has=function(e){return Yt(this.__data__,e)>-1},Xt.prototype.set=function(e,t){var n=this.__data__,r=Yt(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Qt.prototype.clear=function(){this.__data__={hash:new Kt,map:new(Vt||Xt),string:new Kt}},Qt.prototype.delete=function(e){return tn(this,e).delete(e)},Qt.prototype.get=function(e){return tn(this,e).get(e)},Qt.prototype.has=function(e){return tn(this,e).has(e)},Qt.prototype.set=function(e,t){return tn(this,e).set(e,t),this};var rn=an((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(un(e))return $t?$t.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return At.test(e)&&n.push(""),e.replace(Tt,(function(e,t,r,i){n.push(r?i.replace(Ot,"$1"):t||e)})),n}));function on(e){if("string"==typeof e||un(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function an(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(an.Cache||Qt),n}an.Cache=Qt;var sn=Array.isArray;function cn(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function un(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==qt.call(e)}var dn=function(e,t,n){var r=null==e?void 0:Zt(e,t);return void 0===r?n:r},ln=M("pbjs:adUnits");function fn(e){return!("video"!=(t=e).type&&"interscroller"!=t.type&&(!t.sizes||!t.sizes.length||1===t.sizes.length&&1==t.sizes[0][0])||!e.bidderParams);var t}function pn(e,t){var n=ne();return n[e]?(n[e]._hb=t,!0):(ln.warn("elementId not in global",e),!1)}function mn(e,t,n){n||(n=Array.isArray(t.bidders)?t.bidders:Object.keys(t.bidders),t.bidderGroups&&t.bidderGroups.length&&(n=t.bidderGroups[e.bidderGroupTracker]));var r={};return n.forEach((function(e){r[e]=t.bidders[e]})),{code:e.elementId,mediaTypes:hn(e),bids:te(e,r)}}function gn(e){return e.excludeBidSizes?e.sizes.filter((function(t){return!e.excludeBidSizes.find((function(e){return e[0]==t[0]&&e[1]==t[1]}))})):e.sizes}function hn(e){var t={};if(Array.isArray(e.mediaTypes)&&e.mediaTypes.length){var n=e.mediaOptions||{};e.mediaTypes.includes("native")&&(t.native={image:{required:!0,sizes:dn(n,"native.sizes",[390,220]),sendId:!0},title:{required:!0,sendId:!0},body:{required:dn(n,"native.body",!1),sendId:!0},sponsoredBy:{required:!0,sendId:!0},clickUrl:{required:!0,sendId:!0}}),e.mediaTypes.includes("banner")&&(t.banner={sizes:gn(e),pos:e.pos||0}),e.mediaTypes.includes("video")&&(t.video={context:dn(n,"context","outstream"),mimes:dn(n,"mimes",["video/mp4"]),playerSize:dn(n,"playerSize",[400,600]),minduration:dn(n,"minduration"),maxduration:dn(n,"maxduration"),skippable:dn(n,"skippable"),startdelay:dn(n,"startdelay"),playbackmethod:dn(n,"playbackmethod"),api:dn(n,"api"),protocols:dn(n,"protocols"),linearity:dn(n,"linearity")})}else t.banner={sizes:gn(e),pos:e.pos||0};return t}function vn(e,t){var n,r=t.options&&t.options.prebid;return e.forEach((function(e){e.hasOwnProperty("bidderGroupTracker")||(e.bidderGroupTracker=0),r.bidderGroups&&r.bidderGroups.length&&!isNaN(e.bidderGroupTracker)&&(e.bidderGroupTracker=(e.bidderGroupTracker+1)%r.bidderGroups.length),n=function(e,t){return t.bidderGroups&&t.bidderGroups[e]?(ln.log("Biddergroup: Using bidder index for biddergroup",e,t.bidderGroups[e]),t.bidderGroups[e]):t.bidders?(ln.log("Biddergroup: No bidder group, using bidders",t.bidders),Object.keys(t.bidders)):(ln.log("No biddergroups or bidders returning empty array []"),[])}(e.bidderGroupTracker,r)})),pbjs.que.push(window.zamaf.wrap((async function(){ln.log("requestBids sent");var t=[],r=[];e.forEach((function(e){var n=e.slot;!function(e){var t=ne();return!!t[e]&&t[e]._hb}(n.getSlotElementId())?t.push(n):r.push(n)})),r.length>0&&(ln.log("number of hb slots:",r.length),await It.setBidderOrderAndGroups(n),bn(It.getBidderTimeout(e),r)),t.length>0&&(ln.log("number of non hb slots:",r.length),L(t)),t.length||r.length||ln.warn("unable to refresh slots")}))),n}function bn(e,t){var n=t.map((function(e){return e.getSlotElementId()}));ln.slots("requestHBAds",t),ln.log("prebidTimeout",e),pbjs.requestBids({adUnitCodes:n,bidsBackHandler:function(e){zamaf.pbjsBidsDone(t,e)},timeout:e}),zamaf.pbjsBidsRequest(t,e)}function yn(e){return function(t){return function(e,t){return e.getSlotElementId()===t}(e,t)}}function wn(e,t){!function(e){e&&Object.entries(e).forEach((function(e){var t=i(e,2),n=t[0],r=t[1],o=0;r.bids.forEach((function(e){e.cpm>o&&(o=e.cpm)})),o&&zamaf._getGlobals().globalSlots[n].slot.setTargeting("zaf_cpm",o)}))}(e),pbjs.setTargetingForGPTAsync(t,yn)}var In=M("pbjs:tracker");function _n(e){return{auctionId:e.auctionId,auctionStart:e.auctionStart,bidderCode:e.bidderCode,bidsCount:e.bids?e.bids.length:0,gdprConsentApiVersion:e.gdprConsent?e.gdprConsent.apiVersion:0,gdprConsentString:e.gdprConsent?e.gdprConsent.consentString:"NONE",gdprApplies:e.gdprConsent?e.gdprConsent.gdprApplies:"NONE",cmpId:e.gdprConsent?e.gdprConsent.vendorData.cmpId:0,cmpStatus:e.gdprConsent?e.gdprConsent.vendorData.cmpStatus:"NONE",cmpEventStatus:e.gdprConsent?e.gdprConsent.vendorData.eventStatus:"NONE",isGDPR:zamaf.user.isGDPR}}function Cn(e,t){var n={};n.auctionId=t.auctionId,n.auctionStart=t.timestamp,n.auctionEnd=t.auctionEnd;var i=function(e){var t={},n=e.bidsReceived||[];return o(new Set(n.map((function(e){return e.adUnitCode})))).forEach((function(e){var r={minBid:0,maxBid:0,bidderHighestBid:{},totalBid:0,winningBidder:"",elementId:e,bidFloor:0};n.filter((function(t){return t.adUnitCode==e})).forEach((function(e){var t=e.floorData&&e.floorData.cpmAfterAdjustments?e.floorData.cpmAfterAdjustments:e.originalCpm,n=r.bidderHighestBid[e.bidder]||0;r.bidderHighestBid[e.bidder]=n>t?n:t,r.bidFloor=e.floorData?e.floorData.floorValue:0,r.winningBidder=t>r.maxBid?e.bidder:r.winningBidder||e.bidder,r.maxBid=t>r.maxBid?t:r.maxBid})),t[e]=r})),t}(t),a=function(e,t){var n={};t.adUnits.forEach((function(e){n[e.code]=new Set(e.bids.map((function(e){return e.bidder})))}));var r=[];return Object.values(e).forEach((function(e){var t=Object.values(e.bidderHighestBid);if(t&&t.length){e.totalBid=t.reduce((function(e,t){return e+t}),0),e.meanBid=Math.round(e.totalBid/t.length*1e5)/1e5,e.bids=t.sort((function(e,t){return e-t})),e.minBid=e.bids[0];var i=Math.floor(t.length/2);e.medianBid=Math.round(1e5*(t.length%2!=0?t[i]:(t[i-1]+t[i])/2))/1e5}e.biddersConfiguredCount=n[e.elementId].size;var a=Object.keys(e.bidderHighestBid||{});e.biddersParticipated=a.join(","),e.biddersConfigured=o(n[e.elementId]).join(","),e.biddersReceivedCount=a.length,r.push(e)})),r}(i,t);a.forEach((function(t){r(t,n),delete t.bids,delete t.bidderHighestBid,delete t.totalBid,e._eventEmitter.emit("zaf:auctionEndMetrics",e.config,t)}))}function Sn(){In.log("Setup pbjs tracking events"),pbjs.que.push(zamaf.wrap((function(){G.forEach((function(e){!function(e,t){var n=t.split(":");In.log("Setup tracking event: ".concat(t)),pbjs.onEvent(n[1],e.wrap((function(n){try{if(t===H&&(In.log("Tracking auction end metrics"),Cn(e,n)),!n)return In.warn("tracking: empty data pbjs tracking event data for event "+t),!1;var i={};i[J]=n[J]?n[J].join(","):"EMPTY",i[$]=n.bidderRequests?n.bidderRequests.map((function(e){return e.bidderCode})).join(","):"EMPTY",i[K]=n.length||0,i[Q]=n[Q]?n[Q]:{},i[X]=n.bids?n.bids.length:0,i[Y]=Object.keys(n).join(",")||"EMPTY",i[Z]=n||{},t===V&&(i=r(i,_n(n))),e._eventEmitter.emit(t,e.config,i)}catch(e){In.error("tracking: unable to process pbjs tracking event data for event "+t,e)}})))}(zamaf,e)}))})))}var xn=M("pbjs:events"),En=Object.prototype.toString,An=Array.isArray||function(e){return"[object Array]"===En.call(e)};function Tn(e){return"function"==typeof e}function On(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function kn(e,t){return null!=e&&"object"==typeof e&&t in e}var jn=RegExp.prototype.test,Rn=/\S/;function zn(e){return!function(e,t){return jn.call(e,t)}(Rn,e)}var Dn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},Bn=/\s*/,Pn=/\s+/,Nn=/\s*=/,Fn=/\s*\}/,Un=/#|\^|\/|>|\{|&|=|!/;function Mn(e){this.string=e,this.tail=e,this.pos=0}function qn(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function Ln(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Mn.prototype.eos=function(){return""===this.tail},Mn.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},Mn.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},qn.prototype.push=function(e){return new qn(e,this)},qn.prototype.lookup=function(e){var t,n,r,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var o,a,s,c=this,u=!1;c;){if(e.indexOf(".")>0)for(o=c.view,a=e.split("."),s=0;null!=o&&s<a.length;)s===a.length-1&&(u=kn(o,a[s])||(n=o,r=a[s],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),o=o[a[s++]];else o=c.view[e],u=kn(c.view,e);if(u){t=o;break}c=c.parent}i[e]=t}return Tn(t)&&(t=t.call(this.view)),t},Ln.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},Ln.prototype.parse=function(e,t){var n=this.templateCache,r=e+":"+(t||Wn.tags).join(":"),i=void 0!==n,o=i?n.get(r):void 0;return null==o&&(o=function(e,t){if(!e)return[];var n,r,i,o=!1,a=[],s=[],c=[],u=!1,d=!1,l="",f=0;function p(){if(u&&!d)for(;c.length;)delete s[c.pop()];else c=[];u=!1,d=!1}function m(e){if("string"==typeof e&&(e=e.split(Pn,2)),!An(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(On(e[0])+"\\s*"),r=new RegExp("\\s*"+On(e[1])),i=new RegExp("\\s*"+On("}"+e[1]))}m(t||Wn.tags);for(var g,h,v,b,y,w,I=new Mn(e);!I.eos();){if(g=I.pos,v=I.scanUntil(n))for(var _=0,C=v.length;_<C;++_)zn(b=v.charAt(_))?(c.push(s.length),l+=b):(d=!0,o=!0,l+=" "),s.push(["text",b,g,g+1]),g+=1,"\n"===b&&(p(),l="",f=0,o=!1);if(!I.scan(n))break;if(u=!0,h=I.scan(Un)||"name",I.scan(Bn),"="===h?(v=I.scanUntil(Nn),I.scan(Nn),I.scanUntil(r)):"{"===h?(v=I.scanUntil(i),I.scan(Fn),I.scanUntil(r),h="&"):v=I.scanUntil(r),!I.scan(r))throw new Error("Unclosed tag at "+I.pos);if(y=">"==h?[h,v,g,I.pos,l,f,o]:[h,v,g,I.pos],f++,s.push(y),"#"===h||"^"===h)a.push(y);else if("/"===h){if(!(w=a.pop()))throw new Error('Unopened section "'+v+'" at '+g);if(w[1]!==v)throw new Error('Unclosed section "'+w[1]+'" at '+g)}else"name"===h||"{"===h||"&"===h?d=!0:"="===h&&m(v)}if(p(),w=a.pop())throw new Error('Unclosed section "'+w[1]+'" at '+I.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(s))}(e,t),i&&n.set(r,o)),o},Ln.prototype.render=function(e,t,n,r){var i=this.getConfigTags(r),o=this.parse(e,i),a=t instanceof qn?t:new qn(t,void 0);return this.renderTokens(o,a,n,e,r)},Ln.prototype.renderTokens=function(e,t,n,r,i){for(var o,a,s,c="",u=0,d=e.length;u<d;++u)s=void 0,"#"===(a=(o=e[u])[0])?s=this.renderSection(o,t,n,r,i):"^"===a?s=this.renderInverted(o,t,n,r,i):">"===a?s=this.renderPartial(o,t,n,i):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t,i):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(c+=s);return c},Ln.prototype.renderSection=function(e,t,n,r,i){var o=this,a="",s=t.lookup(e[1]);if(s){if(An(s))for(var c=0,u=s.length;c<u;++c)a+=this.renderTokens(e[4],t.push(s[c]),n,r,i);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)a+=this.renderTokens(e[4],t.push(s),n,r,i);else if(Tn(s)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(t.view,r.slice(e[3],e[5]),(function(e){return o.render(e,t,n,i)})))&&(a+=s)}else a+=this.renderTokens(e[4],t,n,r,i);return a}},Ln.prototype.renderInverted=function(e,t,n,r,i){var o=t.lookup(e[1]);if(!o||An(o)&&0===o.length)return this.renderTokens(e[4],t,n,r,i)},Ln.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),i=e.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},Ln.prototype.renderPartial=function(e,t,n,r){if(n){var i=this.getConfigTags(r),o=Tn(n)?n(e[1]):n[e[1]];if(null!=o){var a=e[6],s=e[5],c=e[4],u=o;0==s&&c&&(u=this.indentPartial(o,c,a));var d=this.parse(u,i);return this.renderTokens(d,t,n,u,r)}}},Ln.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},Ln.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||Wn.escape,i=t.lookup(e[1]);if(null!=i)return"number"==typeof i&&r===Wn.escape?String(i):r(i)},Ln.prototype.rawValue=function(e){return e[1]},Ln.prototype.getConfigTags=function(e){return An(e)?e:e&&"object"==typeof e?e.tags:void 0},Ln.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!An(e)?e.escape:void 0};var Wn={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){Hn.templateCache=e},get templateCache(){return Hn.templateCache}},Hn=new Ln;Wn.clearCache=function(){return Hn.clearCache()},Wn.parse=function(e,t){return Hn.parse(e,t)},Wn.render=function(e,t,n,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(An(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return Hn.render(e,t,n,r)},Wn.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return Dn[e]}))},Wn.Scanner=Mn,Wn.Context=qn,Wn.Writer=Ln;var Vn="pubCommonId",Gn=M("pbjs:init");zamaf.cmd.push({event:"zaf:slots:done",once:!0,handler:function(e){return function(e){var t=e.options,n=void 0===t?{}:t,i=e.enableCMP,o=void 0!==i&&i,a=e.enableCCPA,s=void 0!==a&&a,c=n.noDisplay,u=void 0!==c&&c,d=n.prebid,l=d.initMaxRetries,f=void 0===l?50:l,p=d.initPollMs,m=void 0===p?50:p,g=d.consentTimeout,h=d.allowAuctionWithoutConsent,v=d.server,b=d.bidders,y=d.useBidCache,w=void 0!==y&&y,I=d.overrideGPT,_=void 0!==I&&I,C=d.modules,S=void 0===C?[]:C,x=d.bidderGroups,E=void 0===x?[]:x,A=d.floor,T=d.floorMin,O=d.floorUrl,k=d.auctionDelay,j=d.ID5,R=void 0===j?{enabled:!1}:j,z=d.enablePublink,D=d.sellers,B=void 0===D?{version:"1.0",sellers:[]}:D;Xn(),Gn.log("running prebid-init");var P=Array.isArray(b)?b:Object.keys(b);!E.length&&P&&P.length?E[0]=P:E.length||(E[0]=[]);var N,F=It.getBidderTimeout(),U=f,M=function(e){var t=e.options,n=!(!t.uam||!t.uam.pubID);return q.log("isUamEnabled",n),n}({options:n});pbjs.retries=0,_&&(N=F,pbjs.que.push(window.zamaf.wrap((function(){googletag.cmd.push(window.zamaf.wrap((function(){googletag.pubads().refreshOrig=googletag.pubads().refresh,googletag.pubads().refresh=function(e){ln.slots("overrideGPTFn refresh",e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];bn.apply(void 0,[N,e].concat(n))}})))})))),o&&window.zamaf.user&&window.zamaf.user.isGDPR&&pbjs.que.push(window.zamaf.wrap((function(){pbjs.setConfig({consentManagement:{gdpr:{cmpApi:"iab",timeout:g||8e3,allowAuctionWithoutConsent:h||!1,defaultGdprScope:!0}}})}))),s&&window.zamaf.user&&window.zamaf.user.isCCPA&&pbjs.que.push(window.zamaf.wrap((function(){pbjs.setConfig({consentManagement:{usp:{cmpApi:"iab",timeout:g||8e3,allowAuctionWithoutConsent:h||!1}}})}))),R.enabled&&pbjs.que.push(window.zamaf.wrap((function(){S.indexOf("id5IdSystem")>-1&&(-1==S.indexOf("userId")&&S.push("userId"),pbjs.setConfig({userSync:{userIds:[{name:"id5Id",params:{partner:R.partner},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}]}}))}))),z&&pbjs.que.push(window.zamaf.wrap((function(){-1==S.indexOf("publinkIdSystem")&&S.push("publinkIdSystem"),-1==S.indexOf("userId")&&S.push("userId"),-1==S.indexOf("sharedIdSystem")&&S.push("sharedIdSystem"),pbjs.setConfig({userSync:{userIds:[{name:"sharedId",params:{pixelUrl:"/wp-json/pubcid/v1/extend/"},storage:{type:"cookie",name:"_pubcid",expires:365}}]}}),pbjs.setConfig({userSync:{userIds:[{name:"publinkId",storage:{type:"cookie",name:"pbjs_publink",expires:30}}],syncDelay:3e3}})}))),B&&B.sellers.length&&pbjs.que.push(window.zamaf.wrap((function(){var e=B.sellers.map((function(e){var t=e.seller_id;return{asi:e.domain,sid:t,hp:1}}));pbjs.setConfig({schain:{validation:"strict",config:{ver:B.version,complete:1,nodes:e}}})})));var H=[],V={};if(!Array.isArray(b))for(var G in b)if(b[G].server){H.push(G);var J=b[G].serverPercentage||0;100!=J&&(V[G]={bidSource:{server:J,client:100-J},includeSourceKvp:!0})}function $(e){if(!pbjs.initAdserverSet){if(!googletag.pubadsReady&&pbjs.retries<=U)return Gn.log("retrying",pbjs.retries),setTimeout(window.zamaf.wrap($),m),void pbjs.retries++;pbjs.initAdserverSet=!0,Gn.log("pbjs.initAdserverSet is true"),u?Gn.log("not requesting ads, either noDisplay is true or uam is enabled"):googletag.cmd.push(window.zamaf.wrap((function(){wn(e),M?Gn.log("uam is enabled; not refreshing"):L()})))}}H&&H.length&&pbjs.que.push(window.zamaf.wrap((function(){pbjs.setConfig({s2sConfig:{accountId:v.accountId||"1",enabled:!0,testing:!0,bidders:H,timeout:F,adapter:"prebidServer",endpoint:"".concat(v.host,"/openrtb2/auction"),syncEndpoint:"".concat(v.host,"/cookie_sync"),bidderControl:V,extPrebid:{bidadjustmentfactors:{}}}})}))),zamaf.cmd.push({event:W,prepend:!0,handler:function(e,t,n){"pbjs"===e&&(pbjs.initAdserverSet?googletag.cmd.push(zamaf.wrap((function(){wn(n),M?Gn.log("uam is enabled; not refreshing"):L(t)}))):$(n))}}),pbjs.que.push(window.zamaf.wrap((async function(){var e=10;zamaf.user.isDesktop||(e=5);var t=n.targetingPrefix||"hb_";pbjs.bidderSettings={sendStandardTargeting:!0,suppressEmptyKeys:!0,standard:{suppressEmptyKeys:!0,adserverTargeting:[{key:t+"bidder",val:function(e){return e.bidderCode||"null"}},{key:t+"adid",val:function(e){return e.adId||"null"}},{key:t+"pb",val:function(e){return e.pbCg||"null"}},{key:t+"size",val:function(e){return e.size||"null"}},{key:t+"source",val:function(e){return e.source||"null"}},{key:t+"format",val:function(e){return e.mediaType||"null"}}]}},Object.keys($n).forEach((function(e){pbjs.bidderSettings[e]=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=$n[e];return{suppressEmptyKeys:t,sendStandardTargeting:n,bidCpmAdjustment:function(e){return e*r}}}(e)})),P.filter((function(e){return["pubmatic"].indexOf(e)>-1})).length;var i={data:{schema:{fields:["mediaType","size"]},values:{"*|*":A||.01},default:A||.01}};if(O){var o={site:zamaf.config&&zamaf.config.site||"all",device:zamaf.user&&zamaf.user.deviceType||"all",country:zamaf.user&&zamaf.user.countryCode||"all",region:zamaf.user&&zamaf.user.region||"all"};r(i,{auctionDelay:k,floorMin:T,endpoint:{url:Wn.render(O,o)}})}if(pbjs.setConfig({disableAjaxTimeout:!0,useBidCache:w,enableSendAllBids:!1,bidderTimeout:F,bidderSequence:"fixed",timeoutBuffer:400,priceGranularity:Jn,userSync:{syncsPerBidder:e,syncEnabled:!0},pubcid:{enable:S.indexOf(Vn)>-1},floors:i,targetingControls:{allowTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN"]}}),u)Gn.log("just initializing server"),$();else{await It.setBidderOrderAndGroups(E[0]);var a=[];pbjs.requestBids({bidsBackHandler:function(e){zamaf.pbjsBidsDone(a,e)},timeout:F}),zamaf.pbjsBidsRequest(a,F)}}))),Gn.log("prebid-init finished")}(e),!0}}),pbjs.que.push((function(){pbjs.onEvent("auctionEnd",(function(e){zamaf.cmd.push(zamaf.wrap((function(){xn.log("auctionEnd",e),zamaf.auctionManager.cacheBids(e),pbjs.zamafAuctionEndTime=Date.now()})))}))})),pbjs.que.push((function(){pbjs.onEvent("bidResponse",(function(e){zamaf.cmd.push((function(){setTimeout(zamaf.wrap((function(){It.cacheBids(e)})),1e4)}))}))})),zamaf.cmd.push({event:"zaf:unit:refresh",handler:function(e,t){var n=t.elementId,r=t.configSlot;xn.log("pbjs unit refresh",n,r,e),r&&vn([r],e)}}),zamaf.cmd.push({event:"zaf:slots:refresh",handler:function(e,t){var n=t.configSlots;xn.log("pbjs slots refresh",n),n&&vn(n,e)}}),zamaf.cmd.push({event:"zaf:unit:define",prepend:!0,handler:function(e,n){var r=n.elementId,i=t(t({},n.configSlot),{},{elementId:r}),o=e.options.prebid.bidders,a=Array.isArray(o)?o:Object.keys(o);xn.log("adding PBUnit",r);var s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=fn(e);if(pn(e.elementId,r),!r)return ln.log("invalid config passed",e,t),null;var i=mn(e,t,n);return pbjs.que.push(window.zamaf.wrap((function(){ln.log("bidder info passed",i),window.PWT&&"function"==typeof PWT.getUserIds&&i.bids.forEach((function(e){e.userId=PWT.getUserIds(),e.userIdAsEids=owpbjs.getUserIdsAsEids()})),pbjs.addAdUnits(i),"video"==e.type&&pbjs.setConfig({cache:{url:t.cacheUrl||"https://prebid.adnxs.com/pbc/v1/cache"}}),It.setGlobalBidUnits(pbjs.adUnits,e.elementId)}))),i}(i,e.options.prebid,a);s&&!e.options.noDisplay&&pbjs.initAdserverSet?(xn.log("pbjs.initAdserverSet is",!!pbjs.initAdserverSet),xn.log("refreshing ads on defined"),vn([i],e)):(xn.log("pbjs.initAdserverSet is",!!pbjs.initAdserverSet),xn.log("not refreshing ads on defined"))}}),zamaf.cmd.push({event:"zaf:unit:remove",handler:function(e,t){var n=t.elementId;"loading"!==document.readyState&&(xn.log("removing PBUnit",n),function(e){pbjs.que.push(window.zamaf.wrap((function(){pbjs.removeAdUnit(e)})))}(n))}}),zamaf.cmd.push((function(){Sn()}));var Jn={buckets:[{precision:2,min:0,max:30,increment:.01}]},$n={aol:.85},Kn=0;function Xn(){++Kn,window.PWT&&"function"==typeof PWT.getUserIds?pbjs.adUnits.forEach((function(e){e.bids.forEach((function(e){e.userId=PWT.getUserIds(),e.userIdAsEids=owpbjs.getUserIdsAsEids()})),It.updateGlobalBidWithUserIds()})):Kn<40&&setTimeout(Xn,250)}}(),function(){var e=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function n(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&require("lie/polyfill");var r=Promise;function i(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function a(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function s(e){return"string"!=typeof e&&(e=String(e)),e}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var u,d="local-forage-detect-blob-support",l={},f=Object.prototype.toString,p="readonly",m="readwrite";function g(e){return"boolean"==typeof u?r.resolve(u):function(e){return new r((function(t){var r=e.transaction(d,m),i=n([""]);r.objectStore(d).put(i,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return u=e}))}function h(e){var t=l[e.name],n={};n.promise=new r((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function v(e){var t=l[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function b(e,t){var n=l[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function y(t,n){return new r((function(r,i){if(l[t.name]=l[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!n)return r(t.db);h(t),t.db.close()}var o=[t.name];n&&o.push(t.version);var a=e.open.apply(e,o);n&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(d)}catch(e){if("ConstraintError"!==e.name)throw e}}),a.onerror=function(e){e.preventDefault(),i(a.error)},a.onsuccess=function(){var e=a.result;e.onversionchange=function(e){e.target.close()},r(e),v(t)}}))}function w(e){return y(e,!1)}function I(e){return y(e,!0)}function _(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function C(e){var t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data));return n([t],{type:e.type})}function S(e){return e&&e.__local_forage_encoded_blob}function x(e){var t=this,n=t._initReady().then((function(){var e=l[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return a(n,e,e),n}function E(e,t,n,i){void 0===i&&(i=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(i>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return r.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),I(e)})).then((function(){return function(e){h(e);for(var t=l[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,w(e).then((function(t){return e.db=t,_(e)?I(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw b(e,t),t}))}(e).then((function(){E(e,t,n,i-1)}))})).catch(n);n(o)}}var A={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=e[i];var o=l[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},l[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=x);var a=[];function s(){return r.resolve()}for(var c=0;c<o.forages.length;c++){var u=o.forages[c];u!==t&&a.push(u._initReady().catch(s))}var d=o.forages.slice(0);return r.all(a).then((function(){return n.db=o.db,w(n)})).then((function(e){return n.db=e,_(n,t._defaultConfig.version)?I(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<d.length;r++){var i=d[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))},_support:function(){try{if(!e||!e.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,o=new r((function(t,r){n.ready().then((function(){E(n._dbInfo,p,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;S(r)&&(r=C(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return i(o,t),o},getItem:function(e,t){var n=this;e=s(e);var o=new r((function(t,r){n.ready().then((function(){E(n._dbInfo,p,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),S(e)&&(e=C(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return i(o,t),o},setItem:function(e,t,n){var o=this;e=s(e);var a=new r((function(n,i){var a;o.ready().then((function(){return a=o._dbInfo,"[object Blob]"===f.call(t)?g(a.db).then((function(e){return e?t:(n=t,new r((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){E(o._dbInfo,m,(function(r,a){if(r)return i(r);try{var s=a.objectStore(o._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return i(a,n),a},removeItem:function(e,t){var n=this;e=s(e);var o=new r((function(t,r){n.ready().then((function(){E(n._dbInfo,m,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return i(o,t),o},clear:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){E(t._dbInfo,m,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return i(n,e),n},length:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){E(t._dbInfo,p,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return i(n,e),n},key:function(e,t){var n=this,o=new r((function(t,r){e<0?t(null):n.ready().then((function(){E(n._dbInfo,p,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return i(o,t),o},keys:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){E(t._dbInfo,p,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return i(n,e),n},dropInstance:function(t,n){n=c.apply(this,arguments);var o=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||o.name,t.storeName=t.storeName||o.storeName);var a,s=this;if(t.name){var u=t.name===o.name&&s._dbInfo.db,d=u?r.resolve(s._dbInfo.db):w(t).then((function(e){var n=l[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e}));a=t.storeName?d.then((function(n){if(n.objectStoreNames.contains(t.storeName)){var i=n.version+1;h(t);var o=l[t.name],a=o.forages;n.close();for(var s=0;s<a.length;s++){var c=a[s];c._dbInfo.db=null,c._dbInfo.version=i}var u=new r((function(n,r){var o=e.open(t.name,i);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var e=o.result;e.close(),n(e)}}));return u.then((function(e){o.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,v(n._dbInfo)}})).catch((function(e){throw(b(t,e)||r.resolve()).catch((function(){})),e}))}})):d.then((function(n){h(t);var i=l[t.name],o=i.forages;n.close();for(var a=0;a<o.length;a++)o[a]._dbInfo.db=null;var s=new r((function(n,r){var i=e.deleteDatabase(t.name);i.onerror=function(){var e=i.result;e&&e.close(),r(i.error)},i.onblocked=function(){},i.onsuccess=function(){var e=i.result;e&&e.close(),n(e)}}));return s.then((function(e){i.db=e;for(var t=0;t<o.length;t++)v(o[t]._dbInfo)})).catch((function(e){throw(b(t,e)||r.resolve()).catch((function(){})),e}))}))}else a=r.reject("Invalid arguments");return i(a,n),a}},T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",j=k.length,R="arbf",z="blob",D="si08",B="ui08",P="uic8",N="si16",F="si32",U="ur16",M="ui32",q="fl32",L="fl64",W=j+R.length,H=Object.prototype.toString;function V(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<s;t+=4)n=T.indexOf(e[t]),r=T.indexOf(e[t+1]),i=T.indexOf(e[t+2]),o=T.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|i>>2,d[c++]=(3&i)<<6|63&o;return u}function G(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=T[n[t]>>2],r+=T[(3&n[t])<<4|n[t+1]>>4],r+=T[(15&n[t+1])<<2|n[t+2]>>6],r+=T[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var J={serialize:function(e,t){var n="";if(e&&(n=H.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===H.call(e.buffer))){var r,i=k;e instanceof ArrayBuffer?(r=e,i+=R):(r=e.buffer,"[object Int8Array]"===n?i+=D:"[object Uint8Array]"===n?i+=B:"[object Uint8ClampedArray]"===n?i+=P:"[object Int16Array]"===n?i+=N:"[object Uint16Array]"===n?i+=U:"[object Int32Array]"===n?i+=F:"[object Uint32Array]"===n?i+=M:"[object Float32Array]"===n?i+=q:"[object Float64Array]"===n?i+=L:t(new Error("Failed to get type for BinaryArray"))),t(i+G(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+G(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,j)!==k)return JSON.parse(e);var t,r=e.substring(W),i=e.substring(j,W);if(i===z&&O.test(r)){var o=r.match(O);t=o[1],r=r.substring(o[0].length)}var a=V(r);switch(i){case R:return a;case z:return n([a],{type:t});case D:return new Int8Array(a);case B:return new Uint8Array(a);case P:return new Uint8ClampedArray(a);case N:return new Int16Array(a);case U:return new Uint16Array(a);case F:return new Int32Array(a);case M:return new Uint32Array(a);case q:return new Float32Array(a);case L:return new Float64Array(a);default:throw new Error("Unkown type: "+i)}},stringToBuffer:V,bufferToString:G};function $(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS ".concat(t.storeName," ")+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function K(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):$(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function X(e,t,n,o){var a=this;e=s(e);var c=new r((function(r,i){a.ready().then((function(){void 0===t&&(t=null);var s=t,c=a._dbInfo;c.serializer.serialize(t,(function(t,u){u?i(u):c.db.transaction((function(n){K(n,c,"INSERT OR REPLACE INTO ".concat(c.storeName," ")+"(key, value) VALUES (?, ?)",[e,t],(function(){r(s)}),(function(e,t){i(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(o>0)return void r(X.apply(a,[e,s,n,o-1]));i(t)}}))}))})).catch(i)}));return i(c,n),c}function Q(e){return new r((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var Y={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var i in e)n[i]="string"!=typeof e[i]?e[i].toString():e[i];var o=new r((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){$(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=J,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,o=new r((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){K(n,i,"SELECT * FROM ".concat(i.storeName),[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return i(o,t),o},getItem:function(e,t){var n=this;e=s(e);var o=new r((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){K(n,i,"SELECT * FROM ".concat(i.storeName," WHERE key = ? LIMIT 1"),[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return i(o,t),o},setItem:function(e,t,n){return X.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=s(e);var o=new r((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){K(n,i,"DELETE FROM ".concat(i.storeName," WHERE key = ?"),[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return i(o,t),o},clear:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){K(t,r,"DELETE FROM ".concat(r.storeName),[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return i(n,e),n},length:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){K(t,r,"SELECT COUNT(key) as c FROM ".concat(r.storeName),[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return i(n,e),n},key:function(e,t){var n=this,o=new r((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){K(n,i,"SELECT key FROM ".concat(i.storeName," WHERE id = ? LIMIT 1"),[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return i(o,t),o},keys:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){K(t,r,"SELECT key FROM ".concat(r.storeName),[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return i(n,e),n},dropInstance:function(e,t){t=c.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var o,a=this;return i(o=e.name?new r((function(t){var r;r=e.name===n.name?a._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Q(r))})).then((function(e){return new r((function(t,n){e.db.transaction((function(i){function o(e){return new r((function(t,n){i.executeSql("DROP TABLE IF EXISTS ".concat(e),[],(function(){t()}),(function(e,t){n(t)}))}))}for(var a=[],s=0,c=e.storeNames.length;s<c;s++)a.push(o(e.storeNames[s]));r.all(a).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):r.reject("Invalid arguments"),t),o}};function Z(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ee(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var te={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=Z(e,this._defaultConfig),ee()?(this._dbInfo=t,t.serializer=J,r.resolve()):r.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(i),a++)))return u}}}));return i(r,t),r},getItem:function(e,t){var n=this;e=s(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return i(r,t),r},setItem:function(e,t,n){var o=this;e=s(e);var a=o.ready().then((function(){void 0===t&&(t=null);var n=t;return new r((function(r,i){var a=o._dbInfo;a.serializer.serialize(t,(function(t,o){if(o)i(o);else try{localStorage.setItem(a.keyPrefix+e,t),r(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}}))}))}));return i(a,n),a},removeItem:function(e,t){var n=this;e=s(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return i(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return i(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return i(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return i(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return i(n,e),n},dropInstance:function(e,t){if(t=c.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var o,a=this;return o=e.name?new r((function(t){e.storeName?t(Z(e,a._defaultConfig)):t("".concat(e.name,"/"))})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):r.reject("Invalid arguments"),i(o,t),o}},ne=function(e,t){for(var n,r,i=e.length,o=0;o<i;){if((n=e[o])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},re=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},oe={},ae={INDEXEDDB:A,WEBSQL:Y,LOCALSTORAGE:te},se=[ae.INDEXEDDB._driver,ae.WEBSQL._driver,ae.LOCALSTORAGE._driver],ce=["dropInstance"],ue=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ce),de={description:"",driver:se.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function le(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function fe(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(re(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}class pe{constructor(e){for(var t in ae)if(ae.hasOwnProperty(t)){var n=ae[t],r=n._driver;this[t]=r,ie[r]||this.defineDriver(n)}this._defaultConfig=fe({},de),this._config=fe({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}config(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config}defineDriver(e,t,n){var o=new r((function(t,n){try{var o=e._driver,a=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(a);for(var s=ue.concat("_initStorage"),c=0,u=s.length;c<u;c++){var d=s[c];if((!ne(ce,d)||e[d])&&"function"!=typeof e[d])return void n(a)}!function(){for(var t=function(e){return function(){var t=new Error("Method ".concat(e," is not implemented by the current driver")),n=r.reject(t);return i(n,arguments[arguments.length-1]),n}},n=0,o=ce.length;n<o;n++){var a=ce[n];e[a]||(e[a]=t(a))}}();var l=function(n){ie[o]&&console.info("Redefining LocalForage driver: ".concat(o)),ie[o]=e,oe[o]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,n):l(!!e._support):l(!0)}catch(e){n(e)}}));return a(o,t,n),o}driver(){return this._driver||null}getDriver(e,t,n){var i=ie[e]?r.resolve(ie[e]):r.reject(new Error("Driver not found."));return a(i,t,n),i}getSerializer(e){var t=r.resolve(J);return a(t,e),t}ready(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return a(n,e,e),n}setDriver(e,t,n){var i=this;re(e)||(e=[e]);var o=this._getSupportedDrivers(e);function s(){i._config.driver=i.driver()}function c(e){return i._extend(e),s(),i._ready=i._initStorage(i._config),i._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return r.resolve()})):r.resolve();return this._driverSet=u.then((function(){var e=o[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then((function(e){i._driver=e._driver,s(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var o=e[t];return t++,i._dbInfo=null,i._ready=null,i.getDriver(o).then(c).catch(n)}s();var a=new Error("No available storage method found.");return i._driverSet=r.reject(a),i._driverSet}()}}(o)}))})).catch((function(){s();var e=new Error("No available storage method found.");return i._driverSet=r.reject(e),i._driverSet})),a(this._driverSet,t,n),this._driverSet}supports(e){return!!oe[e]}_extend(e){fe(this,e)}_getSupportedDrivers(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t}_wrapLibraryMethodsWithReady(){for(var e=0,t=ue.length;e<t;e++)le(this,ue[e])}createInstance(e){return new pe(e)}}function me(e){var t=e+"=",n=decodeURIComponent(document.cookie).split(";").map((function(e){return e.trim()})).find((function(e){return 0==e.indexOf(t)}));return n?n.substring(t.length):""}new pe;var ge="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},he={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Boolean]",a="[object Date]",s="[object Function]",c="[object GeneratorFunction]",u="[object Map]",d="[object Number]",l="[object Object]",f="[object Promise]",p="[object RegExp]",m="[object Set]",g="[object String]",h="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",y="[object DataView]",w="[object Float32Array]",I="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",x="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]",O=/\w*$/,k=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,R={};R[i]=R["[object Array]"]=R[b]=R[y]=R[o]=R[a]=R[w]=R[I]=R[_]=R[C]=R[S]=R[u]=R[d]=R[l]=R[p]=R[m]=R[g]=R[h]=R[x]=R[E]=R[A]=R[T]=!0,R["[object Error]"]=R[s]=R[v]=!1;var z="object"==typeof ge&&ge&&ge.Object===Object&&ge,D="object"==typeof self&&self&&self.Object===Object&&self,B=z||D||Function("return this")(),P=t&&!t.nodeType&&t,N=P&&e&&!e.nodeType&&e,F=N&&N.exports===P;function U(e,t){return e.set(t[0],t[1]),e}function M(e,t){return e.add(t),e}function q(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function L(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function H(e,t){return function(n){return e(t(n))}}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var G,J=Array.prototype,$=Function.prototype,K=Object.prototype,X=B["__core-js_shared__"],Q=(G=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Y=$.toString,Z=K.hasOwnProperty,ee=K.toString,te=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=F?B.Buffer:void 0,re=B.Symbol,ie=B.Uint8Array,oe=H(Object.getPrototypeOf,Object),ae=Object.create,se=K.propertyIsEnumerable,ce=J.splice,ue=Object.getOwnPropertySymbols,de=ne?ne.isBuffer:void 0,le=H(Object.keys,Object),fe=Fe(B,"DataView"),pe=Fe(B,"Map"),me=Fe(B,"Promise"),he=Fe(B,"Set"),ve=Fe(B,"WeakMap"),be=Fe(Object,"create"),ye=We(fe),we=We(pe),Ie=We(me),_e=We(he),Ce=We(ve),Se=re?re.prototype:void 0,xe=Se?Se.valueOf:void 0;function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){this.__data__=new Ae(e)}function ke(e,t){var n=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&Z.call(e,"callee")&&(!se.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!Z.call(e,a)||o&&("length"==a||qe(a,r))||n.push(a);return n}function je(e,t,n){var r=e[t];Z.call(e,t)&&He(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Re(e,t){for(var n=e.length;n--;)if(He(e[n][0],t))return n;return-1}function ze(e,t,n,r,f,v,k){var j;if(r&&(j=v?r(e,f,v,k):r(e)),void 0!==j)return j;if(!Ke(e))return e;var z=Ve(e);if(z){if(j=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,j)}else{var D=Me(e),B=D==s||D==c;if(Je(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(D==l||D==i||B&&!v){if(L(e))return v?e:{};if(j=function(e){return"function"!=typeof e.constructor||Le(e)?{}:Ke(t=oe(e))?ae(t):{};var t}(B?{}:e),!t)return function(e,t){return Pe(e,Ue(e),t)}(e,function(e,t){return e&&Pe(t,Xe(t),e)}(j,e))}else{if(!R[D])return v?e:{};j=function(e,t,n,r){var i,s=e.constructor;switch(t){case b:return Be(e);case o:case a:return new s(+e);case y:return function(e,t){var n=t?Be(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case w:case I:case _:case C:case S:case x:case E:case A:case T:return function(e,t){var n=t?Be(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return q(t?n(W(e),!0):W(e),U,new e.constructor)}(e,r,n);case d:case g:return new s(e);case p:return function(e){var t=new e.constructor(e.source,O.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return q(t?n(V(e),!0):V(e),M,new e.constructor)}(e,r,n);case h:return i=e,xe?Object(xe.call(i)):{}}}(e,D,ze,t)}}k||(k=new Oe);var P=k.get(e);if(P)return P;if(k.set(e,j),!z)var N=n?function(e){return function(e,t,n){var r=t(e);return Ve(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Xe,Ue)}(e):Xe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(N||e,(function(i,o){N&&(i=e[o=i]),je(j,o,ze(i,t,n,r,o,e,k))})),j}function De(e){return!(!Ke(e)||(t=e,Q&&Q in t))&&($e(e)||L(e)?te:k).test(We(e));var t}function Be(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Pe(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;je(n,a,void 0===s?e[a]:s)}return n}function Ne(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}Ee.prototype.clear=function(){this.__data__=be?be(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(be){var r=t[e];return r===n?void 0:r}return Z.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:Z.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?n:t,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(e){var t=this.__data__,n=Re(t,e);return!(n<0||(n==t.length-1?t.pop():ce.call(t,n,1),0))},Ae.prototype.get=function(e){var t=this.__data__,n=Re(t,e);return n<0?void 0:t[n][1]},Ae.prototype.has=function(e){return Re(this.__data__,e)>-1},Ae.prototype.set=function(e,t){var n=this.__data__,r=Re(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new Ee,map:new(pe||Ae),string:new Ee}},Te.prototype.delete=function(e){return Ne(this,e).delete(e)},Te.prototype.get=function(e){return Ne(this,e).get(e)},Te.prototype.has=function(e){return Ne(this,e).has(e)},Te.prototype.set=function(e,t){return Ne(this,e).set(e,t),this},Oe.prototype.clear=function(){this.__data__=new Ae},Oe.prototype.delete=function(e){return this.__data__.delete(e)},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ae){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Te(r)}return n.set(e,t),this};var Ue=ue?H(ue,Object):function(){return[]},Me=function(e){return ee.call(e)};function qe(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function Le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||K)}function We(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(fe&&Me(new fe(new ArrayBuffer(1)))!=y||pe&&Me(new pe)!=u||me&&Me(me.resolve())!=f||he&&Me(new he)!=m||ve&&Me(new ve)!=v)&&(Me=function(e){var t=ee.call(e),n=t==l?e.constructor:void 0,r=n?We(n):void 0;if(r)switch(r){case ye:return y;case we:return u;case Ie:return f;case _e:return m;case Ce:return v}return t});var Ve=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!$e(e)}var Je=de||function(){return!1};function $e(e){var t=Ke(e)?ee.call(e):"";return t==s||t==c}function Ke(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return Ge(e)?ke(e):function(e){if(!Le(e))return le(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return ze(e,!0,!0)}}(he,he.exports);var ve=function(e){return zamaf.config.options.prebid.prebidTimeout||3e3},be="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function ye(){throw new Error("setTimeout has not been defined")}function we(){throw new Error("clearTimeout has not been defined")}var Ie=ye,_e=we;function Ce(e){if(Ie===setTimeout)return setTimeout(e,0);if((Ie===ye||!Ie)&&setTimeout)return Ie=setTimeout,setTimeout(e,0);try{return Ie(e,0)}catch(t){try{return Ie.call(null,e,0)}catch(t){return Ie.call(this,e,0)}}}"function"==typeof be.setTimeout&&(Ie=setTimeout),"function"==typeof be.clearTimeout&&(_e=clearTimeout);var Se,xe=[],Ee=!1,Ae=-1;function Te(){Ee&&Se&&(Ee=!1,Se.length?xe=Se.concat(xe):Ae=-1,xe.length&&Oe())}function Oe(){if(!Ee){var e=Ce(Te);Ee=!0;for(var t=xe.length;t;){for(Se=xe,xe=[];++Ae<t;)Se&&Se[Ae].run();Ae=-1,t=xe.length}Se=null,Ee=!1,function(e){if(_e===clearTimeout)return clearTimeout(e);if((_e===we||!_e)&&clearTimeout)return _e=clearTimeout,clearTimeout(e);try{_e(e)}catch(t){try{return _e.call(null,e)}catch(t){return _e.call(this,e)}}}(e)}}function ke(e,t){this.fun=e,this.array=t}function je(){}ke.prototype.run=function(){this.fun.apply(null,this.array)};var Re,ze,De=je,Be=je,Pe=je,Ne=je,Fe=je,Ue=je,Me=je,qe=be.performance||{},Le=qe.now||qe.mozNow||qe.msNow||qe.oNow||qe.webkitNow||function(){return(new Date).getTime()},We=new Date,He={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];xe.push(new ke(e,t)),1!==xe.length||Ee||Ce(Oe)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:De,addListener:Be,once:Pe,off:Ne,removeListener:Fe,removeAllListeners:Ue,emit:Me,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Le.call(qe),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-We)/1e3}},Ve={exports:{}};function Ge(){if(ze)return Re;ze=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return Re=function(s,c){c=c||{};var u=typeof s;if("string"===u&&s.length>0)return function(a){if(!((a=String(a)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(s){var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(s);if("number"===u&&isFinite(s))return c.long?function(i){var o=Math.abs(i);return o>=r?a(i,o,r,"day"):o>=n?a(i,o,n,"hour"):o>=t?a(i,o,t,"minute"):o>=e?a(i,o,e,"second"):i+" ms"}(s):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}var Je,$e,Ke=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n);var d=o.log||t.log;d.apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(o(t.names.map(r)),o(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Ge(),t.destroy=function(){},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};function Xe(e){var t=this;if(!e.getAdUnitPath)return"unknown slot";var n,r={};return(e&&e.getTargetingKeys&&e.getTargetingKeys()||[]).forEach((function(n){r[n]=e.getTargeting(n),0===r[n].length&&t.error(e.getSlotElementId(),"key",n,"is empty!")})),{targeting:r,adUnitPath:e.getAdUnitPath(),slotElementId:e.getSlotElementId(),slotId:e.getSlotId().toString(),sizes:(n=e.getSizes(),"fluid"===n[0]?n[0]:n.filter((function(e){return"fluid"!=e})).map((function(e){return e.getWidth?[e.getWidth(),e.getHeight()]:[0,0]}))),_slot:e}}Je=Ve,($e=Ve.exports).formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Je.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),e.splice(r,0,t)}},$e.save=function(e){try{e?$e.storage.setItem("debug",e):$e.storage.removeItem("debug")}catch(e){}},$e.load=function(){var e;try{e=$e.storage.getItem("debug")}catch(e){}return!e&&void 0!==He&&"env"in He&&(e=He.env.DEBUG),e},$e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},$e.storage=function(){try{return localStorage}catch(e){}}(),$e.destroy=function(){},$e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],$e.log=console.debug||console.log||function(){},Je.exports=Ke($e),Je.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};class Qe{constructor(e){this.namespace=e}log(){}error(){}warn(){}_slots(){}slots(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"slots",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t;void 0!==t&&(n=[]),n=Array.isArray(t)?t:[t],this._slots(e,n.filter((function(e){return!!e})).map(Xe.bind(this)))}}function Ye(e){return new Qe(e)}var Ze=Ye("utils");function et(e){var t=e.options,n=!(!t.uam||!t.uam.pubID);return Ze.log("isUamEnabled",n),n}function tt(){var e,t;Ze.slots("googletag.pubads refresh",arguments.length<=0?void 0:arguments[0]),googletag.pubads().refreshOrig?(e=googletag.pubads()).refreshOrig.apply(e,arguments):(t=googletag.pubads()).refresh.apply(t,arguments)}var nt=Ye("uam:adUnits"),rt={};function it(){return Object.values(rt)}function ot(e,t){var n=[];e.forEach((function(e){if(e&&e.slot){var t,r=(t=e.slot.getSlotElementId(),rt[t]);n&&r&&n.push(r)}})),st(n,!1,t)}function at(e){var t=[];return e.forEach((function(e){var n=zamaf.getSlotConfigByElementId(e.slotID);t.push(n.slot)})),t}function st(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=n.options.uam.bidTimeout,i=void 0===r?0:r;i=i||ve();var o=t?[]:at(e);if(!e.length)return zamaf.uamBidsRequest([],i),void zamaf.uamBidsDone([],[]);var a=!1;setTimeout(zamaf.wrap((function(){a||(nt.log("uam bids cancelled"),a=!0,zamaf.uamBidsDone(o,[]))})),i+500),apstag.fetchBids({slots:e,timeout:i},zamaf.wrap((function(e){a||(a=!0,zamaf.uamBidsDone(o,e))}))),zamaf.uamBidsRequest(o,i)}var ct=Ye("uam:events"),ut=Ye("uam:init");window.zamaf=window.zamaf||{},zamaf.cmd=window.zamaf.cmd||[],zamaf.cmd.push({event:"zaf:slots:done",once:!0,handler:function(e){return!!et(e)&&(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options.uam,n=t.pubID,r=void 0===n?"xxxx":n,i=t.adServer,o=void 0===i?"googletag":i,a=e.options.uam.bidTimeout||ve(),s=e.options.prebid.sellers,c={};if(s&&s.sellers){var u=s.sellers.map((function(e){var t=e.seller_id;return{asi:e.domain,sid:t,hp:1}}));c={ver:s.version,complete:1,nodes:u}}var d={pubID:r,adServer:o,bidTimeout:a,schain:c};if(e.enableCCPA&&zamaf&&zamaf.user&&zamaf.user.isCCPA&&(d.params={us_privacy:me("usconsent")||"1YNY"}),window.apstag){apstag.init(d);var l=it(),f=!0;zamaf.config.noDisplay||st(l,f,e)}else ut.error("apstag object not found")}(e),!0)}}),zamaf.cmd.push({event:"zaf:unit:define",prepend:!0,handler:function(e,n){var r=n.elementId,i=n.configSlot;if(et(e)){var o=t(t({},i),{},{elementId:r});ct.log("adding UAMUnit",r),function(e,t){var n=function(e){return"video"==e.type||"interscroller"==e.type||!(!e.sizes||!e.sizes.length)&&(1!==e.sizes.length||1!=e.sizes[0][0])}(e);if(!n)return nt.log("invalid config passed",e,t),!1;var r={slotID:e.elementId,slotName:e.code,sizes:e.sizes};return nt.log("bidder info passed",r),rt[e.elementId]=r,!0}(o,e.options.uam)&&!e.options.noDisplay&&pbjs.initAdserverSet&&ot([o],e)}}}),zamaf.cmd.push({event:"zaf:unit:remove",handler:function(e,t){var n=t.elementId;t.configSlot,"loading"!==document.readyState&&et(e)&&(ct.log("removing UAMUnit",n),delete rt.slotID)}}),zamaf.cmd.push({event:"zaf:bids:requested",handler:function(e,t,n,r){var i=zamaf.requestManager.createIdFromAdUnits(t);return zamaf.requestManager.resetBid(i,e),!0}}),zamaf.cmd.push({event:"zaf:bids:done",handler:function(e,t,n,r){ct.log("bidResponses",e,t,n);var i=zamaf.requestManager.createIdFromAdUnits(t);return zamaf.requestManager.setBid(i,e),zamaf.requestManager.allBidsBack(i)&&googletag.cmd.push(zamaf.wrap((function(){apstag.setDisplayBids(),t&&t.length?tt(t):tt()}))),!0}}),zamaf.cmd.push({event:"zaf:unit:refresh",handler:function(e,t){t.elementId;var n=t.configSlot;et(e)&&(ct.log("uam unit refresh",n),ot([n],e))}}),zamaf.cmd.push({event:"zaf:slots:refresh",handler:function(e,t){var n=t.configSlots;et(e)&&(ct.log("uam slots refresh",n),n&&ot(n,e))}})}(),function(){var e,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s="__lodash_hash_undefined__",c="[object Function]",u="[object GeneratorFunction]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,f=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,h="object"==typeof a&&a&&a.Object===Object&&a,v="object"==typeof self&&self&&self.Object===Object&&self,b=h||v||Function("return this")(),y=Array.prototype,w=Function.prototype,I=Object.prototype,_=b["__core-js_shared__"],C=(e=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",S=w.toString,x=I.hasOwnProperty,E=I.toString,A=RegExp("^"+S.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=b.Symbol,O=y.splice,k=q(b,"Map"),j=q(Object,"create"),R=T?T.prototype:void 0,z=R?R.toString:void 0;function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function B(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function F(e,t){var n;t=function(e,t){if(V(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!J(e))||(l.test(e)||!d.test(e)||null!=t&&e in Object(t))}(t,e)?[t]:V(n=t)?n:L(n);for(var r=0,i=t.length;null!=e&&r<i;)e=e[W(t[r++])];return r&&r==i?e:void 0}function U(e){if(!G(e)||(t=e,C&&C in t))return!1;var t,n=function(e){var t=G(e)?E.call(e):"";return t==c||t==u}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?A:g;return n.test(function(e){if(null!=e){try{return S.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function M(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function q(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return U(n)?n:void 0}D.prototype.clear=function(){this.__data__=j?j(null):{}},D.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},D.prototype.get=function(e){var t=this.__data__;if(j){var n=t[e];return n===s?void 0:n}return x.call(t,e)?t[e]:void 0},D.prototype.has=function(e){var t=this.__data__;return j?void 0!==t[e]:x.call(t,e)},D.prototype.set=function(e,t){return this.__data__[e]=j&&void 0===t?s:t,this},B.prototype.clear=function(){this.__data__=[]},B.prototype.delete=function(e){var t=this.__data__,n=N(t,e);return!(n<0||(n==t.length-1?t.pop():O.call(t,n,1),0))},B.prototype.get=function(e){var t=this.__data__,n=N(t,e);return n<0?void 0:t[n][1]},B.prototype.has=function(e){return N(this.__data__,e)>-1},B.prototype.set=function(e,t){var n=this.__data__,r=N(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},P.prototype.clear=function(){this.__data__={hash:new D,map:new(k||B),string:new D}},P.prototype.delete=function(e){return M(this,e).delete(e)},P.prototype.get=function(e){return M(this,e).get(e)},P.prototype.has=function(e){return M(this,e).has(e)},P.prototype.set=function(e,t){return M(this,e).set(e,t),this};var L=H((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(J(e))return z?z.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return f.test(e)&&n.push(""),e.replace(p,(function(e,t,r,i){n.push(r?i.replace(m,"$1"):t||e)})),n}));function W(e){if("string"==typeof e||J(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function H(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(H.Cache||P),n}H.Cache=P;var V=Array.isArray;function G(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function J(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==E.call(e)}var $=function(e,t,n){var r=null==e?void 0:F(e,t);return void 0===r?n:r},K=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},X=Q;function Q(e,t,n){e instanceof RegExp&&(e=Y(e,n)),t instanceof RegExp&&(t=Y(t,n));var r=Z(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function Y(e,t){var n=t.match(e);return n?n[0]:null}function Z(e,t,n){var r,i,o,a,s,c=n.indexOf(e),u=n.indexOf(t,c+1),d=c;if(c>=0&&u>0){if(e===t)return[c,u];for(r=[],o=n.length;d>=0&&!s;)d==c?(r.push(d),c=n.indexOf(e,d+1)):1==r.length?s=[r.pop(),u]:((i=r.pop())<o&&(o=i,a=u),u=n.indexOf(t,d+1)),d=c<u&&c>=0?c:u;r.length&&(s=[o,a])}return s}Q.range=Z;var ee=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=t(e[r],r);K(i)?n.push.apply(n,i):n.push(i)}return n},te=X,ne=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),ge(function(e){return e.split("\\\\").join(re).split("\\{").join(ie).split("\\}").join(oe).split("\\,").join(ae).split("\\.").join(se)}(e),!0).map(ue)):[]},re="\0SLASH"+Math.random()+"\0",ie="\0OPEN"+Math.random()+"\0",oe="\0CLOSE"+Math.random()+"\0",ae="\0COMMA"+Math.random()+"\0",se="\0PERIOD"+Math.random()+"\0";function ce(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function ue(e){return e.split(re).join("\\").split(ie).join("{").split(oe).join("}").split(ae).join(",").split(se).join(".")}function de(e){if(!e)return[""];var t=[],n=te("{","}",e);if(!n)return e.split(",");var r=n.pre,i=n.body,o=n.post,a=r.split(",");a[a.length-1]+="{"+i+"}";var s=de(o);return o.length&&(a[a.length-1]+=s.shift(),a.push.apply(a,s)),t.push.apply(t,a),t}function le(e){return"{"+e+"}"}function fe(e){return/^-?0\d/.test(e)}function pe(e,t){return e<=t}function me(e,t){return e>=t}function ge(e,t){var n=[],r=te("{","}",e);if(!r||/\$$/.test(r.pre))return[e];var i,o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),s=o||a,c=r.body.indexOf(",")>=0;if(!s&&!c)return r.post.match(/,.*\}/)?ge(e=r.pre+"{"+r.body+oe+r.post):[e];if(s)i=r.body.split(/\.\./);else if(1===(i=de(r.body)).length&&1===(i=ge(i[0],!1).map(le)).length)return(l=r.post.length?ge(r.post,!1):[""]).map((function(e){return r.pre+i[0]+e}));var u,d=r.pre,l=r.post.length?ge(r.post,!1):[""];if(s){var f=ce(i[0]),p=ce(i[1]),m=Math.max(i[0].length,i[1].length),g=3==i.length?Math.abs(ce(i[2])):1,h=pe;p<f&&(g*=-1,h=me);var v=i.some(fe);u=[];for(var b=f;h(b,p);b+=g){var y;if(a)"\\"===(y=String.fromCharCode(b))&&(y="");else if(y=String(b),v){var w=m-y.length;if(w>0){var I=new Array(w+1).join("0");y=b<0?"-"+I+y.slice(1):I+y}}u.push(y)}}else u=ee(i,(function(e){return ge(e,!1)}));for(var _=0;_<u.length;_++)for(var C=0;C<l.length;C++){var S=d+u[_]+l[C];(!t||s||S)&&n.push(S)}return n}var he=xe;xe.Minimatch=Ee;var ve=xe.GLOBSTAR=Ee.GLOBSTAR={},be=ne,ye={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},we="[^/]",Ie="[^/]*?",_e="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),Ce=/\/+/;function Se(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function xe(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new Ee(t,n).match(e))}function Ee(e,t){if(!(this instanceof Ee))return new Ee(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function Ae(e,t){if(t||(t=this instanceof Ee?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:be(e)}xe.filter=function(e,t){return t=t||{},function(n,r,i){return xe(n,e,t)}},xe.defaults=function(e){if(!e||!Object.keys(e).length)return xe;var t=xe,n=function(n,r,i){return t.minimatch(n,r,Se(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,Se(e,r))},n},Ee.defaults=function(e){return e&&Object.keys(e).length?xe.defaults(e).Minimatch:Ee},Ee.prototype.debug=function(){},Ee.prototype.make=function(){if(!this._made){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(Ce)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0}},Ee.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(!n.nonegate){for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}},xe.braceExpand=function(e,t){return Ae(e,t)},Ee.prototype.braceExpand=Ae,Ee.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return ve;if(""===e)return"";var r,i="",o=!!n.nocase,a=!1,s=[],c=[],u=!1,d=-1,l=-1,f="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function m(){if(r){switch(r){case"*":i+=Ie,o=!0;break;case"?":i+=we,o=!0;break;default:i+="\\"+r}p.debug("clearStateChar %j %j",r,i),r=!1}}for(var g,h=0,v=e.length;h<v&&(g=e.charAt(h));h++)if(this.debug("%s\t%s %s %j",e,h,i,g),a&&_e[g])i+="\\"+g,a=!1;else switch(g){case"/":return!1;case"\\":m(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,h,i,g),u){this.debug("  in class"),"!"===g&&h===l+1&&(g="^"),i+=g;continue}p.debug("call clearStateChar %j",r),m(),r=g,n.noext&&m();continue;case"(":if(u){i+="(";continue}if(!r){i+="\\(";continue}s.push({type:r,start:h-1,reStart:i.length,open:ye[r].open,close:ye[r].close}),i+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,i),r=!1;continue;case")":if(u||!s.length){i+="\\)";continue}m(),o=!0;var b=s.pop();i+=b.close,"!"===b.type&&c.push(b),b.reEnd=i.length;continue;case"|":if(u||!s.length||a){i+="\\|",a=!1;continue}m(),i+="|";continue;case"[":if(m(),u){i+="\\"+g;continue}u=!0,l=h,d=i.length,i+=g;continue;case"]":if(h===l+1||!u){i+="\\"+g,a=!1;continue}if(u){var y=e.substring(l+1,h);try{RegExp("["+y+"]")}catch(e){var w=this.parse(y,Te);i=i.substr(0,d)+"\\["+w[0]+"\\]",o=o||w[1],u=!1;continue}}o=!0,u=!1,i+=g;continue;default:m(),a?a=!1:!_e[g]||"^"===g&&u||(i+="\\"),i+=g}for(u&&(y=e.substr(l+1),w=this.parse(y,Te),i=i.substr(0,d)+"\\["+w[0],o=o||w[1]),b=s.pop();b;b=s.pop()){var I=i.slice(b.reStart+b.open.length);this.debug("setting tail",i,b),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",I,I,b,i);var _="*"===b.type?Ie:"?"===b.type?we:"\\"+b.type;o=!0,i=i.slice(0,b.reStart)+_+"\\("+I}m(),a&&(i+="\\\\");var C=!1;switch(i.charAt(0)){case".":case"[":case"(":C=!0}for(var S=c.length-1;S>-1;S--){var x=c[S],E=i.slice(0,x.reStart),A=i.slice(x.reStart,x.reEnd-8),T=i.slice(x.reEnd-8,x.reEnd),O=i.slice(x.reEnd);T+=O;var k=E.split("(").length-1,j=O;for(h=0;h<k;h++)j=j.replace(/\)[+*?]?/,"");var R="";""===(O=j)&&t!==Te&&(R="$"),i=E+A+O+R+T}if(""!==i&&o&&(i="(?=.)"+i),C&&(i=f+i),t===Te)return[i,o];if(!o)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var z=n.nocase?"i":"";try{var D=new RegExp("^"+i+"$",z)}catch(e){return new RegExp("$.")}return D._glob=e,D._src=i,D};var Te={};function Oe(e){var t=e.skin,n=e.options,r=void 0===n?{}:n,i=document.body,o=r.bodySkinClass||"body--skin";document.body.className.indexOf(o)<0&&(document.body.className+=" "+o),document.body.style.background="#000 url("+t.image+") center top no-repeat fixed",document.body.style["background-position"]="center top";var a=i.insertBefore(document.createElement("a"),i.firstChild);a.className="skin--link",a.target="_blank",a.href=t.clickMacro?"".concat(t.clickMacro).concat(t.link):t.link,a.style.width="100%",a.style.height="100%",a.style.position="fixed",this.addImpressionTracker(t)}xe.makeRe=function(e,t){return new Ee(e,t||{}).makeRe()},Ee.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?Ie:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",i=e.map((function(e){return e.map((function(e){return e===ve?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(e){this.regexp=!1}return this.regexp},xe.match=function(e,t,n){var r=new Ee(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},Ee.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;e=e.split(Ce),this.debug(this.pattern,"split",e);var r,i,o=this.set;for(this.debug(this.pattern,"set",o),i=e.length-1;i>=0&&!(r=e[i]);i--);for(i=0;i<o.length;i++){var a=o[i],s=e;if(n.matchBase&&1===a.length&&(s=[r]),this.matchOne(s,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},Ee.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,a=e.length,s=t.length;i<a&&o<s;i++,o++){this.debug("matchOne loop");var c,u=t[o],d=e[i];if(this.debug(t,u,d),!1===u)return!1;if(u===ve){this.debug("GLOBSTAR",[t,u,d]);var l=i,f=o+1;if(f===s){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!r.dot&&"."===e[i].charAt(0))return!1;return!0}for(;l<a;){var p=e[l];if(this.debug("\nglobstar while",e,l,t,f,p),this.matchOne(e.slice(l),t.slice(f),n))return this.debug("globstar found match!",l,a,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,l,t,f);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!n||(this.debug("\n>>> no match, partial?",e,l,t,f),l!==a))}if("string"==typeof u?(c=r.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,c)):(c=d.match(u),this.debug("pattern match",u,d,c)),!c)return!1}if(i===a&&o===s)return!0;if(i===a)return n;if(o===s)return i===a-1&&""===e[i];throw new Error("wtf?")};var ke="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function je(){throw new Error("setTimeout has not been defined")}function Re(){throw new Error("clearTimeout has not been defined")}var ze=je,De=Re;function Be(e){if(ze===setTimeout)return setTimeout(e,0);if((ze===je||!ze)&&setTimeout)return ze=setTimeout,setTimeout(e,0);try{return ze(e,0)}catch(t){try{return ze.call(null,e,0)}catch(t){return ze.call(this,e,0)}}}"function"==typeof ke.setTimeout&&(ze=setTimeout),"function"==typeof ke.clearTimeout&&(De=clearTimeout);var Pe,Ne=[],Fe=!1,Ue=-1;function Me(){Fe&&Pe&&(Fe=!1,Pe.length?Ne=Pe.concat(Ne):Ue=-1,Ne.length&&qe())}function qe(){if(!Fe){var e=Be(Me);Fe=!0;for(var t=Ne.length;t;){for(Pe=Ne,Ne=[];++Ue<t;)Pe&&Pe[Ue].run();Ue=-1,t=Ne.length}Pe=null,Fe=!1,function(e){if(De===clearTimeout)return clearTimeout(e);if((De===Re||!De)&&clearTimeout)return De=clearTimeout,clearTimeout(e);try{De(e)}catch(t){try{return De.call(null,e)}catch(t){return De.call(this,e)}}}(e)}}function Le(e,t){this.fun=e,this.array=t}function We(){}Le.prototype.run=function(){this.fun.apply(null,this.array)};var He,Ve,Ge=We,Je=We,$e=We,Ke=We,Xe=We,Qe=We,Ye=We,Ze=ke.performance||{},et=Ze.now||Ze.mozNow||Ze.msNow||Ze.oNow||Ze.webkitNow||function(){return(new Date).getTime()},tt=new Date,nt={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Ne.push(new Le(e,t)),1!==Ne.length||Fe||Be(qe)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Ge,addListener:Je,once:$e,off:Ke,removeListener:Xe,removeAllListeners:Qe,emit:Ye,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*et.call(Ze),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-tt)/1e3}},rt={exports:{}};function it(){if(Ve)return He;Ve=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return He=function(s,c){c=c||{};var u=typeof s;if("string"===u&&s.length>0)return function(a){if(!((a=String(a)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(s){var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(s);if("number"===u&&isFinite(s))return c.long?function(i){var o=Math.abs(i);return o>=r?a(i,o,r,"day"):o>=n?a(i,o,n,"hour"):o>=t?a(i,o,t,"minute"):o>=e?a(i,o,e,"second"):i+" ms"}(s):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))},He}var ot,at,st=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n);var d=o.log||t.log;d.apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(o(t.names.map(r)),o(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=it(),t.destroy=function(){},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};function ct(e){var t=this;if(!e.getAdUnitPath)return"unknown slot";var n,r={};return(e&&e.getTargetingKeys&&e.getTargetingKeys()||[]).forEach((function(n){r[n]=e.getTargeting(n),0===r[n].length&&t.error(e.getSlotElementId(),"key",n,"is empty!")})),{targeting:r,adUnitPath:e.getAdUnitPath(),slotElementId:e.getSlotElementId(),slotId:e.getSlotId().toString(),sizes:(n=e.getSizes(),"fluid"===n[0]?n[0]:n.filter((function(e){return"fluid"!=e})).map((function(e){return e.getWidth?[e.getWidth(),e.getHeight()]:[0,0]}))),_slot:e}}ot=rt,(at=rt.exports).formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+ot.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),e.splice(r,0,t)}},at.save=function(e){try{e?at.storage.setItem("debug",e):at.storage.removeItem("debug")}catch(e){}},at.load=function(){var e;try{e=at.storage.getItem("debug")}catch(e){}return!e&&void 0!==nt&&"env"in nt&&(e=nt.env.DEBUG),e},at.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},at.storage=function(){try{return localStorage}catch(e){}}(),at.destroy=function(){},at.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],at.log=console.debug||console.log||function(){},ot.exports=st(at),ot.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};class ut{constructor(e){this.namespace=e}log(){}error(){}warn(){}_slots(){}slots(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"slots",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t;void 0!==t&&(n=[]),n=Array.isArray(t)?t:[t],this._slots(e,n.filter((function(e){return!!e})).map(ct.bind(this)))}}function dt(e){return new ut(e)}var lt=dt("utils");function ft(e){return Array.prototype.slice.call(e)}function pt(e){return document.getElementById(e)}function mt(e){for(var t=0,n=0;e;)"BODY"==e.tagName?(t+=e.offsetLeft-0+e.clientLeft,n+=e.offsetTop-0+e.clientTop):(t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop),e=e.offsetParent;return{left:t,top:n}}function gt(e){if("loading"===document.readyState){var t=!1;document.addEventListener("readystatechange",(function(){t||"complete"!==document.readyState&&"interactive"!==document.readyState||(t=!0,e())}))}else e()}function ht(){var e=50;return zamaf.user.isDesktop||(e+=100),e}function vt(e,t){var n=function(e,t){return t?e.filter((function(e){e.excludes=e.excludes||[];var n=e.excludes.indexOf(t.toLowerCase())<0;if(!n){var r='Slot was filtered out because it is configured to exclude "'.concat(t,'"');lt.log(r),zamaf.rejectedSlotEvent(e,{reason:r,code:1e3})}return n})):(lt.log("filterSlotsByDeviceType: no deviceType specified"),e)}(e,t);return function(e){return e.filter((function(e){return e.minWindowWidth&&window.innerWidth<e.minWindowWidth?(lt.log("Slot filtered due to minWindowWidth",e),!1):e.maxWindowWidth&&window.innerWidth>e.maxWindowWidth?(lt.log("Slot filtered due to maxWindowWidth",e),!1):e.minWindowHeight&&window.innerHeight<e.minWindowHeight?(lt.log("Slot filtered due to minWindowHeight",e),!1):!(e.maxWindowHeight&&window.innerHeight>e.maxWindowHeight&&(lt.log("Slot filtered due to maxWindowHeight",e),1))}))}(n)}function bt(e){return"video"==e.type||"interscroller"==e.type||!(!e.sizes||!e.sizes.length)&&(1!==e.sizes.length||1!=e.sizes[0][0])}function yt(e){return!!e&&""!==e.getSlotElementId()}var wt=dt("updateConfig");function It(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"undefined"==typeof ga&&t<100?setTimeout((function(){It(e,t++)}),100):e()}function _t(e){ga("send","event","ab-test","AB-TEST "+e,{nonInteraction:!0})}function Ct(){pbjs.que.push((function(){pbjs.enableAnalytics([{provider:"ga",options:{enableDistribution:!1}}])}))}var St={doesGaExistDefer:It,sendABConfigToAnalytics:_t,prebidEnableGa:Ct,setupAnalytics:function(e){var t,n,r=e.options,i=[];return r.sendAnalytics&&e.name&&i.push(_t.bind(null,e.name)),r.prebid&&(t=r.prebid,(void 0===(n=t.modules)?[]:n).some((function(e){return"googleAnalyticsAdapter"===e})))&&i.push(Ct),i.length>0&&It((function(){i.forEach((function(e){return e()}))})),i}},xt=dt("requestmanager"),Et={_bidManagement:{},_bidders:[],init:function(e){this._bidManagement={},this._bidders=[],function(e){var t=e.options,n=!(!t.uam||!t.uam.pubID);return lt.log("isUamEnabled",n),n}(e)&&this.pushBidder("a9"),function(e){var t=e.options;return lt.log("isPBJSEnabled",!!t.prebid&&0!==Object.keys(t.prebid).length),!!t.prebid&&0!==Object.keys(t.prebid).length}(e)&&this.pushBidder("pbjs")},createIdFromAdUnits:function(e){return e.map((function(e){return e.getSlotElementId&&e.getSlotElementId()})).join("")||"init"},pushBidder:function(e){this._bidders.indexOf(e)<0&&this._bidders.push(e)},getBids:function(e){return this._bidManagement[e]},initBid:function(e){var t=this;this._bidManagement[e]||(this._bidManagement[e]={},this._bidders.forEach((function(n){t._bidManagement[e][n]=!1}))),xt.log("initBid",e,JSON.stringify(this._bidManagement))},setBid:function(e,t){this.initBid(e),this._bidManagement[e][t]=!0,xt.log("setBid",e,t,JSON.stringify(this._bidManagement))},resetBid:function(e,t){return this.initBid(e),this._bidManagement[e][t]=!1,xt.log("resetBid",e,t,JSON.stringify(this._bidManagement)),this._bidManagement[e]},resetBids:function(e){var t=this;return this.initBid(e),this._bidders.forEach((function(n){t._bidManagement[e][n]=!1})),this._bidManagement[e]},allBidsBack:function(e){var t=this,n=this._bidders.map((function(n){return t._bidManagement[e][n]})).filter(Boolean).length===this._bidders.length;return xt.log("bidsback",e,this._bidders,JSON.stringify(this._bidManagement),n),n}},At=dt("auctionManager"),Tt={bidStore:{},_addToStore:function(e,t,n){At.log("adding bid to store",n),this.bidStore[e][t]=n},_isInStore:function(e,t){return this.bidStore[e]&&this.bidStore[e][t]},_getFromStore:function(e,t){return!!this._isInStore(e,t)&&this.bidStore[e][t]},_cleanupStore:function(e){var t=this;At.log("cleaning up store",e),e.forEach((function(e){delete t.bidStore[e],t.bidStore[e]={}}))},cacheBids:function(e){var t=this;this._cleanupStore(e.adUnitCodes),e.bidsReceived.forEach((function(e){var n=e.adUnitCode,r=e.adId;t._addToStore(n,r,e)}))},getAdUnitBid:function(e,t){var n=this._getFromStore(e,t);return At.log("getting bid",e,t,n),n}},Ot=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function kt(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&require("lie/polyfill");var jt=Promise;function Rt(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function zt(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function Dt(e){return"string"!=typeof e&&(e=String(e)),e}function Bt(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var Pt,Nt="local-forage-detect-blob-support",Ft={},Ut=Object.prototype.toString,Mt="readonly",qt="readwrite";function Lt(e){return"boolean"==typeof Pt?jt.resolve(Pt):function(e){return new jt((function(t){var n=e.transaction(Nt,qt),r=kt([""]);n.objectStore(Nt).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return Pt=e}))}function Wt(e){var t=Ft[e.name],n={};n.promise=new jt((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function Ht(e){var t=Ft[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function Vt(e,t){var n=Ft[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function Gt(e,t){return new jt((function(n,r){if(Ft[e.name]=Ft[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);Wt(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=Ot.open.apply(Ot,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(Nt)}catch(e){if("ConstraintError"!==e.name)throw e}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),Ht(e)}}))}function Jt(e){return Gt(e,!1)}function $t(e){return Gt(e,!0)}function Kt(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function Xt(e){var t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data));return kt([t],{type:e.type})}function Qt(e){return e&&e.__local_forage_encoded_blob}function Yt(e){var t=this,n=t._initReady().then((function(){var e=Ft[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return zt(n,e,e),n}function Zt(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return jt.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),$t(e)})).then((function(){return function(e){Wt(e);for(var t=Ft[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,Jt(e).then((function(t){return e.db=t,Kt(e)?$t(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw Vt(e,t),t}))}(e).then((function(){Zt(e,t,n,r-1)}))})).catch(n);n(i)}}var en={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=Ft[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},Ft[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=Yt);var o=[];function a(){return jt.resolve()}for(var s=0;s<i.forages.length;s++){var c=i.forages[s];c!==t&&o.push(c._initReady().catch(a))}var u=i.forages.slice(0);return jt.all(o).then((function(){return n.db=i.db,Jt(n)})).then((function(e){return n.db=e,Kt(n,t._defaultConfig.version)?$t(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var o=u[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!Ot||!Ot.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new jt((function(t,r){n.ready().then((function(){Zt(n._dbInfo,Mt,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;Qt(r)&&(r=Xt(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return Rt(r,t),r},getItem:function(e,t){var n=this;e=Dt(e);var r=new jt((function(t,r){n.ready().then((function(){Zt(n._dbInfo,Mt,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),Qt(e)&&(e=Xt(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return Rt(r,t),r},setItem:function(e,t,n){var r=this;e=Dt(e);var i=new jt((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===Ut.call(t)?Lt(o.db).then((function(e){return e?t:(n=t,new jt((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){Zt(r._dbInfo,qt,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return Rt(i,n),i},removeItem:function(e,t){var n=this;e=Dt(e);var r=new jt((function(t,r){n.ready().then((function(){Zt(n._dbInfo,qt,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return Rt(r,t),r},clear:function(e){var t=this,n=new jt((function(e,n){t.ready().then((function(){Zt(t._dbInfo,qt,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return Rt(n,e),n},length:function(e){var t=this,n=new jt((function(e,n){t.ready().then((function(){Zt(t._dbInfo,Mt,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return Rt(n,e),n},key:function(e,t){var n=this,r=new jt((function(t,r){e<0?t(null):n.ready().then((function(){Zt(n._dbInfo,Mt,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return Rt(r,t),r},keys:function(e){var t=this,n=new jt((function(e,n){t.ready().then((function(){Zt(t._dbInfo,Mt,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return Rt(n,e),n},dropInstance:function(e,t){t=Bt.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;if(e.name){var o=e.name===n.name&&i._dbInfo.db,a=o?jt.resolve(i._dbInfo.db):Jt(e).then((function(t){var n=Ft[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));r=e.storeName?a.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;Wt(e);var r=Ft[e.name],i=r.forages;t.close();for(var o=0;o<i.length;o++){var a=i[o];a._dbInfo.db=null,a._dbInfo.version=n}var s=new jt((function(t,r){var i=Ot.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}));return s.then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,Ht(n._dbInfo)}})).catch((function(t){throw(Vt(e,t)||jt.resolve()).catch((function(){})),t}))}})):a.then((function(t){Wt(e);var n=Ft[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;var o=new jt((function(t,n){var r=Ot.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return o.then((function(e){n.db=e;for(var t=0;t<r.length;t++)Ht(r[t]._dbInfo)})).catch((function(t){throw(Vt(e,t)||jt.resolve()).catch((function(){})),t}))}))}else r=jt.reject("Invalid arguments");return Rt(r,t),r}},tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nn=/^~~local_forage_type~([^~]+)~/,rn="__lfsc__:",on=rn.length,an="arbf",sn="blob",cn="si08",un="ui08",dn="uic8",ln="si16",fn="si32",pn="ur16",mn="ui32",gn="fl32",hn="fl64",vn=on+an.length,bn=Object.prototype.toString;function yn(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<s;t+=4)n=tn.indexOf(e[t]),r=tn.indexOf(e[t+1]),i=tn.indexOf(e[t+2]),o=tn.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|i>>2,d[c++]=(3&i)<<6|63&o;return u}function wn(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=tn[n[t]>>2],r+=tn[(3&n[t])<<4|n[t+1]>>4],r+=tn[(15&n[t+1])<<2|n[t+2]>>6],r+=tn[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var In={serialize:function(e,t){var n="";if(e&&(n=bn.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===bn.call(e.buffer))){var r,i=rn;e instanceof ArrayBuffer?(r=e,i+=an):(r=e.buffer,"[object Int8Array]"===n?i+=cn:"[object Uint8Array]"===n?i+=un:"[object Uint8ClampedArray]"===n?i+=dn:"[object Int16Array]"===n?i+=ln:"[object Uint16Array]"===n?i+=pn:"[object Int32Array]"===n?i+=fn:"[object Uint32Array]"===n?i+=mn:"[object Float32Array]"===n?i+=gn:"[object Float64Array]"===n?i+=hn:t(new Error("Failed to get type for BinaryArray"))),t(i+wn(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+wn(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,on)!==rn)return JSON.parse(e);var t,n=e.substring(vn),r=e.substring(on,vn);if(r===sn&&nn.test(n)){var i=n.match(nn);t=i[1],n=n.substring(i[0].length)}var o=yn(n);switch(r){case an:return o;case sn:return kt([o],{type:t});case cn:return new Int8Array(o);case un:return new Uint8Array(o);case dn:return new Uint8ClampedArray(o);case ln:return new Int16Array(o);case pn:return new Uint16Array(o);case fn:return new Int32Array(o);case mn:return new Uint32Array(o);case gn:return new Float32Array(o);case hn:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:yn,bufferToString:wn};function _n(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS ".concat(t.storeName," ")+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function Cn(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):_n(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function Sn(e,t,n,r){var i=this;e=Dt(e);var o=new jt((function(o,a){i.ready().then((function(){void 0===t&&(t=null);var s=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,u){u?a(u):c.db.transaction((function(n){Cn(n,c,"INSERT OR REPLACE INTO ".concat(c.storeName," ")+"(key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Sn.apply(i,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return Rt(o,n),o}function xn(e){return new jt((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var En={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new jt((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){_n(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=In,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new jt((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Cn(n,i,"SELECT * FROM ".concat(i.storeName),[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return Rt(r,t),r},getItem:function(e,t){var n=this;e=Dt(e);var r=new jt((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Cn(n,i,"SELECT * FROM ".concat(i.storeName," WHERE key = ? LIMIT 1"),[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return Rt(r,t),r},setItem:function(e,t,n){return Sn.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=Dt(e);var r=new jt((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Cn(n,i,"DELETE FROM ".concat(i.storeName," WHERE key = ?"),[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return Rt(r,t),r},clear:function(e){var t=this,n=new jt((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Cn(t,r,"DELETE FROM ".concat(r.storeName),[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return Rt(n,e),n},length:function(e){var t=this,n=new jt((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Cn(t,r,"SELECT COUNT(key) as c FROM ".concat(r.storeName),[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return Rt(n,e),n},key:function(e,t){var n=this,r=new jt((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Cn(n,i,"SELECT key FROM ".concat(i.storeName," WHERE id = ? LIMIT 1"),[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return Rt(r,t),r},keys:function(e){var t=this,n=new jt((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Cn(t,r,"SELECT key FROM ".concat(r.storeName),[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return Rt(n,e),n},dropInstance:function(e,t){t=Bt.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return Rt(r=e.name?new jt((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(xn(r))})).then((function(e){return new jt((function(t,n){e.db.transaction((function(r){function i(e){return new jt((function(t,n){r.executeSql("DROP TABLE IF EXISTS ".concat(e),[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],a=0,s=e.storeNames.length;a<s;a++)o.push(i(e.storeNames[a]));jt.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):jt.reject("Invalid arguments"),t),r}};function An(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Tn(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var On={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=An(e,this._defaultConfig),Tn()?(this._dbInfo=t,t.serializer=In,jt.resolve()):jt.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(i),a++)))return u}}}));return Rt(r,t),r},getItem:function(e,t){var n=this;e=Dt(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return Rt(r,t),r},setItem:function(e,t,n){var r=this;e=Dt(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new jt((function(i,o){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return Rt(i,n),i},removeItem:function(e,t){var n=this;e=Dt(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return Rt(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return Rt(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return Rt(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return Rt(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return Rt(n,e),n},dropInstance:function(e,t){if(t=Bt.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new jt((function(t){e.storeName?t(An(e,i._defaultConfig)):t("".concat(e.name,"/"))})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):jt.reject("Invalid arguments"),Rt(r,t),r}},kn=function(e,t){for(var n,r,i=e.length,o=0;o<i;){if((n=e[o])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},jn=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Rn={},zn={},Dn={INDEXEDDB:en,WEBSQL:En,LOCALSTORAGE:On},Bn=[Dn.INDEXEDDB._driver,Dn.WEBSQL._driver,Dn.LOCALSTORAGE._driver],Pn=["dropInstance"],Nn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Pn),Fn={description:"",driver:Bn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Un(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function Mn(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(jn(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}class qn{constructor(e){for(var t in Dn)if(Dn.hasOwnProperty(t)){var n=Dn[t],r=n._driver;this[t]=r,Rn[r]||this.defineDriver(n)}this._defaultConfig=Mn({},Fn),this._config=Mn({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}config(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config}defineDriver(e,t,n){var r=new jt((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=Nn.concat("_initStorage"),a=0,s=o.length;a<s;a++){var c=o[a];if((!kn(Pn,c)||e[c])&&"function"!=typeof e[c])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method ".concat(e," is not implemented by the current driver")),n=jt.reject(t);return Rt(n,arguments[arguments.length-1]),n}},n=0,r=Pn.length;n<r;n++){var i=Pn[n];e[i]||(e[i]=t(i))}}();var u=function(n){Rn[r]&&console.info("Redefining LocalForage driver: ".concat(r)),Rn[r]=e,zn[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(u,n):u(!!e._support):u(!0)}catch(e){n(e)}}));return zt(r,t,n),r}driver(){return this._driver||null}getDriver(e,t,n){var r=Rn[e]?jt.resolve(Rn[e]):jt.reject(new Error("Driver not found."));return zt(r,t,n),r}getSerializer(e){var t=jt.resolve(In);return zt(t,e),t}ready(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return zt(n,e,e),n}setDriver(e,t,n){var r=this;jn(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function a(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var s=null!==this._driverSet?this._driverSet.catch((function(){return jt.resolve()})):jt.resolve();return this._driverSet=s.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}o();var s=new Error("No available storage method found.");return r._driverSet=jt.reject(s),r._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=jt.reject(e),r._driverSet})),zt(this._driverSet,t,n),this._driverSet}supports(e){return!!zn[e]}_extend(e){Mn(this,e)}_getSupportedDrivers(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t}_wrapLibraryMethodsWithReady(){for(var e=0,t=Nn.length;e<t;e++)Un(this,Nn[e])}createInstance(e){return new qn(e)}}function Ln(e){var t=e+"=",n=decodeURIComponent(document.cookie).split(";").map((function(e){return e.trim()})).find((function(e){return 0==e.indexOf(t)}));return n?n.substring(t.length):""}new qn;var Wn=dt("adTargeting");function Hn(e,t){var n=Gn(e);return new RegExp(t,"g").test(n)}function Vn(e){for(var t=!1,n=0;n<e.length;n++){var r=e[n];if(Hn(r.type,r.value)){t=!0;break}}return t}function Gn(e){switch(e){case"path":default:return window.location.pathname;case"domain":return window.location.origin.split("://")[1];case"url":return window.location.href}}function Jn(e){for(var t=document.getElementsByTagName("meta"),n=[],r=0;r<t.length;r++)t[r].getAttribute("property")===e&&n.push(t[r].getAttribute("content"));return n}var $n={getLocationAttribute:Gn,setupChannelTargeting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(e).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];if("metaTag"!==n&&Array.isArray(r)){var o=r.find((function(e){return Hn(e.type,e.value)}));o&&googletag.pubads().setTargeting(n,o.name)}}))},checkDynamicSlotTargeting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e.length&&!t.length)return!0;var n=Vn(e);if(n)return!1;if(t.length){var r=Vn(t);return!!r}return!0},initializeTargeting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="ab",n="afid",r="st",i="id",o="vr",a="gdpr",s="ccpa",c="uc";if(0==Object.keys(e).length)return Wn.error("Cannot initialize targeting: adConfig doesn't have targeting information"),!1;if(e.options&&e.options.targeting){if(e.options.targeting.metaTag){var u=Jn(e.options.targeting.metaTag);u.length>0&&googletag.pubads().setTargeting("pub_tag",u)}this.setupChannelTargeting(e.options.targeting)}if(e.adFormationId&&googletag.pubads().setTargeting(n,e.adFormationId),!isNaN(e.index)&&googletag.pubads().setTargeting(t,e.index.toString()),e.site&&googletag.pubads().setTargeting(r,e.site),e.id&&googletag.pubads().setTargeting(i,e.id.slice(-6)),e.version&&googletag.pubads().setTargeting(o,e.version),window.zamaf&&window.zamaf.user){googletag.pubads().setTargeting(a,window.zamaf.user.isGDPR?"1":"0"),googletag.pubads().setTargeting(s,window.zamaf.user.isCCPA?"1":"0");var d=Ln("usconsent");d&&googletag.pubads().setTargeting(c,d)}return!0}},Kn="zaf:page:visibility",Xn="zaf:unit:define",Qn="zaf:unit:display",Yn="zaf:unit:loadinfo",Zn="zaf:unit:pbjsrender",er="zaf:unit:refresh",tr="zaf:unit:remove",nr="zaf:consent:update",rr="zaf:slots:refresh",ir="zaf:slots:done",or="zaf:services:enable",ar="zaf:psr:rendered",sr="zaf:slot:rejected",cr="zaf:init:postInit",ur="zaf:bids:requested",dr="zaf:bids:done",lr="zaf:tcf:userready",fr="zaf:error",pr="code",mr="mobile",gr="insert",hr="slotElementId",vr="slotCode",br="elementIds",yr="codes",wr="slotCount",Ir="url",_r="slot";function Cr(e){var t={};return Object.keys(e).forEach((function(n){switch(n){case mr:case gr:case pr:var r="EMPTY";e.configSlot&&void 0!==e.configSlot[n]?r=e.configSlot[n]:void 0!==e[n]&&(r=e[n]),t[n]=r;break;case hr:t[n]=e.configSlot&&e.configSlot.slot?e.configSlot.slot.getSlotElementId():"EMPTY";break;case vr:t[n]=e.configSlot&&e.configSlot.slot?e.configSlot.slot.getAdUnitPath():"EMPTY";break;case br:t[n]=e.configSlots&&e.configSlots.length?e.configSlots.map((function(e){return e.elementId})).join(","):"EMPTY";break;case yr:t[n]=e.configSlots&&e.configSlots.length?e.configSlots.map((function(e){return e.code})).join(","):"EMPTY";break;case wr:t[n]=e.configSlots?e.configSlots.length:0;break;case Ir:t[n]=e.url;break;case _r:var i=e[n];t[n]={elementId:i.getSlotElementId(),adUnitPath:i.getAdUnitPath()};break;default:t[n]=e[n]}})),t}function Sr(){}function xr(){xr.init.call(this)}function Er(e){return void 0===e._maxListeners?xr.defaultMaxListeners:e._maxListeners}function Ar(e,t,n){if(t)e.call(n);else for(var r=e.length,i=Br(e,r),o=0;o<r;++o)i[o].call(n)}function Tr(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=Br(e,i),a=0;a<i;++a)o[a].call(n,r)}function Or(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=Br(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function kr(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=Br(e,a),c=0;c<a;++c)s[c].call(n,r,i,o)}function jr(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=Br(e,i),a=0;a<i;++a)o[a].apply(n,r)}function Rr(e,t,n,r){var i,o,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]):(o=e._events=new Sr,e._eventsCount=0),a){if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(i=Er(e))&&i>0&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length}}else a=o[t]=n,++e._eventsCount;return e}function zr(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function Dr(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Br(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}Sr.prototype=Object.create(null),xr.EventEmitter=xr,xr.usingDomains=!1,xr.prototype.domain=void 0,xr.prototype._events=void 0,xr.prototype._maxListeners=void 0,xr.defaultMaxListeners=10,xr.init=function(){this.domain=null,xr.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Sr,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},xr.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},xr.prototype.getMaxListeners=function(){return Er(this)},xr.prototype.emit=function(e){var t,n,r,i,o,a,s,c="error"===e;if(a=this._events)c=c&&null==a.error;else if(!c)return!1;if(s=this.domain,c){if(t=arguments[1],!s){if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=a[e]))return!1;var d="function"==typeof n;switch(r=arguments.length){case 1:Ar(n,d,this);break;case 2:Tr(n,d,this,arguments[1]);break;case 3:Or(n,d,this,arguments[1],arguments[2]);break;case 4:kr(n,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];jr(n,d,this,i)}return!0},xr.prototype.addListener=function(e,t){return Rr(this,e,t,!1)},xr.prototype.on=xr.prototype.addListener,xr.prototype.prependListener=function(e,t){return Rr(this,e,t,!0)},xr.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,zr(this,e,t)),this},xr.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,zr(this,e,t)),this},xr.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new Sr:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new Sr,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,a||t)}return this},xr.prototype.off=function(e,t){return this.removeListener(e,t)},xr.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new Sr,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new Sr:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Sr,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},xr.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},xr.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Dr.call(e,t)},xr.prototype.listenerCount=Dr,xr.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Pr="pbjs",Nr=dt("events"),Fr={__slotsEventDefined:!1,_eventEmitter:new xr,_immediatelyInvokeEvents:{},on:function(e,t){this._immediatelyInvokeEvents[e]&&t.apply(void 0,o(this._immediatelyInvokeEvents[e])),this._eventEmitter.on(e,t)},once:function(e,t){this._immediatelyInvokeEvents[e]?t.apply(void 0,o(this._immediatelyInvokeEvents[e])):this._eventEmitter.once(e,t)},prependListener:function(e,t){this._eventEmitter.prependListener(e,t)},prependOnceListener:function(e,t){this._eventEmitter.prependOnceListener(e,t)},removeListener:function(e,t){this._eventEmitter.removeListener(e,t)},removeAllListeners:function(){this._eventEmitter.removeAllListeners()},pageChangeEvent:function(e){this._eventEmitter.emit("zaf:page:change",e)},pageVisibilityEvent:function(e){this._eventEmitter.emit(Kn,e)},unauthorizedDomainEvent:function(e){this._eventEmitter.emit("zaf:domain:unauthorized",this.config,{url:e})},defineUnitEvent:function(e,t){Nr.log("[".concat(Xn,"]"),e);var n={elementId:e,configSlot:t};return this._eventEmitter.emit(Xn,this.config,Cr(n)),!0},displayUnitEvent:function(e,t){Nr.log("[".concat(Qn,"]"),e);var n={elementId:e,configSlot:t};return this._eventEmitter.emit(Qn,this.config,Cr(n)),!0},renderUnitEvent:function(e,t,n){var r=mt(document.getElementById(e));n.position=r;var i={elementId:e,configSlot:t};return this._eventEmitter.emit("zaf:unit:render",this.config,Cr(i)),!0},renderUnitInfoEvent:function(e,n){var r=t({elementId:e},n);return this._eventEmitter.emit("zaf:unit:renderinfo",this.config,Cr(r)),!0},loadUnitInfoEvent:function(e,n){Nr.log("[".concat(Yn,"]"),e);var r=t({elementId:e},n);return this._eventEmitter.emit(Yn,this.config,Cr(r)),!0},pbjsRenderEvent:function(e,n){Nr.log("[".concat(Zn,"]"),e);var r=t({elementId:e},n);return this._eventEmitter.emit(Zn,this.config,Cr(r)),!0},refreshAdsEvent:function(e){Nr.log("[".concat(rr,"]"),e);var t={configSlots:e};return this._eventEmitter.emit(rr,this.config,Cr(t)),!0},refreshUnitEvent:function(e,t){Nr.log("[".concat(er,"]"),e);var n={elementId:e,configSlot:t};return this._eventEmitter.emit(er,this.config,Cr(n)),!0},rejectedSlotEvent:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.reason,i=void 0===r?"(Not specified)":r,o=n.code,a=void 0===o?-1:o,s="[".concat(sr,"] ").concat(e.elementId||"");a>=0&&(s+="\nRejection info ".concat(a,": ").concat(i)),Nr.log(s,[e]);var c=t({},e);return this._eventEmitter.emit(sr,Cr(c),{reason:i,code:a},this.config),!0},removeUnitEvent:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Nr.log("[".concat(tr,"]"),e),n&&(t=!0);var r={elementId:e,shouldDestroy:t,shouldDelete:n};return this._eventEmitter.emit(tr,this.config,Cr(r)),!0},updateConsentEvent:function(e){Nr.log("[".concat(nr,"]"),e);var t={eu:e.eu};return this._eventEmitter.emit(nr,this.config,Cr(t)),!0},psrRenderedEvent:function(e){Nr.log("[".concat(ar,"]"));var t=e?{elementId:e.elementId,configSlot:e}:{};return this._eventEmitter.emit(ar,this.config,Cr(t)),!0},enableServicesEvent:function(){return Nr.log("[".concat(or,"]")),this._eventEmitter.emit(or,this.config,null),!0},slotsDefinedEvent:function(){return this.__slotsEventDefined=!0,Nr.log("[".concat(ir,"]")),this._immediatelyInvokeEvents[ir]=[this.config],this._eventEmitter.emit(ir,this.config,null),!0},postInitEvent:function(){Nr.log("[".concat(cr,"]")),this._eventEmitter.emit(cr)},pbjsBidsRequest:function(e,t){this.bidsRequest(Pr,e,t)},pbjsBidsDone:function(e,t){this.bidsDone(Pr,e,t)},uamBidsRequest:function(e,t){this.bidsRequest("a9",e,t)},uamBidsDone:function(e,t){this.bidsDone("a9",e,t)},bidsRequest:function(e,t,n){return Nr.log("[".concat(ur,"]"),e,t,n),this._eventEmitter.emit(ur,e,t,n,this.config),!0},bidsDone:function(e,t,n){return Nr.log("[".concat(dr,"]"),e,t,n),this._eventEmitter.emit(dr,e,t,n,this.config),!0},tcfUserReady:function(e){Nr.log("[".concat(lr,"]"),e),this._immediatelyInvokeEvents[lr]=[e,this.config],this._eventEmitter.emit(lr,e,this.config)}};function Ur(){return window.__definedSlots=window.__definedSlots||{}}var Mr=dt("adUnit"),qr="none",Lr="fullsize",Wr="firstsize";function Hr(e,t){return(e[0].length?e:[e]).filter((function(e){return"string"!=typeof e})).length?e.filter((function(e){return e[0]<=t[0]&&e[1]<=t[1]})):[]}function Vr(e){return e.carveSize&&e.carveSize!=qr}function Gr(e){var t=(e[0].length?e:[e]).filter((function(e){return"string"!=typeof e}));if(!t.length)return[];var n=0,r=0;return t.forEach((function(e){n=Math.max(parseInt(e[0]),n),r=Math.max(parseInt(e[1]),r)})),[n,r]}function Jr(e,t,n){t&&n?(e.style.display="flex",e.style["align-items"]="center",e.style["justify-content"]="center",e.style["flex-direction"]="column",e.style.margin="auto",e.style.width=t+"px",e.style.height=n+"px"):Mr.warn("[wrapAdUnitSlot::carveSize]",e.id,"could not carve size")}var $r=dt("adUnit");function Kr(e){return!(!Array.isArray(e)||e.length<2)&&1!=e[0]&&1!=e[1]}var Xr={initUnitEvents:function(){var e=this,t=this._getGlobals().globalSlots;this.config.options.enableMaxDimensions&&(this.config.options.disableCarveWrapper=!0,this.config.options.wrapAdUnits=!1),this.on(Qn,(function(n,r){var i=r.elementId,o=r.configSlot;if(e.config.options.enableMaxDimensions){var a=e.getSlotByElementId(i);a&&"prelude-skin"!=a.type&&(e.updateSlotSizes(a,null,!0,!1),e.watchSlotSizing(a))}e.wrapAdUnitSlot(i,o),e.setDisplayed(i),$r.log("[".concat(Qn,"]"),i,"displayed","viewable:",r.isViewable),e.setCustomTargeting(o),t[i]||(t[i]={}),t[i].domElement=document.getElementById(i),googletag.display(i),e.config.options.forceRefreshOnLoad&&googletag.pubadsReady&&googletag.pubads().isInitialLoadDisabled()?yt(t[i].slot)&&($r.log("[".concat(Qn,"]"),i,"refreshed"),googletag.pubads().refresh([t[i].slot])):$r.log("[".concat(Qn,"]"),i,"not refreshed")})),this.on(er,(function(n,r){var i=r.elementId,o=r.configSlot;if(o.carveSize==Wr&&1!=o.sizes.length){var a=document.getElementById(i),s=[a.dataset.unitWidth,a.dataset.unitHeight],c=s[0],u=s[1];isNaN(c)||isNaN(u)||(o.sizes=[[c,u]],e.recreateAdSlot(o.elementId))}e.setDisplayed(i),$r.log("[".concat(er,"]"),i,"displayed","viewable:",o.isViewable),o.bidderGroupTracker||(o.bidderGroupTracker=0),e.setCustomTargeting(o),!e.config.options.prebid&&yt(t[i].slot)?($r.log("[".concat(er,"]"),i,"refreshed"),googletag.pubads().refresh([t[i].slot])):$r.log("[".concat(er,"]"),i,"failed")})),this.on(tr,this.removeAdSlot.bind(this)),this.once(ir,(function(){e.config.options.enableServicesFirst||e._enableServices()})),this.config.options.waitForPreludeSkin&&(this._preludeSkinRenderFail=window.setTimeout(this.wrap((function(){e.psrRenderedEvent(null)})),this.config.options.waitForPreludeSkin)),googletag.pubads().addEventListener("slotRenderEnded",this.slotRendered.bind(this)),this.config.options.adLightning&&googletag.pubads().addEventListener("slotRenderEnded",this.applyAdLightning.bind(this)),this.disposed.slotRenderCallback&&googletag.pubads().addEventListener("slotRenderEnded",this.disposed.slotRenderCallback)},recreateAdSlot:function(e){this._defineAndDisplaySlot(e),this.removeUnitEvent(e,!0)},wrapAdUnitSlot:function(e,t){if("prelude-skin"==t.type)return!1;if(this.config.options.wrapAdUnits||Vr(t)){var n=function(e){return e+"-container"}(e);if(!document.getElementById(n)){var r=document.createElement("div");r.id=n,r.className="zaf-unit-wrapper";var o=this.config.options,a=o.disableCarveWrapper,s=o.wrapperHeightMargin;if(t.carveSize==Lr&&!a){var c=i(Gr(t.sizes),2),u=c[0],d=c[1];Jr(r,u,parseInt(d||0)+parseInt(s||0))}var l=document.getElementById(e);l.parentNode.insertBefore(r,l),l.parentNode.removeChild(l),r.appendChild(l)}}},getAuTargeting:function(e){var t=e.targeting&&e.targeting.au;t=t&&t.split(",")||[];var n=e.code.toLowerCase();n.includes("btf")&&t.push("btf"),n.includes("atf")&&t.push("atf");var r=e.sizes.reduce((function(e,t){return"object"==typeof t&&(e[0]+=t[0],e[1]+=t[1]),e}),[0,0]);return 1==r[0]&&1==r[1]?t.push("preludeskin"):0==r[0]&&0==r[1]?t.push("native"):r[0]>r[1]?t.push("horizontal"):r[0]<r[1]?t.push("vertical"):t.push("square"),e.isDynamic&&t.push("dynamic"),t=o(new Set(t))},setCustomTargeting:function(e){if(e&&e.slot){e.slot.setTargeting("viewable",e.isViewable?["1"]:["0"]),e.refreshCount=e.refreshCount?e.refreshCount++:0,e.slot.setTargeting("refresh","".concat(e.refreshCount)),e.minWindowWidth&&e.slot.setTargeting("gutterEnabled",window.innerWidth>=e.minWindowWidth?1:0);var t=this.getAuTargeting(e);e.slot.setTargeting("au",t);var n=mt(document.getElementById(e.elementId));e.slot.setTargeting("zaf_py",n.top.toString()),e.slot.setTargeting("zaf_url",window.location.pathname)}},appendUnit:function(e,t){var n=this,i=this.config.slots.find((function(t){return t.code===e}));if(!i)return!1;var o=function(){var e=r({},i,{elementId:t});return n.config.slots.push(e),n._defineAndDisplaySlot(t)};if(!this.user.isGDPR)return o();this.tcf.whenTCFLoaded(o)},defineNewAdUnit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._getGlobals(),r=n.globalSlots,i=t.elementId,o=i||e.elementId;if(r[o])return $r.warn("Slot already defined",o),!1;e.mediaTypes&&e.mediaTypes.includes("native")&&!e.sizes.includes("fluid")&&e.sizes.push("fluid"),this.config.options.enableMaxDimensions&&"prelude-skin"!=e.type&&this.updateSlotSizes(e);var a={};return a=(a="interstitial"===e.type?googletag.defineOutOfPageSlot(e.code,googletag.enums.OutOfPageFormat.INTERSTITIAL):googletag.defineSlot(e.code,e.sizes,o)).addService(googletag.pubads()),this.wrapAdUnitSlot(o,e),this.config.options.adLightning&&"prelude-skin"!==e.type&&this.addReportButton(o),e.slot=a,this._postDefineNewSlot(e,o,t),a},_postDefineNewSlot:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.addToGlobals(e,n)&&(e.cssRules&&this.addCssRule("#"+n,e.cssRules),this.setupRefresh(e),this.defineUnitEvent(n,t(t({},r),e))),e.slot&&e.targeting&&this._processSlotTargeting(e)},removeAdSlot:function(e,t){var n=t.elementId,r=t.shouldDestroy,i=void 0===r||r,o=t.shouldDelete,a=void 0!==o&&o,s=this._getGlobals().globalSlots,c=!1;if(s[n]&&(i&&s[n].slot&&(this.destroyObserverForAdUnit(n),$r.log("googletag resource destroyed",n),googletag.destroySlots([s[n].slot])),c=this.removeFromGlobals(n)),a){var u=this.config.slots.length;this.config.slots=this.config.slots.filter((function(e){return e.elementId!=n})),c=c||u!=this.config.slots.length}return c},setDisplayed:function(e){var t=this._getGlobals(),n=t.displayedAdSlots;t.globalSlots[e].displayed=!0,n[e]=!0},_callPsrHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._preludeSkinRenderFail&&(window.clearTimeout(this._preludeSkinRenderFail),$r.log("prelude rendered",e.elementId),this.psrRenderedEvent(e))},displayAdSlot:function(e){var t=this._getGlobals(),n=t.displayedAdSlots,r=t.globalSlots,i=e;if(!(i="string"==typeof i?r[e]:r[e.elementId]))return $r.warn("Ad being displayed ".concat(e," is not defined in adConfig")),!1;if(!i.elementId)return $r.warn("Ad being displayed ".concat(i.code," does not have elementId")),!1;if(n[i.elementId])return $r.warn("Ad element ".concat(i.elementId," has already been displayed")),!1;var o=document.getElementById(i.elementId);return o?((i.suppressed||"prelude-skin"==i.type||"direct"==i.type)&&this.freezeSlot(i),o.dataset.isViewable=function(e){var t=function(e){var t={height:e.height,width:e.width,top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.height<30&&(t.height=30,t.bottom=t.top+t.height),t}(e.getBoundingClientRect()),n=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth;if(t.bottom<0||t.right<0||t.top>n||t.left>r)return 0;var i=Math.max(0,t.left),o=Math.max(0,t.top),a=Math.min(r,t.right),s=Math.min(n,t.bottom);return(0==t.width?1:Math.max(0,a-i)/t.width)*(0==t.height?1:Math.max(0,s-o)/t.height)}(o)>=.5,i.isViewable="true"==o.dataset.isViewable,this.displayUnitEvent(i.elementId,i),!0):($r.error("Failed ad unit",i),this.removeUnitEvent(i.elementId,!0),!1)},freezeSlot:function(e){var t=this._getGlobals().globalSlots;e.frozen=!0,t[e.elementId].frozen=!0},slotRendered:function(e){var n=this;$r.slots("slotRenderedEvent",[e.slot]);var r=this._getGlobals().globalSlots,i=e.slot.getSlotElementId(),o=r[i];if(this.renderUnitEvent(i,o,e),e.isEmpty)$r.log("dfpEvent is empty for ".concat(i,":"),[e]);else{var a=this.config.options;if(!o)return $r.error("Ad being rendered ".concat(i," without definition in ad config")),!1;this.setDisplayed(i);var s,c=document.getElementById(o.elementId);if("prelude-skin"===o.type){s="skin",c.style.height="0";var u=new MutationObserver(function(e,t,n){return function(r,i){return n(r,i,e,t)}}(c,s,(function(t,r,s,c){t.forEach((function(t){var u=t.target;u&&u.offsetWidth>(a.preludeMinWidth||300)?(s.style.textAlign="center",s.style.margin="auto",s.style.height="auto",c="prelude",document.body.classList.add(a.bodyPreludeClass||"body--prelude"),r.disconnect()):u.offsetWidth<=1&&(c="skin",s.style.height="0"),$r.log("prelude-skin div set",document.body.classList);var d={elementId:i,event:e,type:c,slot:o};n._callPsrHandler(d)}))}))),d=c.getElementsByTagName("iframe")[0];u.observe(d,{attributes:!0});var l={elementId:i,event:e,type:s,slot:o};this._callPsrHandler(l)}this.setDataAttributes(c,e,t(t({},o),s?{type:s}:{})),r[i].frozen=o.frozen||this.checkForFrozenAd(e.advertiserId)}},setDataAttributes:function(e,t,n){function r(e,t){return"".concat(e,"x").concat(t)}var o,a,s,c=t.slot.getTargeting("hb_size");if("prelude-skin"===n.type)return e.dataset.unitType="prelude-skin",!0;if(Kr(t.size)){var u=i(t.size,2);s=r(o=u[0],a=u[1])}else if(c.length>0){s=c[0];var d=c[0].split("x").map((function(e){return parseInt(e)}));if(Kr(d)){var l=i(d,2);o=l[0],a=l[1]}}else if(e.getElementsByTagName("iframe").length>0&&e.getElementsByTagName("iframe")[0].offsetWidth>1){var f=e.getElementsByTagName("iframe")[0];s=r(o=f.offsetWidth,a=f.offsetHeight)}isNaN(o)||isNaN(a)||!s||(n.carveSize==Wr&&Jr(e,o,a),e.dataset.unitWidth=o,e.dataset.unitHeight=a,e.dataset.unitSize=s)},checkForFrozenAd:function(e){var t=this.config.options;return e&&t.directAdvertisers&&t.directAdvertisers.indexOf(e)>-1},getSlotConfigByElementId:function(e){var t=this._getGlobals().globalSlots;return t[e]?t[e]:this.config.slots.find((function(t){return t.elementId==e}))},addToGlobals:function(e,t){var n=this._getGlobals(),r=n.globalSlots,i=n.globalCodes,o=t||e.elementId;return r[o]?($r.log("already exists in global",o),!1):($r.log("add to globals",o),r[o]=e,r[o].elementId=o,i.push(o),!0)},removeFromGlobals:function(e){$r.log("remove from globals",e);var t=this._getGlobals(),n=t.globalSlots,r=t.globalCodes;delete n[e];var i=r.indexOf(e),o=i>-1,a=this.config.slots.find((function(t){return t.elementId==e}));return a?a.slot=null:$r.error("config slots out of sync: ",e),o&&r.splice(i,1),o},_getGlobals:function(){return{globalSlots:Ur(),globalCodes:window.__codes=window.__codes||[],displayedAdSlots:window.displayedAdSlots=window.displayedAdSlots||{}}},_processSlotTargeting:function(e){if(e.targeting){for(var t of($r.log("attempting to add targeting to ".concat(e.slot.getSlotId(),":"),[e.targeting]),e.targeting)){var n=t.key,r=t.value;"string"==typeof r&&(r=r.split(",")),Array.isArray(r)&&r.length>0&&e.slot.setTargeting(n,r)}return!0}return!1}};function Qr(e,t,n){var r,i=n||{},o=i.noTrailing,a=void 0!==o&&o,s=i.noLeading,c=void 0!==s&&s,u=i.debounceMode,d=void 0===u?void 0:u,l=!1,f=0;function p(){r&&clearTimeout(r)}function m(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=this,u=Date.now()-f;function m(){f=Date.now(),t.apply(s,i)}function g(){r=void 0}l||(c||!d||r||m(),p(),void 0===d&&u>e?c?(f=Date.now(),a||(r=setTimeout(d?g:m,e))):m():!0!==a&&(r=setTimeout(d?g:m,void 0===d?e-u:e)))}return m.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;p(),l=!n},m}var Yr=dt("observer"),Zr={attributes:!1,childList:!0,subtree:!0},ei={init:function(e){var t=this;if(Yr.log("observer initialized"),document.body)return this._init(e),!0;var n=new MutationObserver(window.zamaf.wrap((function(){document.body&&(t._init(e),n.disconnect())})));n.observe(document.documentElement,{childList:!0})},_init:function(e){var t=document.body,n=Qr(ht(),e);n(),this.observer=new window.MutationObserver(n),this.observer.observe(t,Zr)},stop:function(){this.observer&&(this.observer.disconnect(),delete this.observer,Yr.log("observer stopped"))}},ti=dt("slot");function ni(){this.slotsDefinedEvent()}function ri(e,t){if(e&&pt(e.elementId)){var n=this.defineNewAdUnit(e,{elementId:e.elementId});return t||this._prepareUnitForDisplay(e),n}return!1}var ii,oi={pendingSlots:[],checkingPendingSlots:!1,_addSlotsToGoogleTag:function(e){var t=this;if(!this.checkingPendingSlots){this.checkingPendingSlots=!0;var n=[];this.pendingSlots.forEach((function(r){!ri.call(t,r,e)&&bt(r)&&n.push(r)})),this.pendingSlots=n,this.checkingPendingSlots=!1,0===this.pendingSlots.length&&(ei.stop(),ni.call(this))}},_updateSlot:function(e){e.elementId=e.elementId||e.code},_insertSlot:function(e){var t=document.createElement("div");t.id=e.elementId,t.style.height="0",document.body.insertBefore(t,document.body.firstChild)},_defineSlots:function(){var e=this,t=this.config,n=t.options,r=this._getExistingSlots();r&&(ti.log("slots already defined on site"),r.forEach(this._triggerEventsForExistingSlot.bind(this))),this.config.options.enableServicesFirst=n.enableServicesFirst||!window.brealtime,this.config.options.enableServicesFirst&&(ti.log("enabling services first"),this._enableServices()),this.disposed.unitFilter&&(t.slots=t.slots.filter(this.disposed.unitFilter)),t.slots.forEach((function(t){e._updateSlot(t),t.insert&&e._insertSlot(t)})),this.pendingSlots=o(t.slots);var i=t.options.noDisplay;ei.init(this._addSlotsToGoogleTag.bind(this,i)),this.initialObserver=ei,gt(this.wrap((function(){setTimeout(e.wrap((function(){e.pendingSlots.length&&ti.warn("initialization incomplete, pending slots:",e.pendingSlots),ei.stop()})),t.options.initialObserverTtl||3e3),ni.bind(e)()})));var a=$(t,"options.targeting.dynamicSlots.blackList",[]),s=$(t,"options.targeting.dynamicSlots.whiteList",[]);return t.dynamicSlots&&$n.checkDynamicSlotTargeting(a,s)&&this.displayAllDynamic(),!0},_defineAndDisplaySlot:function(e){var t=this.config.slots.find((function(t){return t.elementId===e}));return ri.call(this,t,!1)}};!function(){if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=i(t);n;)n=i(t=n.ownerDocument);return t}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?l(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,o=null,a=null;if(this.POLL_INTERVAL?o=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(o&&e.clearInterval(o),c(e,"resize",r,!0)),c(t,"scroll",r,!0),a&&a.disconnect()})),t!=(this.root&&this.root.ownerDocument||e)){var u=i(t);u&&this._monitorIntersections(u.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&this.root.ownerDocument||e,o=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var o=i(n);if((n=o&&o.ownerDocument)==t)return!0}return!1}));if(!o){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var s=i(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=u(i),s=this._rootContainsTarget(i),c=r.entry,d=e&&s&&this._computeTargetAndRootIntersection(i,a,t),l=r.entry=new o({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:n&&!this.root?null:t,intersectionRect:d});c?e&&s?this._hasCrossedThreshold(c,l)&&this._queuedEntries.push(l):c&&c.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,i,o){if("none"!=window.getComputedStyle(t).display){for(var a,s,c,d,f,m,g,h,v=i,b=p(t),y=!1;!y&&b;){var w=null,I=1==b.nodeType?window.getComputedStyle(b):{};if("none"==I.display)return null;if(b==this.root||9==b.nodeType)if(y=!0,b==this.root||b==e)n&&!this.root?!r||0==r.width&&0==r.height?(b=null,w=null,v=null):w=r:w=o;else{var _=p(b),C=_&&u(_),S=_&&this._computeTargetAndRootIntersection(_,C,o);C&&S?(b=_,w=l(C,S)):(b=null,v=null)}else{var x=b.ownerDocument;b!=x.body&&b!=x.documentElement&&"visible"!=I.overflow&&(w=u(b))}if(w&&(a=w,s=v,c=void 0,d=void 0,f=void 0,m=void 0,g=void 0,h=void 0,c=Math.max(a.top,s.top),d=Math.min(a.bottom,s.bottom),f=Math.max(a.left,s.left),m=Math.min(a.right,s.right),h=d-c,v=(g=m-f)>=0&&h>=0&&{top:c,bottom:d,left:f,right:m,width:g,height:h}||null),!v)break;b=b&&p(b)}return v}},a.prototype._getRootRect=function(){var t;if(this.root)t=u(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||f(e,this.root)},a.prototype._rootContainsTarget=function(t){return f(this.root||e,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function i(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=d(e.rootBounds),this.boundingClientRect=d(e.boundingClientRect),this.intersectionRect=d(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function c(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function l(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function f(e,t){for(var n=t;n;){if(n==e)return!0;n=p(n)}return!1}function p(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?i(t):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}}();var ai=dt("refresh"),si=function(e,t){this.timerId=null,this.cb=e,this.remaining=t,this.start=performance.now(),this.timeout=t,this.state="paused",this.isDone=function(){return this.remaining<=0},this.pause=function(){"paused"===this.state||this.isDone()||(this.remaining-=performance.now()-this.start,window.clearTimeout(this.timerId),this.state="paused",ai.log("Pause timer"))},this.resume=function(){var e=this;ai.log("Timer state",this.state),this.remaining<=0||"running"===this.state||(this.start=performance.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(zamaf.wrap((function(){e.remaining=0,e.cb()})),this.remaining),this.state="running",ai.log("Resume timer"))},this.reset=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state="paused",window.clearTimeout(this.timerId),this.remaining=e,ai.log("Timeout reset")},this.clearTimer=function(){window.clearTimeout(this.timerId)}};function ci(){var e={threshold:.5};ii=new IntersectionObserver(li.bind(this),e),ai.log("IntersectionObserver created")}function ui(e){ii||ci.call(this);var t=document.getElementById(e.elementId);t&&ii.observe(t)}function di(e){ai.log("Unobserve adSlot",e);var t=document.getElementById(e.elementId);ii&&t&&ii.unobserve(t)}function li(e,t){var n=this;ai.log("IntersectionObserver observed:",e),e.forEach((function(e){var t=Ur()[e.target.id];t&&(ai.log("IntersectionObserver observed slot",t.code,!!e.isIntersecting),e.target.dataset.isViewable=!!e.isIntersecting,t.isViewable=!!e.isIntersecting,fi.call(n,t))}))}function fi(e){(this.config.options.refreshViewableAds||e.refreshOnlyIfViewable)&&(this.pageIsViewable&&e.isViewable?(ai.log("Adslot is in view",e),e.viewabilityTimer.resume()):(ai.log("Adslot is out of view",e),e.viewabilityTimer.pause()))}function pi(e){ai.log("[".concat(e.elementId,"]: called for refresh")),e.frozen?di.call(this,e):e.displayed&&yt(e.slot)&&(e.refreshCount++,this.refreshUnitEvent(e.elementId,e),e.refreshCount>=this.config.options.refreshLimit?(e.frozen=!0,di.call(this,e)):gi.call(this,e))}function mi(e){var t=this.config.options.refreshViewableAds||e.refreshOnlyIfViewable;(t&&e.viewabilityTimer.isDone()||!t)&&e.refreshTimer.isDone()&&(ai.log("AdSlot is refreshable",e),pi.call(this,e))}function gi(e){var t=this;ai.log("Set refresh on adslot",e);var n=hi.call(this,e);return 0==n?(e.refreshTimer&&e.refreshTimer.clearTimer(),0):((this.config.options.refreshViewableAds||e.refreshOnlyIfViewable)&&(e.viewabilityTimer?(e.viewabilityTimer.reset(),fi.call(this,e)):e.viewabilityTimer=new si((function(){ai.log("Viewability timer complete",e),mi.call(t,e)}),this.config.options.viewabilityTimeout||1e3)),e.refreshTimer?e.refreshTimer.reset():e.refreshTimer=new si((function(){ai.log("Refresh timer complete",e),mi.call(t,e)}),n),e.refreshTimer.resume(),n)}function hi(e){var t=1e3*parseInt((void 0===e.refreshRate?this.config.options.refreshRate:e.refreshRate)||0);return t<=0||isNaN(t)?(ai.log("[".concat(e.elementId,"]: No refresh settings set up for slot")),0):t}var vi={globalRefreshCount:0,_stopRefresh:function(){ai.log("Stopping refresh...");var e=this._getGlobals().globalSlots,t=Object.values(e);t&&t.forEach((function(e){e.clearInterval(e.refreshTimeout)})),ai.log("Cleared refresh timers for slots: ".concat(JSON.stringify(t)))},_handleRefresh:pi,setupRefresh:function(e){var t=this,n=gi.call(this,e);if(0==n)return ai.log("Refreshing not enabled for slot ".concat(e.elementId)),0;(this.config.options.refreshViewableAds||e.refreshOnlyIfViewable)&&ui.call(this,e),ai.log("refresh rate for slot [".concat(e.elementId,"]: ").concat(n," seconds")),e.refreshCount=0,this.on(Kn,(function(n){fi.call(t,e)}))},globalRefresh:function(){var e=this._getGlobals().globalSlots,t=this.config.options.refreshLimit,n=Object.values(e).filter((function(e){return!e.frozen&&e.displayed&&yt(e.slot)&&bt(e)}));n.length>0?(ai.log("refreshing ads",n),this.config.options.prebid||googletag.pubads().refresh(n.map((function(e){return e.slot}))),this.refreshAdsEvent(n)):this._stopRefresh(),this.globalRefreshCount+=1,t&&this.globalRefreshCount>=t&&this._stopRefresh()},setRefreshTimeout:gi,Timer:si,checkRefreshable:mi,_getRefreshRate:hi,destroyObserverForAdUnit:function(e){di({elementId:e})}},bi=dt("siteDefinedSlots");function yi(e,t){var n=t.getSlotElementId();return e.code=e.code||t.getAdUnitPath(),e.elementId=n,e.sizes=t.getSizes().map((function(e){return[e.getWidth(),e.getHeight()]})),e._existed=!0,e.slot=t,e}var wi,Ii,_i={_getExistingSlots:function(){var e=googletag.pubads().getSlots();return e&&e.length>0?(bi.log("".concat(e.length," prexisting slots found")),e):(bi.log("no slots found"),!1)},_triggerEventsForExistingSlot:function(e){var t,n=this.config.slots,i=e.getSlotElementId(),o=e.getAdUnitPath(),a=function(e,t,n){var r=-1,i=-1,o=e.findIndex((function(e){return e.code===t&&e.elementId===n}));if(o>-1)return e[o]._existed=!0,{slotIndex:o,dupIndex:o};for(var a=0;a<e.length;a++){var s=e[a];if(s.code===t&&(r=a,!s._existed)){i=a,s._existed=!0;break}}return{slotIndex:i,dupIndex:r}}(n,o,i),s=a.slotIndex,c=a.dupIndex;bi.log("existing slot elementid: ".concat(i,", adCode: ").concat(o,", slotIndex: ").concat(s,", dupIndex: ").concat(c)),s>-1?(t=yi(n[s],e),bi.log("updating slot by existing slot elementid: ".concat(i,", adCode: ").concat(o))):c>-1?(t=yi(r({},n[c]),e),this.config.slots.push(t)):(t=yi({},e),this.config.slots.push(t)),this._postDefineNewSlot(t,i)}},Ci=function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},Si=!1,xi=Object.defineProperty({},"passive",{get:function(){return Si=!0,!0}}),Ei="",Ai={scrollTested:!1,_getEventWindowVals:function(){return Ai.scrollTested||(window.addEventListener?(window.addEventListener("testPassive",null,xi),window.removeEventListener("testPassive",null,xi),wi="addEventListener",Ii="removeEventListener"):(wi="attachEvent",Ii="detachEvent",Ei="on"),Ai.scrollTested=!0),{prefix:Ei,_addEventListener:wi,_removeEventListener:Ii}},addWindowScrollEvent:function(e){var t=this._getEventWindowVals(),n=t.prefix,r=t._addEventListener;this.__windowScrollEvent(r,n+"scroll",e)},removeWindowScrollEvent:function(e){var t=this._getEventWindowVals(),n=t.prefix,r=t._removeEventListener;this.__windowScrollEvent(r,n+"scroll",e)},__windowScrollEvent:function(e,t,n){var r=ht();window[e](t,Qr(r,n),!!Si&&{passive:!0})}},Ti=dt("dynamicAd");function Oi(e){return e.nodeType===Node.ELEMENT_NODE&&("BR"===e.nodeName||"block"===window.getComputedStyle(e).getPropertyValue("display"))&&"UL"!==e.tagName&&"LI"!==e.tagName&&"UL"!==e.parentNode.tagName&&"LI"!==e.parentNode.tagName}function ki(e,t){var n=t.index,r=void 0===n?0:n,i=t.type,o=void 0===i?"article":i;return"".concat(e,"-").concat(o,"-au-").concat(r)}function ji(e){var t=e.sizes;return Number.isInteger(t[0])?[t[0]]:t.map((function(e){return"fluid"===e?"fluid":e[0]}))}function Ri(e,t){return t.every((function(t){return"fluid"===t||t<=e.offsetWidth}))}var zi={addDynamicUnit:function(e,n){return Ai.addWindowScrollEvent(this.addDynamicUnitWhenInView.bind(this,e,n)),this.addDynamicUnitWhenInView(e,n),t(t({},n),{},{elementId:e})},addDynamicUnitWhenInView:function(e,n){var r,i,o,a,s,c=n.slotConfig,u=n.adDivElement;if(u.dataset.defined)return!1;if(r=u.getBoundingClientRect(),i=document.documentElement.scrollTop,o=i+window.innerHeight,a=r.top+i,s=a+r.height,a<=o&&s>=i){u.dataset.defined="defined",u.classList.add("dynamic-ad"),c.isDynamic=!0;var d={elementId:e,isDynamic:!0};return this.defineNewAdUnit(c,d),this._displayAdSlot(t(t({},c),{},{elementId:e})),Ai.removeWindowScrollEvent(this.addDynamicUnitWhenInView.bind(this,e,n)),!0}return!1},_setupDynamicUnitsForArticles:function(e){var t=this,n=e.elementId,r=e.elementClass,i=e.dataAttribute,o=e.frequency,a=void 0===o?2:o,s=e.subheaderClassName,c=void 0===s?"heading-size-":s,u=e.type,d=e.articleBottomPadding||0;(d>1||d<0)&&(Ti.warn("Dynamic ad padding given was out of bounds (".concat(d,"). Padding will be ignored.")),d=0);var l=function(e){var t,n=e.articleElementId,r=e.articleElementClass,i=e.zafDataAttribute;return i&&(t=document.querySelectorAll('[data-zaf-dynamic="'+i+'"]')[0]),!t&&n&&(t=document.getElementById(n)),!t&&r&&(t=document.getElementsByClassName(r)[0]),t}({articleElementId:n,articleElementClass:r,zafDataAttribute:i});if(!l)return Ti.warn("ZAF: Element does not exist for dynamic ad slot requested",n||r||i),!1;var f=Ci(),p=parseInt(f.height*a),m=l;if(m.offsetHeight<=p)return Ti.warn("ZAF: Article element's height is too short for dynamic ads",n||r||i),[];var g=ji(e);if(!Ri(m,g))return Ti.warn("ZAF: Configured adslots sizes are too wide for the article's element",n||r||i),[];var h=[],v=m.offsetHeight-parseInt(f.height*d),b=mt(m),y=p+b.top;Ti.log("mustBeAfterHeight:",p,b.top,y),Ti.log("mustBeBeforeHeight:",v);var w=mt(m),I=m.id||r||i||n;return pt(ki(I,{type:u,index:0}))?(Ti.warn("Dynamic ads already been invoked"),h):(ft(i?m.children:m.querySelectorAll("*")).filter(Oi).forEach((function(n){var r=mt(n),i=(r.left-w.left)/m.offsetWidth;if(!(r.top<y||r.top>v||!Ri(n.parentNode,g)||i>.2)){var o=ki(I,{type:u,index:h.length});if(!pt(o)){var a=t._setupDynamicDivElement(e,o),s=function(e,t){return e.className.indexOf(t)>-1||"H2"===e.tagName}(n,c)?n:n.nextSibling;n.parentNode.insertBefore(a,s),h.push(t.addDynamicUnit(o,{slotConfig:e,adDivElement:a}));var d=mt(a);y=d.top+a.offsetHeight+p}}})),h)},_setupDynamicUnitsForManualUnits:function(e){var t=this,n=e.elementClass,r=e.dataAttribute,i=e.type;if(!n&&!r)return Ti.warn("ZAF: Attempting to render ad unit, but no class selector defined"),[];var o,a=[];n?o=document.getElementsByClassName(n):r&&(o=document.querySelectorAll('[data-zaf-dynamic="'+r+'"]'));var s=ji(e);return ft(o).forEach((function(o,c){var u=ki(n||r,{index:c,type:i});if(!pt(u)&&Ri(o,s)){var d=t._setupDynamicDivElement(e,u,o);a.push(t.addDynamicUnit(u,{slotConfig:e,adDivElement:d}))}})),a},_setupDynamicUnitsForLists:function(e){var t=e.elementClass,n=e.elementId,r=e.dataAttribute,i=e.subItemElementClass;if(!i)return Ti.warn("ZAF: List element's subItemElementClass is not defined",n||t||""),[];var o=ji(e);if(n){var a=document.getElementById(n);if(a)return Ri(a,o)?this._insertAdBetweenSubItems(a,n,e):(Ti.warn("ZAF: Configured adslots sizes are too wide for the article's element",n),[])}if(t){var s=document.getElementsByClassName(t);return this._handleMultipleAdUnits(i,e,o,s,t)}if(r){var c=document.querySelectorAll('[data-zaf-dynamic="'+r+'"]');return this._handleMultipleAdUnits(i,e,o,c,r)}return t||n||r?[]:this._insertAdBetweenSubItems(document,"dom-list",e)},_handleMultipleAdUnits:function(e,t,n,r,i){var a=this,s=[];return ft(r).forEach((function(r,c){var u="".concat(i,"-").concat(c);if(Ri(r,n)){var d=a._insertAdBetweenSubItems(r,u,t);s.push.apply(s,o(d))}else Ti.warn("ZAF: Configured adslots sizes are too wide for the article's element",e)})),s},_insertAdBetweenSubItems:function(e,t,n){var r=this,i=n.subItemElementClass,o=n.insertIndex,a=void 0===o?2:o,s=n.type,c=n.offset,u=void 0===c?0:c,d=e.getElementsByClassName(i),l=[];return ft(d).forEach((function(e,i){if(!(i<u)){var o=ki(t,{index:i,type:s}),c=i-u;if(0!=c&&c%a==0&&!pt(o)){var d=r._setupDynamicDivElement(n,o),f=e;e.parentNode.insertBefore(d,f),l.push(r.addDynamicUnit(o,{slotConfig:n,adDivElement:d}))}}})),l},_setupDynamicDivElement:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n||document.createElement("div");if(r.setAttribute("id",t),r.classList.add("zamaf-au"),Vr(e)&&e.carveSize==Lr){var o=Gr(e.sizes),a=i(o,2),s=a[0],c=a[1];Jr(r,s,c)}return r},setupDynamicUnits:function(e){var t,n=e.type;switch(void 0===n?"article":n){case"unit":t=this._setupDynamicUnitsForManualUnits(e);break;case"article":default:t=this._setupDynamicUnitsForArticles(e);break;case"list":t=this._setupDynamicUnitsForLists(e)}return t&&0!==t.length||Ti.warn("no dynamic ads rendered"),t},displayAllDynamic:function(){var e,t=this;return e=function(){return t.config.dynamicSlots.forEach(t.setupDynamicUnits.bind(t))},"complete"!==document.readyState?window.addEventListener("load",(function(){e()})):e(),this},displayDynamic:function(e){var t=this.config.dynamicSlots.find((function(t){var n=t.elementId,r=t.elementClass;return e==n||r==e}));return t?(this.setupDynamicUnits(t),this):(Ti.error("ZAF: Article Slot Group is not within config"),!1)}};function Di(e){return"adl-btn-"+e}var Bi={addReportButton:function(e){var t=document.createElement("div");t.classList.add("adl-report-ad-container");var n=document.createElement("div"),r=Di(e);n.id=r,n.appendChild(t);var i=document.getElementById(e);i.parentNode.insertBefore(n,i.nextElementSibling)},applyAdLightning:function(e){var t=e.slot.getSlotElementId(),n={adlAction:"createUserReportButton",selector:"#"+Di(t),uniqueId:e.creativeId||e.sourceAgnosticCreativeId,targetAd:t};window.postMessage(n,"*"),setTimeout((function(){var e="btn-".concat(t),n=document.getElementById(e);n&&(n.type="button")}),1)}},Pi=dt("spa"),Ni={initSpaListeners:function(){var e,t=this;history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushState")),window.dispatchEvent(new Event("locationchange")),t}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replaceState")),window.dispatchEvent(new Event("locationchange")),t}}(history.replaceState),window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationchange"))})),window.addEventListener("locationchange",(function(){setTimeout(t.wrap(function(){this.spaObserve()}.bind(t)),t.config.options.spaObserverDelay||1e3),t.pageChangeEvent(location.href)}))},spaObserve:function(){this.initialObserver&&this.initialObserver.stop(),ei.stop(),this.config.slots.forEach((function(e){delete e.slotChecked})),ei.init(this.pageChangeAction.bind(this)),setTimeout(this.wrap((function(){ei.stop()})),this.config.options.spaObserverTtl||2e3)},pageChangeAction:function(){var e=this,t=this._getGlobals().globalSlots;Pi.log("page update mutation"),this.config.slots.forEach((function(n){if(!n.slotChecked){var r=n.slot,i=document.getElementById(n.elementId);if(r&&!i)Pi.log("destroying: ",n.elementId,n),e.destroySlot(n.elementId,n,!0);else if(i&&!r)Pi.log("creating: ",n.elementId,n),e.createSlot(n.elementId),n.slotChecked=!0;else if(i&&r)if(e.isRefChanged(i,t,n))Pi.log("destroying and creating: ",n.elementId,n),e.destroySlot(n.elementId,n,!0),e.createSlot(n.elementId),n.slotChecked=!0;else{Pi.log("refreshing: ",n.elementId,n);var o=n.elementId;e.refreshSlot(o,!0,n),n.slotChecked=!0}}}))},createSlot:function(e){return this._defineAndDisplaySlot(e)},destroySlot:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.removeUnitEvent(e,n,r)},refreshSlot:function(e,t,n){var r=this.config.slots.find((function(t){return t.elementId==e}));r?(r.slot||(r.slot=n||window.googletag.pubads().getSlots().find((function(t){return t.getSlotElementId()===e}))||!1),r.slot?(this.refreshUnitEvent(e,r),r.slot.timeLeft=1,this.setRefreshTimeout(r,t||r.slot.isViewable)):Pi.log("unable to locate ad slot; cannot refresh.")):Pi.log("unable to locate config for slot.")},isRefChanged:function(e,t,n){return e!==(t[n.elementId]&&t[n.elementId].domElement)},getSlotByElementId:function(e){return this.config.slots.find((function(t){return t.elementId==e}))},removeAdlightningButton:function(e){var t="adl-btn-"+e,n=document.getElementById(t);n&&n.parentNode&&n.parentNode.removeChild(n)},updateSlotSizes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.insertIndex)Pi.log("updateSlotSizes:: skipping unit:",e);else{var i=document.getElementById(e.elementId);if(i){var o=e.originalSizes||e.sizes;if(e.originalSizes=o,Pi.log("updateSlotSizes:: attempting to adjust sizes:",i.id),!t){var a=i.dataset.zafMaxDimensions;if(!a)return void Pi.log("updateSlotSizes:: no zafMaxDimensions found for slot:",i.id);t=a.split("x")}var s=Hr(o,t),c=e.sizes.map((function(e){return e.join("x")})).join(","),u=s.map((function(e){return e.join("x")})).join(",");c!=u?(Pi.log("updateSlotSizes:: sizes filtered result",i.id,s),e.sizes=s,n&&(Pi.log("updateSlotSizes:: recreated slot:",i.id,s),this.recreateSlot(e,r))):Pi.log("updateSlotSizes:: no changes in size list",i.id,s)}else Pi.log("updateSlotSizes:: could not find element:",e.elementId)}},recreateSlot:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.elementId;e&&(this.destroySlot(n,e),this.removeFromGlobals(n)),this.removeAdlightningButton(n);var r=document.getElementById(n),i=n+"-0-respunit";if(n.endsWith("-respunit")){var o=n.split("-"),a=1+(1*o[o.length-2]|0);i="".concat(o.slice(0,o.length-2).join(""),"-").concat(a,"-respunit")}r.id=i,e.elementId=i,this.defineNewAdUnit(e),t&&this.displayAdSlot(e)},watchSlotSizing:function(e){var t=this,n=document.getElementById(e.elementId);n||Pi.log("watchSlotSizing:: slot element not found:",e.elementId),new MutationObserver((function(e){e.forEach((function(e){var n=e.target;Pi.log("watchSlotSizing:: zafMaxDimensions mutation:",n.id);var r=e.oldValue,o=n.dataset.zafMaxDimensions;if(r!=o){var a=i(o.split("x"),2),s=a[0],c=a[1],u=t.getSlotByElementId(n.id);t.updateSlotSizes(u,[s,c],!0,!0)}else Pi.log("watchSlotSizing:: zafMaxDimensions mutation has no change:",n.id)}))})).observe(n,{childList:!1,subtree:!1,attributes:!0,attributeFilter:["data-zaf-max-dimensions"],attributeOldValue:!0})}},Fi="str",Ui="int",Mi="float",qi="bool";function Li(e){var t;return e&&(t={},[{name:"bidderCode",type:Fi},{name:"width",type:Ui},{name:"height",type:Ui},{name:"playerWidth",type:Ui},{name:"playerHeight",type:Ui},{name:"adId",type:Fi},{name:"requestId",type:Fi},{name:"mediaType",type:Fi},{name:"source",type:Fi},{name:"cpm",type:Mi},{name:"creativeId",type:Fi},{name:"dealId",type:Fi},{name:"currency",type:Fi},{name:"netRevenue",type:qi},{name:"ttl",type:Ui},{name:"originalCpm",type:Mi},{name:"originalCurrency",type:Fi},{name:"auctionId",type:Fi},{name:"responseTimestamp",type:Ui},{name:"requestTimestamp",type:Ui},{name:"bidder",type:Fi},{name:"timeToRespond",type:Ui},{name:"status",type:Fi},{name:"none",type:"none"}].forEach((function(n){var r=n.name,i=n.type,o=e[r];if(null!=o)switch(i){case qi:t[r]=function(e){return"boolean"!=typeof e?"1"==e||"true"===e:e}(o);break;case Ui:t[r]=function(e){return Number.isInteger(e)?e:parseInt(e)}(o);break;case Fi:t[r]=function(e){return null!==e&&e.toString?e.toString():"NULL"}(o);break;case Mi:t[r]=function(e){return Number(e)===e&&e%1!=0?e:parseFloat(e)}(o);break;default:t[r]=o}}))),t}var Wi={config:{},init:function(e){var t=this;this.config=e,googletag.cmd.push(zamaf.wrap((function(){googletag.pubads().addEventListener("slotRenderEnded",zamaf.wrap(t.slotRenderedInfo.bind(t))),googletag.pubads().addEventListener("slotOnload",zamaf.wrap(t.slotOnLoad.bind(t)))}))),zamaf.elementBidWonMap={}},_createInfoWithDfpEvent:function(e,t){var n=t.slot.getAdUnitPath(),r={};return["advertiserId","campaignId","creativeId","isEmpty","lineItemId","adserverTargeting"].forEach((function(e){null!==t[e]&&void 0!==t[e]&&(r[e]=t[e])})),Array.isArray(t.size)?(r.size_0=t.size[0],r.size_1=t.size[1]):t.size&&(r.size=t.size),{elementId:e,code:n,dfp:r}},slotRenderedInfo:function(e){var t=e.slot,n=t.getSlotElementId(),r=this._createInfoWithDfpEvent(n,e),i=this.config.options.targetingPrefix,o=void 0===i?"hb_":i,a=function(e,t){var n={};return e.forEach((function(e){var r=t(e);1===r.length?n[e]=r[0]:r.length>1&&r.forEach((function(t){var r="".concat(e,"_").concat(t);n[r]=1}))})),n}(t&&t.getTargetingKeys(),t.getTargeting.bind(t));r.adserverTargeting=a;var s=a[o+"adid"],c=function(e,t){if(!e)return!1;var n=pbjs.getAllWinningBids(),r=function(t){return t.adId===e},i=n.find(r);if(!i){var o=pbjs.getAllPrebidWinningBids();if(!(i=o.find(r))){var a=n&&n.map((function(e){return e.adId})),s=o&&o.map((function(e){return e.adId}));if(a.length>0&&s.length>0){var c={error:{name:"No bid found",message:"No winning bid found for adId ".concat(e,". Winning bids: ").concat(a.join(","),". Winning bids not rendered: ").concat(s.join(","),".")}};window.zamaf._eventEmitter.emit(fr,t,c)}}}return Li(i)}(s,this.config);return(c=c||zamaf.auctionManager.getAdUnitBid(n,s))&&(r.bid=c),zamaf.elementBidWonMap[n]=r,zamaf.elementBidWonMap[s]&&zamaf.elementBidWonMap[s].length?zamaf.elementBidWonMap[s].push(r):zamaf.elementBidWonMap[s]=[r],zamaf.renderUnitInfoEvent(n,r),r},slotOnLoad:function(e){var t=e.slot.getSlotElementId(),n=zamaf.elementBidWonMap[t];return zamaf.loadUnitInfoEvent(t,n),n},slotOnPbjsRender:function(e){zamaf.elementBidWonMap[e].forEach((function(e){zamaf.pbjsRenderEvent(e.elementId,e)})),delete zamaf.elementBidWonMap[e]}},Hi=dt("gtp:tracker");function Vi(e,t,n){var r=n.split(":");Hi.log("Setup tracking event: %j",n),googletag.pubads().addEventListener(r[1],e.wrap((function(r){var i=Cr(r);e._eventEmitter.emit(n,t,i)})))}function Gi(e,t){var n=this;["gpt:slotOnload","gpt:slotRenderEnded","gpt:impressionViewable","gpt:slotRequested","gpt:slotVisibilityChanged","gpt:slotResponseReceived"].forEach((function(r){Vi.call(n,e,t,r)}))}function Ji(e,t,n){var r={error:{name:"Creative iframe error",message:"Error loading iframe with id ".concat(e,". Error message ").concat(t,".")}};zamaf.eventTracker.track(fr,n,r)}var $i={addCssRule:function(e,t,n){var r;this.sheet=this.sheet||((r=document.createElement("style")).appendChild(document.createTextNode("")),document.head.appendChild(r),r.sheet),function(e,t,n,r){"insertRule"in e?e.insertRule(t+"{"+n+"}",r):"addRule"in e&&e.addRule(t,n,r)}(this.sheet,e,t,n)}},Ki=dt("tcf:helper");class Xi{constructor(e){var t;Ki.log("new TCF Helper"),this.zaf=e,this.tcfVersion=!1,this.userInit=!1,zamaf.user.isGDPR||(this.userInit=!0),this.initCheckCount=0,this.initCheckLimit=100,this.tcfCheckCount=0,this.tcfCheckLimit=100,this.init=!1,this.tcData=null,this.requiredConsents=(n(t={},"storeUserId",["1"]),n(t,"personalizedContent",["5","6"]),n(t,"adPerformance",["7","8","9","10"]),t),this.checkIfTCF2Enabled()}checkIfInit(e){var t=this;this.initCheckCount++,this.init?e():this.initCheckCount<=this.initCheckLimit?setTimeout((function(){t.checkIfInit(e)}),100):Ki.log("init check timed out")}checkIfTCF2Enabled(){var e=this;this.tcfCheckCount++,this.init?Ki.log("tcf is false"):this.tcfCheckCount>this.tcfCheckLimit?Ki.log("tcf check timed out"):setTimeout((function(){if(!window.__tcfapi)return Ki.log("__tcfapi is missing"),e.checkIfTCF2Enabled();Ki.log("__tcfapi is exists"),__tcfapi("ping",2,(function(t){return Ki.log("ping",t),t.cmpLoaded?(e.init=!0,void Ki.log("init is true")):e.checkIfTCF2Enabled()}))}),100)}tcfGetConsent(e){window.__tcfapi("addEventListener",2,(function(t,n){Ki.log("addEventListener",t,n),!n||"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||(e(t),window.__tcfapi("removeEventListener",2,(function(e){}),t.listenerId))}))}whenTCFLoaded(e){var t=this;this.userInit?e():this.checkIfInit((function(){t.tcfGetConsent(e)}))}checkUserConsent(){var e=this;this.tcData&&$(this.tcData,"vendor.consents.".concat("926"),!1)&&Object.keys(this.requiredConsents).forEach((function(t){for(var n=!0,r=e.requiredConsents[t],i=0;i<r.length;i++){var o=r[i];if(!$(e.tcData,"purpose.consents.".concat(o),!1)){n=!1;break}}n&&(zamaf.user.consents=zamaf.user.consents||{},zamaf.user.consents[t]=!0)}))}setupEvents(){var e=this;this.checkIfInit((function(){e.tcfGetConsent((function(t){e.tcData=t,e.checkUserConsent(t),e.zaf.tcfUserReady(t),e.userInit=!0}))}))}}var Qi=dt("class");class Yi{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{this.disposed=e,r(this,e),this._rootEvents(),this.init=!1,this._commandQueue=[],this._unitsForDisplay=[],this.user=this.user||{},this.requestManager=Et,this.auctionManager=Tt,this.cmd={push:this.push.bind(this)},this.config={_undefined:!0},this.tcf=new Xi(this),this.tcf.setupEvents(),e.cmd&&(Qi.log("current commands",e.cmd),e.cmd.forEach(this.cmd.push))}catch(e){throw this.emitException(e),e}}push(e){if(Qi.log("push",e,typeof e,this.init),"function"==typeof e)this.pushCommand(e);else if(e&&e.event&&e.handler){var t="on";e.prepend&&e.once?t="prependOnceListener":e.prepend?t="prependListener":e.once&&(t="once"),this[t](e.event,e.handler)}}pushCommand(e){Qi.log("pushCommand",e,this.init),this.init?zamaf.wrap(e)():this._commandQueue.push(e)}_postInitialize(){this.init=!0,Qi.log("calling command queue",this._commandQueue),this._commandQueue.forEach((function(e){return e()})),this.postInitEvent()}_checkDomain(){var e=!1,t=$(this.config,"allowedDomains",[]);if(t&&t.length)for(var n=0;n<t.length&&!(e=he(window.location.hostname,t[n]));n++);else e=!0;return Qi.log("Domain authorization for ".concat(window.location.hostname," is ").concat(e)),e}wrap(e){var t=this;return function(){try{e.apply(void 0,arguments)}catch(e){throw t.emitException(e),e}}}initialize(e){var t=this,n=e.adConfig;try{var i=function(e,t){var n=t.deviceType,i=r({},e);return wt.log("slots before filtering: ",i.slots,i.dynamicSlots),i.slots=vt(i.slots,n),i.dynamicSlots=vt(i.dynamicSlots,n),wt.log("slots after filtering: ",i.slots,i.dynamicSlots),i}(n,{deviceType:this.user.deviceType});if(this.config=i,!this._checkDomain())throw this.unauthorizedDomainEvent(window.location.hostname),new Error("domain unauthorized for zaf access");this.requestManager.init(this.config),Wi.init(this.config),googletag.cmd.push(this.wrap((function(){Gi(t,t.config)}))),function(e,t){window.googletag.cmd.push(window.zamaf.wrap((function(){if(t&&t.events&&t.events["zaf:creativeiframe:error"]){var n=document.createElement;document.createElementOriginalZaf=document.createElement.bind(document),document.createElement=function(){var r=n.apply(this,arguments);return r.tagName&&"IFRAME"==r.tagName.toUpperCase()&&(r.onerror=function(n){this.id.startsWith("google_ads_iframe_")&&Ji.call(e,this.id,n,t)}),r}.bind(document)}})))}(this,n),Qi.log("config built: ",i);var o=function(){i.options.delay?setTimeout(t.wrap((function(){googletag.cmd.push(t.wrap((function(){t._initialize()})))})),i.options.delay):googletag.cmd.push(t.wrap((function(){document.body?t._initialize():gt(t._initialize.bind(t))})))};zamaf.user.isGDPR?this.once(lr,o):o()}catch(e){throw this.emitException(e),e}}emitException(e){Qi.error("ZAF: unhandled exception",e);var t={error:{name:e.name,message:e.message,stack:e.stack,fileName:e.fileName,lineNumber:e.lineNumber,columnNumber:e.columnNumber}};this._eventEmitter.emit(fr,this.config,t)}_rootEvents(){0!==this._eventEmitter._eventsCount&&this._eventEmitter.removeAllListeners()}_initialize(){this.slotRenderEnded=this.slotRenderEnded||{};var e,t,n,r,i=this.config.options;return St.setupAnalytics(this.config),this.config.enableCCPA&&this.user&&this.user.isCCPA&&"1YYY"===Ln("usconsent")&&googletag.pubads().setPrivacySettings({restrictDataProcessing:!0}),this.config.options.enableSingleRequest&&(Qi.log("enabling single request option"),googletag.pubads().enableSingleRequest()),this.config.options.prebid&&(Qi.log("disable initial load triggered"),googletag.pubads().disableInitialLoad(),googletag.pubads().isInitialLoadDisabled()||Qi.log("unable to disable initial load ")),i.videoElement&&i.videoElement.elementId&&i.videoElement.content&&(e=this.config,t=e.options.videoElement,n=0,(r=function(){var e=document.getElementById(t.elementId);e?e.innerHTML=t.content:n<50&&setTimeout((function(){r()}),100),n++})()),this.disposed.setTargeting&&this.disposed.setTargeting(this.config),$n.initializeTargeting(this.config),this.initUnitEvents(),this.config.options.disableDefineOnInit?(Qi.log("disableDefineOnInit enabled; enabling services"),this.slotsDefinedEvent()):this._defineSlots(this.config),this.config.options.isSpa&&this.initSpaListeners(),document.addEventListener("visibilitychange",this.wrap(function(){this.pageIsViewable=!document.hidden,this.pageVisibilityEvent(!document.hidden)}.bind(this))),this.pageIsViewable=!document.hidden,this._postInitialize(),this._eventEmitter.emit("zaf:page:load",this.config,{}),!0}_enableServices(){this.__enabledServices?Qi.error("Called enable services more than once."):(this.__enabledServices=!0,googletag.enableServices(),this._popDisplayQueue(),this.enableServicesEvent())}displayAsync(e){var t=this;return googletag.cmd.push(this.wrap((function(){t.displayAdSlot(e)}))),!0}displaySync(e){return this.displayAdSlot(e),!0}shouldSlotRender(e,t){return Qi.log("slot type is",t.type),!(e.displayIf&&e.displayIf!=t.type||e.displayIfNot&&e.displayIfNot==t.type)}_displayAdSlot(e){this._unitsForDisplay.push(e)}_popDisplayQueue(){this._displayAdSlot=this.displayAdSlot,this._unitsForDisplay.forEach(this.displaySync.bind(this)),this._unitsForDisplay=null}_prepareUnitForDisplay(e){var t=this;if(!this.config.options.waitForPreludeSkin||!e.displayIf&&!e.displayIfNot)return Qi.log("ad unit not waiting prelude",e.elementId),this._displayAdSlot(e);Qi.log("ad unit waiting on prelude",e.elementId,e.displayIf,e.displayIfNot),this.once(ar,this.wrap((function(n,r){var i=r.configSlot;return i?t.shouldSlotRender(e,i)?t._displayAdSlot(e):void 0:t._displayAdSlot(e)})))}displayAll(){var e=this;return googletag.cmd.push(this.wrap((function(){e.config.slots.forEach((function(t){return e.displaySync(t)}))}))),!0}addImpressionTracker(e){var t=document.body,n=function(e,t){var n=e.insertBefore(document.createElement("img"),e.firstChild);n.className="skin-pixel",n.src=t};switch(typeof e.impressionTracking){case"string":n(t,e.impressionTracking);break;case"object":for(var r in e.impressionTracking)e.impressionTracking.hasOwnProperty(r)&&"string"==typeof e.impressionTracking[r]&&n(t,e.impressionTracking[r])}}runSkin(e){return Oe.call(this,{skin:e,options:this.config.options}),this.skinRenderCallback&&this.skinRenderCallback(e),!0}displaySkin(){return this.runSkin.apply(this,arguments)}}r(Yi.prototype,_i),r(Yi.prototype,Fr),r(Yi.prototype,oi),r(Yi.prototype,Xr),r(Yi.prototype,vi),r(Yi.prototype,zi),r(Yi.prototype,$i),r(Yi.prototype,Ni),r(Yi.prototype,Bi),window.ccpaShowDialog=window.ccpaShowDialog||function(){},window.ccpaConsent=window.ccpaConsent||function(){};var Zi=dt("main");if(window.zamaf_inflight)Zi.warn("ZAF: already included");else{window.zamaf_inflight=!0;var eo=new Yi(window.zamaf);window.zamaf=eo,eo.version="2.2.5",Zi.warn("ZAF: initializing zamaf"),eo.initialize({adConfig:window.zamaf_config})}}())}();
