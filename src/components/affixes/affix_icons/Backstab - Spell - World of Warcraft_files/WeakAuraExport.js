var WeakAuraExport=new function(){const e=WH.Wow.PlayerClass;const a=WH.Wow.PlayerClass.Specialization;const r=WH.getPageData("weakAuraExport.resource.divisors");var t={width:768,stubs:{baseObject:{m:"d",v:1421,s:"2.1.0.7",d:{numTriggers:1,trigger:{},untrigger:{}}},display:{"icon-large":{fontSize:24,height:64,regionType:"icon",width:64},"icon-medium":{fontSize:15,height:44,regionType:"icon",width:44},"icon-small":{fontSize:7,height:26,regionType:"icon",width:26},"progress-bar-large":{regionType:"aurabar",stacksSize:24,displayTextLeft:" ",displayTextRight:" ",height:44,icon_side:"LEFT",textSize:24,texture:"Blizzard Raid Bar",timerSize:24,width:294,specialProcessing:function(e,a){var r=E("color");e.barColor=O(r.color);delete e.specialProcessing;return e}},"progress-bar-medium":{regionType:"aurabar",stacksSize:16,displayTextLeft:" ",displayTextRight:" ",height:26,icon_side:"LEFT",textSize:16,texture:"Blizzard Raid Bar",timerSize:16,width:226,specialProcessing:function(e,a){var r=E("color");e.barColor=O(r.color);delete e.specialProcessing;return e}},"progress-bar-small":{regionType:"aurabar",stacksSize:12,displayTextLeft:" ",displayTextRight:" ",height:15,icon_side:"LEFT",textSize:12,texture:"Blizzard Raid Bar",timerSize:12,width:200,specialProcessing:function(e,a){var r=E("color");e.barColor=O(r.color);delete e.specialProcessing;return e}}},trigger:{"off-cooldown":{trigger:{type:"status",event:"Cooldown Progress (Spell)",showOn:"showOnReady",use_showOn:true,use_spellName:true,unevent:"auto"},specialProcessing:function(e,a){e.trigger.spellName=parseInt(a.id);if(a.cooldownIsRecharge){e.trigger.showOn="showAlways";e.trigger.charges="0";e.trigger.charges_operator=">";e.trigger.use_charges=true;e.cooldown=true;e.inverse=true}delete e.specialProcessing;return e}},"on-cooldown":{cooldown:true,inverse:true,trigger:{type:"status",event:"Cooldown Progress (Spell)",showOn:"showOnCooldown",use_showOn:true,use_spellName:true,unevent:"auto"},specialProcessing:function(e,a){e.trigger.spellName=a.id;if(a.cooldownIsRecharge&&a.maxCharges){e.trigger.showOn="showAlways";e.trigger.charges=""+a.maxCharges;e.trigger.charges_operator="<";e.trigger.use_charges=true}delete e.specialProcessing;return e}},"player-has-buff":{cooldown:true,trigger:{type:"aura",debuffType:"HELPFUL",subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"player",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"player-has-debuff":{cooldown:true,trigger:{type:"aura",debuffType:"HARMFUL",subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"player",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"pet-has-buff":{cooldown:true,trigger:{type:"aura",debuffType:"HELPFUL",subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"pet",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"pet-has-debuff":{cooldown:true,trigger:{type:"aura",debuffType:"HARMFUL",subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"pet",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"target-has-buff":{cooldown:true,trigger:{type:"aura",debuffType:"HELPFUL",subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"target",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"target-has-debuff":{cooldown:true,trigger:{type:"aura",debuffType:"HARMFUL",subeventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"target",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"player-missing-buff":{trigger:{type:"aura",debuffType:"HELPFUL",inverse:true,subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"player",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"player-missing-debuff":{trigger:{type:"aura",debuffType:"HARMFUL",inverse:true,subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"player",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"pet-missing-buff":{trigger:{type:"aura",debuffType:"HELPFUL",inverse:true,subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"pet",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"pet-missing-debuff":{trigger:{type:"aura",debuffType:"HARMFUL",inverse:true,subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"pet",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"target-missing-buff":{trigger:{type:"aura",debuffType:"HELPFUL",inverse:true,subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"target",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"target-missing-debuff":{trigger:{type:"aura",debuffType:"HARMFUL",inverse:true,subeventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"target",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"player-has-totem":{trigger:{type:"status",event:"Totem"},specialProcessing:function(e,a){if(S()){e.trigger.totemName=a.name;e.trigger.use_totemName=true}if(!isNaN(a.totemType)){e.trigger.totemType=a.totemType;e.trigger.use_totemType=true}delete e.specialProcessing;return e}},"player-missing-totem":{trigger:{type:"status",event:"Totem",use_inverse:true},specialProcessing:function(e,a){if(S()){e.trigger.totemName=a.name;e.trigger.use_totemName=true}if(!isNaN(a.totemType)){e.trigger.totemType=a.totemType;e.trigger.use_totemType=true}delete e.specialProcessing;return e}},"player-health-low":{trigger:{type:"status",event:"Health",percenthealth:"50",percenthealth_operator:"<",unit:"player",use_unit:true,use_percenthealth:true},specialProcessing:function(e,a){if(a.healthPercent){e.trigger.percenthealth=""+a.healthPercent}delete e.specialProcessing;return e}},"target-health-low":{trigger:{type:"status",event:"Health",percenthealth:"20",percenthealth_operator:"<",unit:"target",use_unit:true,use_percenthealth:true},specialProcessing:function(e,a){if(a.healthPercent){e.trigger.percenthealth=""+a.healthPercent}delete e.specialProcessing;return e}},"player-is-casting":{trigger:{type:"status",debuffType:"HELPFUL",event:"Cast",subeventPrefix:"SPELL",subeventSuffix:"_CAST_START",unevent:"auto",unit:"player",use_spell:true,use_unit:true},untrigger:{unit:"player"},specialProcessing:function(e,a){e.trigger.spell=a.name;delete e.specialProcessing;return e}},"target-is-casting":{trigger:{type:"status",debuffType:"HELPFUL",event:"Cast",subeventPrefix:"SPELL",subeventSuffix:"_CAST_START",unevent:"auto",unit:"target",use_spell:true,use_unit:true},untrigger:{unit:"target"},specialProcessing:function(e,a){e.trigger.spell=a.name;delete e.specialProcessing;return e}},"group-member-has-buff":{cooldown:true,trigger:{type:"aura",debuffType:"HELPFUL",group_count:"1",group_countOperator:">=",name_info:"players",subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"group",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"group-member-has-debuff":{cooldown:true,trigger:{type:"aura",debuffType:"HARMFUL",group_count:"1",group_countOperator:">=",name_info:"players",subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"group",use_unit:true},specialProcessing:function(e,a){e=k(a,e);delete e.specialProcessing;return e}},"no-pet":{trigger:{type:"status",event:"Conditions",unevent:"auto",unit:"player",use_unit:true,use_alive:true,use_mounted:false,use_HasPet:false,use_vehicle:false}},"pet-health-low":{trigger:{type:"status",event:"Health",percenthealth:"50",percenthealth_operator:"<",unit:"pet",use_unit:true,use_percenthealth:true},additional_triggers:{1:{trigger:{type:"status",event:"Health",health:"0",health_operator:">",unit:"pet",use_unit:true,use_health:true}}},numTriggers:2,specialProcessing:function(e,a){if(a.healthPercent){e.trigger.percenthealth=""+a.healthPercent}delete e.specialProcessing;return e}},"pet-is-dead":{trigger:{type:"status",event:"Health",percenthealth:"0",percenthealth_operator:"<=",unit:"pet",use_unit:true,use_percenthealth:true}},"ability-is-usable":{trigger:{type:"status",event:"Action Usable",use_spellName:true},specialProcessing:function(e,a){e.trigger.spellName=parseInt(a.id);delete e.specialProcessing;return e}},"resources-available":{trigger:{type:"status",power_operator:">=",event:"Power",use_power:true,use_powertype:true},specialProcessing:function(e,a){if(a.powerCosts&&a.powerCosts[0]){const o=r[parseInt(a.powerCosts[0].powertype)]||1;switch(parseInt(a.powerCosts[0].powertype)){case 1:case 6:e.trigger.powertype=parseInt(a.powerCosts[0].powertype);e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;break;case 5:e.trigger={type:"status",event:"Death Knight Rune",use_includeDeath:true};if(a.runeCosts){var t=["blood","unholy","frost","death"];for(var s=0,i;i=t[s];s++){if(a.runeCosts[i]&&parseInt(a.runeCosts[i])){e.trigger[i+"Runes"]=a.runeCosts[i];e.trigger[i+"Runes_operator"]=">=";e.trigger["use_"+i+"Runes"]=true}}}else{e.trigger.use_runesCount=true;e.trigger.runesCount=""+parseInt(a.powerCosts[0].cost)/o;e.trigger.runesCount_operator=">="}break;case 7:e.trigger.event="Shards";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 8:e.trigger.event="Astral Power";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 9:e.trigger.event="Holy Power";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;break;case 11:e.trigger.powertype=parseInt(a.powerCosts[0].powertype);e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;break;case 12:e.trigger.event="Chi Power";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 13:e.trigger.event="Insanity";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 14:e.trigger.event="Burning Embers";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 15:e.trigger.event="Demonic Fury";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 16:e.trigger.powertype=parseInt(a.powerCosts[0].powertype);e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;break;case 17:e.trigger.event="Fury";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 18:e.trigger.event="Pain";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;default:e.trigger.powertype=parseInt(a.powerCosts[0].powertype);e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o}}delete e.specialProcessing;return e}},"low-resources":{trigger:{type:"status",power:"40",power_operator:"<",event:"Power",use_power:true,use_powertype:true},specialProcessing:function(e,a){if(a.powerCosts&&a.powerCosts[0]){const o=r[parseInt(a.powerCosts[0].powertype)]||1;switch(parseInt(a.powerCosts[0].powertype)){case 1:case 6:e.trigger.powertype=parseInt(a.powerCosts[0].powertype);e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;break;case 5:e.trigger={type:"status",event:"Death Knight Rune",use_includeDeath:true};if(a.runeCosts){var t=["blood","unholy","frost","death"];for(var s=0,i;i=t[s];s++){if(a.runeCosts[i]&&parseInt(a.runeCosts[i])){e.trigger[i+"Runes"]=a.runeCosts[i];e.trigger[i+"Runes_operator"]=">=";e.trigger["use_"+i+"Runes"]=true}}}else{e.trigger.use_runesCount=true;e.trigger.runesCount=""+parseInt(a.powerCosts[0].cost)/o;e.trigger.runesCount_operator=">="}break;case 7:e.trigger.event="Shards";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 8:e.trigger.event="Astral Power";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 9:e.trigger.event="Holy Power";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;break;case 11:e.trigger.powertype=parseInt(a.powerCosts[0].powertype);e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;break;case 12:e.trigger.event="Chi Power";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 13:e.trigger.event="Insanity";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 14:e.trigger.event="Burning Embers";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 15:e.trigger.event="Demonic Fury";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 16:e.trigger.powertype=parseInt(a.powerCosts[0].powertype);e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;break;case 17:e.trigger.event="Fury";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;case 18:e.trigger.event="Pain";e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o;delete e.trigger.use_powertype;break;default:e.trigger.powertype=parseInt(a.powerCosts[0].powertype);e.trigger.power=""+parseInt(a.powerCosts[0].cost)/o}}delete e.specialProcessing;return e}},"target-interruptible":{trigger:{type:"status",event:"Cast",subEventPrefix:"SPELL",subeventSuffix:"_CAST_START",unit:"target",use_interruptible:true,use_unit:true}},always:{trigger:{type:"status",event:"Conditions",use_alwaystrue:true,unevent:"auto"}},"combo-points":{trigger:{type:"status",event:"Combo Points",combopoints:"5",combopoints_operator:">=",use_combopoints:true}},"target-needs-rez":{trigger:{type:"status",event:"Health",health:"1",health_operator:"<",unit:"target",use_health:true,use_unit:true},additional_triggers:{1:{trigger:{type:"status",character:"player",event:"Unit Characteristics",hostility:"friendly",unit:"target",use_character:true,use_hostility:true,use_unit:true}}},numTriggers:2},"target-is-friendly":{trigger:{type:"status",event:"Unit Characteristics",hostility:"friendly",unit:"target",use_hostility:true,use_unit:true}},"target-is-enraged":{trigger:{type:"aura",debuffClass:"enrage",debuffType:"HELPFUL",fullscan:true,name_operator:"match('%s')",unit:"target",use_debuffClass:true}},"missing-conjured-item":{trigger:{type:"status",event:"Item Count",count:"1",count_operator:"<",use_count:true,use_itemName:true},specialProcessing:function(e,a){e.trigger.itemName=a.conjuredItemId;delete e.specialProcessing;return e}}}},settings:{display:[{name:WH.TERMS.icon},{name:WH.TERMS.large,fullName:WH.TERMS.largeicon.indexOf("[")!=0?WH.TERMS.largeicon:WH.TERMS.icon+WH.TERMS.colon_punct+WH.TERMS.large,type:"icon-large",usesColor:false},{name:WH.TERMS.medium,fullName:WH.TERMS.mediumicon.indexOf("[")!=0?WH.TERMS.mediumicon:WH.TERMS.icon+WH.TERMS.colon_punct+WH.TERMS.medium,type:"icon-medium",usesColor:false},{name:WH.TERMS.small,fullName:WH.TERMS.smallicon.indexOf("[")!=0?WH.TERMS.smallicon:WH.TERMS.icon+WH.TERMS.colon_punct+WH.TERMS.small,type:"icon-small",usesColor:false},{name:WH.TERMS.progressbar},{name:WH.TERMS.large,fullName:WH.TERMS.largeprogressbar.indexOf("[")!=0?WH.TERMS.largeprogressbar:WH.TERMS.progressbar+WH.TERMS.colon_punct+WH.TERMS.large,type:"progress-bar-large",format:WH.TERMS.spellprogress_format,usesColor:true},{name:WH.TERMS.medium,fullName:WH.TERMS.mediumprogressbar.indexOf("[")!=0?WH.TERMS.mediumprogressbar:WH.TERMS.progressbar+WH.TERMS.colon_punct+WH.TERMS.medium,type:"progress-bar-medium",format:WH.TERMS.spellprogress_format,usesColor:true},{name:WH.TERMS.small,fullName:WH.TERMS.smallprogressbar.indexOf("[")!=0?WH.TERMS.smallprogressbar:WH.TERMS.progressbar+WH.TERMS.colon_punct+WH.TERMS.small,type:"progress-bar-small",format:WH.TERMS.spellprogress_format,usesColor:true}],trigger:[{name:WH.TERMS.player,textColor:"player"},{name:WH.TERMS.hasbuff,fullName:WH.TERMS.playerhasbuff,type:"player-has-buff",format:z(WH.TERMS.spellbuffingunit_format,WH.TERMS.player)},{name:WH.TERMS.hasdebuff,fullName:WH.TERMS.playerhasdebuff,type:"player-has-debuff",format:z(WH.TERMS.spelldebuffingunit_format,WH.TERMS.player)},{name:WH.TERMS.missingbuff,fullName:WH.TERMS.playermissingbuff,type:"player-missing-buff",format:z(WH.TERMS.unitmissingbuff_format,WH.TERMS.player)},{name:WH.TERMS.missingdebuff,fullName:WH.TERMS.playermissingdebuff,type:"player-missing-debuff",format:z(WH.TERMS.unitmissingdebuff_format,WH.TERMS.player)},{name:WH.TERMS.healthlow,fullName:WH.TERMS.playerhealthislow,type:"player-health-low",format:WH.TERMS.playerhealthislow},{name:WH.TERMS.iscasting,fullName:WH.TERMS.playeriscasting,type:"player-is-casting",format:z(WH.TERMS.iscasting_format,WH.TERMS.player)},{name:WH.TERMS.target,textColor:"target"},{name:WH.TERMS.hasbuff,fullName:WH.TERMS.targethasbuff,type:"target-has-buff",format:z(WH.TERMS.spellbuffingunit_format,WH.TERMS.target)},{name:WH.TERMS.hasdebuff,fullName:WH.TERMS.targethasdebuff,type:"target-has-debuff",format:z(WH.TERMS.spelldebuffingunit_format,WH.TERMS.target)},{name:WH.TERMS.missingbuff,fullName:WH.TERMS.targetmissingbuff,type:"target-missing-buff",format:z(WH.TERMS.unitmissingbuff_format,WH.TERMS.target)},{name:WH.TERMS.missingdebuff,fullName:WH.TERMS.targetmissingdebuff,type:"target-missing-debuff",format:z(WH.TERMS.unitmissingdebuff_format,WH.TERMS.target)},{name:WH.TERMS.healthlow,fullName:WH.TERMS.targethealthislow,type:"target-health-low",format:WH.TERMS.targethealthislow},{name:WH.TERMS.iscasting,fullName:WH.TERMS.targetiscasting,type:"target-is-casting",format:z(WH.TERMS.iscasting_format,WH.TERMS.target)},{name:WH.TERMS.pet,textColor:"pet"},{name:WH.TERMS.hasbuff,fullName:WH.TERMS.pethasbuff,type:"pet-has-buff",format:z(WH.TERMS.spellbuffingunit_format,WH.TERMS.pet)},{name:WH.TERMS.hasdebuff,fullName:WH.TERMS.pethasdebuff,type:"pet-has-debuff",format:z(WH.TERMS.spelldebuffingunit_format,WH.TERMS.pet)},{name:WH.TERMS.missingbuff,fullName:WH.TERMS.petmissingbuff,type:"pet-missing-buff",format:z(WH.TERMS.unitmissingbuff_format,WH.TERMS.pet)},{name:WH.TERMS.missingdebuff,fullName:WH.TERMS.petmissingdebuff,type:"pet-missing-debuff",format:z(WH.TERMS.unitmissingdebuff_format,WH.TERMS.pet)},{name:WH.TERMS.healthlow,fullName:WH.TERMS.pethealthlow,type:"pet-health-low",format:WH.TERMS.pethealthlow},{name:WH.TERMS.abilityisusable,type:"ability-is-usable",format:WH.TERMS.spellavailable_format,postLabels:true},{name:WH.TERMS.offcooldown,type:"off-cooldown",format:WH.TERMS.spellavailable_format},{name:WH.TERMS.oncooldown,type:"on-cooldown",format:WH.TERMS.spelloncooldown_format},{name:WH.TERMS.playerhastotem,type:"player-has-totem",condition:function(){return i.allowTotemTriggers}},{name:WH.TERMS.playermissingtotem,type:"player-missing-totem",condition:function(){return i.allowTotemTriggers}},{name:WH.TERMS.targetneedsresurrection,type:"target-needs-rez",condition:function(){return i.allowTargetNeedsResTrigger}},{name:WH.TERMS.targetisfriendly,type:"target-is-friendly",condition:function(){return false}},{name:WH.TERMS.targetisenraged,type:"target-is-enraged",condition:function(){return i.allowTargetIsEnragedTrigger}},{name:WH.TERMS.targetinterruptible,type:"target-interruptible",format:WH.TERMS.targetinterruptible},{name:WH.TERMS.missingconjureditem,type:"missing-conjured-item",condition:function(){return i.allowMissingConjuredItemTrigger}},{name:WH.TERMS.alwaysvisible,type:"always"},{name:WH.TERMS.nopet,type:"no-pet",condition:function(){return i.allowNoPetTrigger}},{name:WH.TERMS.petisdead,type:"pet-is-dead",condition:function(){return i.allowPetIsDeadTrigger}},{name:WH.TERMS.resourcesavailable,type:"resources-available",format:WH.TERMS.canbeused_format,condition:function(){return i.allowResourcesAvailableTrigger||i.powerCosts&&i.powerCosts.length==1&&i.powerCosts[0].powertype&&i.powerCosts[0].powertype!="0"||i.powerCosts&&i.powerCosts.length==2&&i.powerCosts[0].powertype&&i.powerCosts[0].powertype=="5"&&i.powerCosts[1].powertype&&i.powerCosts[1].powertype=="6"&&parseInt(i.powerCosts[1].cost)<=0}},{name:WH.TERMS.lowresources,type:"low-resources",format:WH.TERMS.lowresources,condition:function(){return i.allowResourcesAvailableTrigger||i.allowLowResourcesTrigger||i.powerCosts&&i.powerCosts.length==1&&i.powerCosts[0].powertype&&i.powerCosts[0].powertype!="0"}},{name:WH.TERMS.combopointsavailable,type:"combo-points",format:WH.TERMS.canbeused_format,condition:function(){return i.allowComboPointsTrigger}},{name:WH.TERMS.groupmemberhasbuff,type:"group-member-has-buff",format:WH.TERMS.groupmemberhasbuff+WH.TERMS.colon_punct+"$1",condition:function(){return i.allowGroupMemberHasBuffTrigger}},{name:WH.TERMS.groupmemberhasdebuff,type:"group-member-has-debuff",format:WH.TERMS.groupmemberhasdebuff+WH.TERMS.colon_punct+"$1",condition:function(){return i.allowGroupMemberHasDebuffTrigger}}],combat:[{name:WH.TERMS.incombat,type:true},{name:WH.TERMS.outofcombat,type:false},{name:WH.TERMS.any,type:null}],color:[{name:WH.Wow.Item.getQualityName(WH.Wow.Item.QUALITY_POOR),type:"poor",qualityID:WH.Wow.Item.QUALITY_POOR,color:WH.Wow.Item.getQualityColor(WH.Wow.Item.QUALITY_POOR)},{name:WH.Wow.Item.getQualityName(WH.Wow.Item.QUALITY_COMMON),type:"common",qualityID:WH.Wow.Item.QUALITY_COMMON,color:WH.Wow.Item.getQualityColor(WH.Wow.Item.QUALITY_COMMON)},{name:WH.Wow.Item.getQualityName(WH.Wow.Item.QUALITY_UNCOMMON),type:"uncommon",qualityID:WH.Wow.Item.QUALITY_UNCOMMON,color:WH.Wow.Item.getQualityColor(WH.Wow.Item.QUALITY_UNCOMMON)},{name:WH.Wow.Item.getQualityName(WH.Wow.Item.QUALITY_RARE),type:"rare",qualityID:WH.Wow.Item.QUALITY_RARE,color:WH.Wow.Item.getQualityColor(WH.Wow.Item.QUALITY_RARE)},{name:WH.Wow.Item.getQualityName(WH.Wow.Item.QUALITY_EPIC),type:"epic",qualityID:WH.Wow.Item.QUALITY_EPIC,color:WH.Wow.Item.getQualityColor(WH.Wow.Item.QUALITY_EPIC)},{name:WH.Wow.Item.getQualityName(WH.Wow.Item.QUALITY_LEGENDARY),type:"legendary",qualityID:WH.Wow.Item.QUALITY_LEGENDARY,color:WH.Wow.Item.getQualityColor(WH.Wow.Item.QUALITY_LEGENDARY)},{name:WH.Wow.Item.getQualityName(WH.Wow.Item.QUALITY_ARTIFACT),type:"artifact",qualityID:WH.Wow.Item.QUALITY_ARTIFACT,color:WH.Wow.Item.getQualityColor(WH.Wow.Item.QUALITY_ARTIFACT)},{name:WH.Wow.Item.getQualityName(WH.Wow.Item.QUALITY_HEIRLOOM),type:"heirloom",qualityID:WH.Wow.Item.QUALITY_HEIRLOOM,color:WH.Wow.Item.getQualityColor(WH.Wow.Item.QUALITY_HEIRLOOM)},{name:WH.TERMS.holy,type:"holy",qualityID:8,color:"#f6e6b3"},{name:WH.TERMS.link,type:"link",qualityID:null,color:"#ffd100"},{name:WH.Wow.Item.getQualityName(WH.Wow.Item.QUALITY_FAIL),type:"error",qualityID:WH.Wow.Item.QUALITY_FAIL,color:WH.Wow.Item.getQualityColor(WH.Wow.Item.QUALITY_FAIL)}]}};var s={customizationsAvailable:false,customizationsInUse:false,customizationsShouldBeUsed:true,defaultsSet:false,defaultTrigger:null,displayTimers:{}};var i={name:WH.Types.getUpperSingular(WH.Types.SPELL),color:"common",combat:true,playerRaces:[],playerClasses:[],playerSpecs:[],playerTalents:[],playerPvpTalents:[],id:0,iconFilename:WH.Icon.UNKNOWN,display:"progress-bar-medium",trigger:"target-is-casting"};var o=[[/\^/g,"}"],[/~/g,"~|"],[/\s/g,"~`"]];var n={};var c=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9","(",")"];this.setOptions=function(a){if(typeof a=="object"&&!s.defaultsSet){$.extend(i,a);if(!a.hasOwnProperty("color")&&a.playerClasses&&a.playerClasses.length==1&&e.getIdString(a.playerClasses[0])){if(a.playerClasses[0]==e.PRIEST){i.color="holy"}else{i.color=e.getIdString(a.playerClasses[0])}}s.defaultsSet=true;W(a);s.defaultTrigger=i.trigger}};this.show=function(e){WeakAuraExport.setOptions(e);Lightbox.show("weakAuraExport",{onShow:l})};this.displayAura=function(e){var a=$(e);a.addClass("weak-aura-export-display");var r=a.parents(".weak-aura-export-preview");if(r.length){r.click(WeakAuraExport.show)}else{a.click(WeakAuraExport.show)}n.infoBoxPreview=e;T();b(e)};function l(e,a,r){e.style.opacity=0;if(a){n.lightboxFrame=e;h();u();f();d()}p(a)}function u(){g();n.lightboxFrame.style.opacity=0;n.wrapper=WH.ce("div",{className:"lightbox-content"});WH.ae(n.lightboxFrame,n.wrapper);var e=WH.getImitationHeading(WH.TERMS.weakaurasexport,2);e.style.marginTop=0;WH.ae(n.wrapper,e);n.iconDisplay=WH.ce("div",{className:"weak-aura-export-display"});WH.ae(n.wrapper,n.iconDisplay);n.stringDisplayWrapper=WH.ce("div",{className:"weak-aura-export-string"});WH.ae(n.wrapper,n.stringDisplayWrapper);n.stringDisplayTable=WH.ce("table");WH.ae(n.stringDisplayWrapper,n.stringDisplayTable);n.stringDisplayTr=WH.ce("tr");WH.ae(n.stringDisplayTable,n.stringDisplayTr);n.stringDisplayInputCell=WH.ce("td");WH.ae(n.stringDisplayTr,n.stringDisplayInputCell);var a=function(){this.select();setTimeout(function(){this.select()}.bind(this),50)};n.stringDisplayInput=WH.ce("input",{type:"text",onfocus:a,onclick:a,onchange:WH.preventTyping,onkeydown:WH.preventTyping,onkeyup:WH.preventTyping});WH.ae(n.stringDisplayInputCell,n.stringDisplayInput);n.stringDisplayCopyCell=WH.ce("td");WH.ae(n.stringDisplayTr,n.stringDisplayCopyCell);n.stringDisplayCopy=WH.ce("a",{innerHTML:WH.TERMS.copy_clipboard,className:"btn btn-site fa fa-clipboard",onclick:A});WH.ae(n.stringDisplayCopyCell,n.stringDisplayCopy);n.stringdisplayError=WH.ce("div",{className:"weak-aura-export-error q10"});WH.ae(n.stringDisplayWrapper,n.stringdisplayError);n.explanation=WH.ce("div",{className:"weak-aura-export-explanation q0",innerHTML:WH.TERMS.weakaurasexport_tip,style:{fontStyle:"italic",textAlign:"center"}});WH.ae(n.wrapper,n.explanation);n.settingsSummary=WH.ce("div",{className:"weak-aura-export-settings-summary"});WH.ae(n.wrapper,n.settingsSummary);n.settingsWrapper=WH.ce("div",{className:"weak-aura-export-settings"});WH.ae(n.wrapper,n.settingsWrapper);var r=WH.ce("a",{text:WH.TERMS.close,className:"dialog-option fa fa-times",href:"javascript:",onclick:Lightbox.hide});WH.ae(n.lightboxFrame,r)}function g(){t.settings.color=e.getAll(WH.dataEnv.BETA).map((a=>({name:e.getName(a),type:e.getIdString(a),classID:a,color:e.getColor(a)}))).concat(t.settings.color);g=()=>{}}function f(){n.settingsSummaryList=WH.ce("div",{className:"weak-aura-export-settings-summary-list"});var e=["display","trigger","combat"];var a=WH.ce("table");e:for(var r=0,o;o=e[r];r++){if(o=="color"&&!i.display.match(/^progress-bar/)){continue}if(o=="combat"&&i.combat===null){continue}var c=WH.TERMS.unknown;for(var l=0,u;u=t.settings[o][l];l++){if(u.type==i[o]){if(!u.name){continue e}c=o=="color"?'<span style="color:'+u.color+'">'+(u.fullName||u.name)+"</span>":'<span class="q1">'+(u.fullName||u.name)+"</span>";break}}var g=WH.ce("tr");WH.ae(g,WH.ce("td",{innerHTML:WH.TERMS[o==="display"?"display_noun":o]+WH.TERMS.colon_punct}));WH.ae(g,WH.ce("td",{innerHTML:c}));WH.ae(a,g)}var f=w();if(f){var d=WH.ce("tr");WH.ae(d,WH.ce("td",{innerHTML:WH.TERMS.requirements+WH.TERMS.colon_punct}));WH.ae(d,WH.ce("td",{innerHTML:'<span class="q1">'+f+"</span>"}));WH.ae(a,d)}if(s.customizationsAvailable&&s.customizationsInUse){var m=WH.ce("tr");WH.ae(m,WH.ce("td",{colSpan:2,innerHTML:WH.TERMS.extra+WH.TERMS.colon_punct+'<span class="q1">'+WH.TERMS.uniquespellcustomizations_tip+"</span>"}));WH.ae(a,m)}WH.ae(n.settingsSummaryList,a);n.settingsSummaryControls=WH.ce("div",{className:"weak-aura-export-settings-summary-controls"},WH.ce("button",{innerHTML:WH.TERMS.customize,className:"btn btn-site btn-large fa fa-cog fa-size-s",onclick:function(){n.settingsSummary.style.display="none";$(n.settingsWrapper).fadeIn();h()},type:"button"}));WH.ae(n.settingsSummary,n.settingsSummaryList);WH.ae(n.settingsSummary,n.settingsSummaryControls)}function d(){WH.ee(n.settingsWrapper);var e=function(e,a,r){WH.ae(e,WH.getImitationHeading(a,3));for(var s=0,o;o=t.settings[r][s];s++){if(!o.name){continue}if(typeof o.condition=="function"&&!o.condition()){continue}var n=WH.ce("label");if(!o.hasOwnProperty("type")){n.setAttribute("data-label","true");WH.st(n,o.name);if(o.textColor){n.setAttribute("data-text-color",o.textColor)}WH.ae(e,WH.ce("div"));WH.ae(e,n);continue}if(o.postLabels){WH.ae(e,WH.ce("div"));n.setAttribute("data-post-labels","true")}if(o.color){n.setAttribute("data-has-color","true");n.setAttribute("data-color",o.color.replace(/^#/,"").toLowerCase());n.style.backgroundColor=o.color}if(o.textColor){n.setAttribute("data-text-color",o.textColor)}var c=WH.ce("input",{type:"radio",name:r});if(o.type==i[r]){c.checked=true;n.setAttribute("data-checked","true")}let a=I.bind(c,r,o.type);WH.aE(c,"change",a);WH.aE(n,"click",a);WH.ae(n,WH.ce("i",{className:"fa fa-check fa-fw"}));WH.ae(n,WH.ce("i",{className:"fa fa-circle fa-fw"}));WH.ae(n,c);WH.ae(n,WH.ct(o.name));WH.ae(e,n)}};n.specialSettingsEnabled=WH.ce("div",{className:"weak-aura-export-settings-special-enabled"});WH.ae(n.specialSettingsEnabled,WH.getImitationHeading(WH.TERMS.extra,3));var a=WH.ce("label",{onclick:function(){s.customizationsShouldBeUsed=false;d();p(false);return false},innerHTML:'<i class="fa fa-check fa-fw"></i><i class="fa fa-circle fa-fw"></i>'+WH.TERMS.uniquespellcustomizations_tip});a.setAttribute("data-checked","true");WH.ae(n.specialSettingsEnabled,a);n.specialSettingsDisabled=WH.ce("div",{className:"weak-aura-export-settings-special-disabled"});WH.ae(n.specialSettingsDisabled,WH.getImitationHeading(WH.TERMS.extra,3));WH.ae(n.specialSettingsDisabled,WH.ce("label",{onclick:function(){s.customizationsShouldBeUsed=true;W(i);d();p(false);return false},"data-checked":"true",innerHTML:'<i class="fa fa-check fa-fw"></i><i class="fa fa-circle fa-fw"></i><span class="r1">'+WH.TERMS.uniquespellcustomizations_tip+"</span>"}));m();n.displaySettings=WH.ce("div",{className:"weak-aura-export-settings-display"});e(n.displaySettings,WH.TERMS.display_noun,"display");n.triggerSettings=WH.ce("div",{className:"weak-aura-export-settings-trigger"});e(n.triggerSettings,WH.TERMS.trigger,"trigger");n.combatSettings=WH.ce("div",{className:"weak-aura-export-settings-combat"});e(n.combatSettings,WH.TERMS.combat,"combat");n.colorSettings=WH.ce("div",{className:"weak-aura-export-settings-color"});e(n.colorSettings,WH.TERMS.color,"color");n.requirementsSettings=WH.ce("div",{className:"weak-aura-export-settings-requirements"});var r=w();if(r){WH.ae(n.requirementsSettings,WH.getImitationHeading(WH.TERMS.requirements,3));WH.ae(n.requirementsSettings,WH.ce("div",{innerHTML:'<span class="q1">'+r+"</span>"}))}var o=WH.ce("form");WH.ae(o,n.specialSettingsEnabled);WH.ae(o,n.specialSettingsDisabled);WH.ae(o,n.displaySettings);WH.ae(o,n.triggerSettings);WH.ae(o,n.combatSettings);WH.ae(o,n.colorSettings);WH.ae(o,n.requirementsSettings);WH.ae(n.settingsWrapper,o)}function m(){if(s.customizationsAvailable&&n.lightboxFrame){if(s.customizationsShouldBeUsed&&s.customizationsInUse){n.specialSettingsEnabled.style.display="block";n.specialSettingsDisabled.style.display="none"}else{n.specialSettingsEnabled.style.display="none";n.specialSettingsDisabled.style.display="block"}}}function p(e){if(!n.lightboxFrame){return}for(var a in s.displayTimers){if(s.displayTimers.hasOwnProperty(a)&&s.displayTimers[a]){clearTimeout(s.displayTimers[a]);s.displayTimers[a]=null}}if(!e){WH.st(n.stringDisplayCopy,WH.TERMS.copy_clipboard);n.stringDisplayCopy.className=n.stringDisplayCopy.className.replace(" fa-check"," fa-clipboard")}var r=E("display");n.colorSettings.style.display=r.usesColor?"block":"none";b(n.iconDisplay);if(n.infoBoxPreview){b(n.infoBoxPreview)}y();if(!e){h()}setTimeout((function(){$(n.stringDisplayInput).focus().select();h();n.lightboxFrame.style.opacity=1}),0)}function b(e){WH.ee(e);e.setAttribute("data-display",i.display);e.setAttribute("data-trigger",i.trigger);if(i.maxStacks&&i.maxStacks>1){e.setAttribute("data-maxstacks",""+i.maxStacks)}if(i.minStacks&&i.minStacks>1){e.setAttribute("data-minstacks",""+i.minStacks)}if(i.maxCharges&&i.maxCharges>1){e.setAttribute("data-maxcharges",""+i.maxCharges)}if(i.minCharges&&i.minCharges>1){e.setAttribute("data-mincharges",""+i.minCharges)}if(i.previewCustomization){e.setAttribute("data-customization",i.previewCustomization)}switch(i.display){case"icon-large":case"icon-medium":case"icon-small":var a=2;switch(i.display){case"icon-medium":a=1;break;case"icon-small":a=0;break;case"icon-large":default:}var r=null;if(i.showText){r=i.showText}else if(i.trigger.match(/has.*buff$/)&&i.maxStacks&&i.maxStacks>1){r=(typeof i.minStacks!="undefined"?i.minStacks:1)+"-"+i.maxStacks}else if(!i.trigger.match(/has.*buff$/)&&i.maxCharges&&i.maxCharges>1){r=(typeof i.minCharges!="undefined"?i.minCharges:1)+"-"+i.maxCharges}WH.ae(e,Icon.create(i.customIcon||i.iconFilename,a,null,null,r));break;case"progress-bar-large":case"progress-bar-medium":case"progress-bar-small":var t=WH.ce("div",{className:"weak-aura-export-display-track"});var o=E("color");var n=WH.ce("div",{className:"weak-aura-export-display-track-bg",style:{backgroundColor:o.color}});var c=WH.ce("div",{className:"weak-aura-export-display-track-icon",style:{backgroundImage:"url("+WH.staticUrl+"/images/wow/icons/large/"+(i.customIcon||i.iconFilename)+".jpg)"}});WH.ae(t,n);WH.ae(t,c);if(i.showTextIcon){var l=WH.ce("div",{className:"weak-aura-export-display-track-icon-text",innerHTML:i.showTextIcon});WH.ae(t,l)}if(i.showTextLeft){var u=WH.ce("div",{className:"weak-aura-export-display-track-left",innerHTML:i.showTextLeft});WH.ae(t,u)}var g=null;if(i.showText){g=i.showText}else if(i.maxStacks&&i.maxStacks>1){g=1+"-"+i.maxStacks}else if(i.maxCharges&&i.maxCharges>1){g=1+"-"+i.maxCharges}if(g){var f=WH.ce("div",{className:"weak-aura-export-display-track-right",innerHTML:g});WH.ae(t,f)}WH.ae(e,t);var d=function(e){e.className+=" animated";s.displayTimers.startBarAnimation=setTimeout((function(){e.style.right="65%";s.displayTimers.refillBar=setTimeout(m.bind(null,e),12e3)}),50)};var m=function(e){e.className=e.className.replace(/ animated/,"");s.displayTimers.resetBar=setTimeout((function(){e.style.right="0%"}),50);s.displayTimers.animateBar=setTimeout((function(){d(e)}),200)};d(n);break}}function h(){Lightbox.setSize(t.width)}function y(){var e=T();var a=R(e);if(WH.isDev()){WH.debug("vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv DEV-ONLY DEBUG LOGGING");WH.debug("CONFIG",t);WH.debug("SETTINGS",i);WH.debug("BUILD",e);WH.debug("SERIALIZED",{serialized:a});WH.debug("ENCODED",{encoded:M(a)});WH.debug("SETTINGS",i);WH.debug("^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ END DEV-ONLY DEBUG LOGGING")}n.stringDisplayInput.value=M(a)}function k(e,a){a.trigger.names={};if(e.ids){a.trigger.spellIds={};var r=0;for(var t in e.ids){r++;if(e.ids.hasOwnProperty(t)){a.trigger.spellIds[r]=parseInt(e.ids[t])}}}else if(e.id){a.trigger.spellIds={1:parseInt(e.id)}}return a}function I(e,a){s.customizationsInUse=false;i[e]=a;$(this.parentNode).siblings().removeAttr("data-checked");this.parentNode.setAttribute("data-checked","true");p(false);m()}function T(r){var o=$.extend(true,{},t.stubs.baseObject);var n={};var c=i.trigger=="group-member-has-buff"?"%n %s":"%s";for(var l in i){if(!i.hasOwnProperty(l)){continue}var u=i[l];switch(l){case"display":if(t.stubs.display[u]){$.extend(true,n,t.stubs.display[u])}if(i.trigger=="group-member-has-buff"){switch(u){case"icon-large":case"icon-medium":case"icon-small":n.displayStacks="%n";break;case"progress-bar-large":case"progress-bar-medium":case"progress-bar-small":n.displayTextRight="%n";break}}if(typeof n.specialProcessing=="function"){n=n.specialProcessing(n,i)}break;case"iconFilename":n.displayIcon=o.i="Interface\\Icons\\"+u.replace(/-tga$/,"");n.auto=false;break;case"id":n.spellName=u;break;case"name":n.id=_(u);break;case"trigger":if(t.stubs.trigger[u]){$.extend(true,n,t.stubs.trigger[u])}if(typeof n.specialProcessing=="function"){n=n.specialProcessing(n,i)}break;case"playerClasses":if(u.length==1){if(e.getIdString(u[0])){WH.ensureObjectPath(n,"load","class","single");n.load["class"].single=e.getIdString(u[0]).toUpperCase();n.load.use_class=true}}else if(u.length>1){WH.ensureObjectPath(n,"load","class","multi");for(var g=0,f;f=u[g];g++){if(e.getIdString(f)){n.load["class"].multi[e.getIdString(f).toUpperCase()]=true}}n.load.use_class=false}break;case"playerRaces":var d={10:"BloodElf",11:"Draenei",3:"Dwarf",7:"Gnome",1:"Human",4:"NightElf",2:"Orc",6:"Tauren",8:"Troll",5:"Undead",9:"Goblin",22:"Worgen",24:"Pandaren",25:"Pandaren",26:"Pandaren"};if(u.length==1){if(d[u[0]]){WH.ensureObjectPath(n,"load","race","single");n.load["race"].single=d[u[0]];n.load.use_race=true}}else if(u.length>1){WH.ensureObjectPath(n,"load","race","multi");for(var p=0,b;b=u[p];p++){if(d[b]){n.load["race"].multi[d[b]]=true}}n.load.use_race=false}break;case"playerSpecs":var h={250:1,251:2,252:3,[a.ID_DEMON_HUNTER_HAVOC]:1,[a.ID_DEMON_HUNTER_VENGEANCE]:2,102:1,103:2,104:3,105:4,[a.ID_EVOKER_AUGMENTATION]:3,[a.ID_EVOKER_DEVASTATION]:1,[a.ID_EVOKER_PRESERVATION]:2,253:1,254:2,255:3,62:1,63:2,64:3,268:1,270:2,269:3,65:1,66:2,70:3,256:1,257:2,258:3,259:1,260:2,261:3,262:1,263:2,264:3,265:1,266:2,267:3,71:1,72:2,73:3};if(u.length==1){if(h[u[0]]){WH.ensureObjectPath(n,"load","spec","single");n.load["spec"].single=h[u[0]];n.load.use_spec=true}}else if(u.length>1){WH.ensureObjectPath(n,"load","spec","multi");for(var y=0,k;k=u[y];y++){if(h[k]){n.load["spec"].multi[h[k]]=true}}n.load.use_spec=false}break;case"playerTalents":if(u.length==1){WH.ensureObjectPath(n,"load","talent","single");n.load["talent"].single=u[0];n.load.use_talent=true}else if(u.length>1){WH.ensureObjectPath(n,"load","talent","multi");for(var I=0,T;T=u[I];I++){n.load["talent"].multi[T]=true}n.load.use_talent=false}break;case"playerPvpTalents":if(u.length==1){WH.ensureObjectPath(n,"load","pvptalent","single");n.load["pvptalent"].single=u[0];n.load.use_pvptalent=true}else if(u.length>1){WH.ensureObjectPath(n,"load","pvptalent","multi");for(var I=0,w;w=u[I];I++){n.load["pvptalent"].multi[w]=true}n.load.use_pvptalent=false}break;case"combat":if(typeof u=="boolean"){WH.ensureObjectPath(n,"load");n.load.use_combat=u}break;case"maxCharges":switch(i.display){case"icon-large":case"icon-medium":case"icon-small":n.displayStacks=c;break;case"progress-bar-large":case"progress-bar-medium":case"progress-bar-small":n.displayTextRight=c;n.stacks=false;break}break;case"maxStacks":switch(i.display){case"icon-large":case"icon-medium":case"icon-small":n.displayStacks=c;break;case"progress-bar-large":case"progress-bar-medium":case"progress-bar-small":n.displayTextRight=c;n.stacks=false;break}break;case"allowComboPointsTrigger":case"allowMissingConjuredItemTrigger":case"allowNoPetTrigger":case"allowResourcesAvailableTrigger":case"allowTargetNeedsResTrigger":case"appliesABuff":case"color":case"conjuredItemId":case"cooldownIsRecharge":case"customization":case"customIcon":case"format":case"healthPercent":case"minCharges":case"minStacks":case"powerCosts":case"previewCustomization":case"runeCosts":case"showText":case"spellId":case"spellIds":case"totemType":break;default:let r=typeof u=="object"&&u instanceof Array?"Array":typeof u;let s="Value is "+(["A","o"].indexOf(r.substr(0,1))>-1?"an ":"a ")+r;WH.error("No handling in place for "+JSON.stringify(l)+".",s,u)}}if(typeof i.customization=="function"&&s.customizationsShouldBeUsed){var S=i.customization(n);if(S&&typeof S=="object"){n=S}else{WH.error("Data object customization did not return object.")}}if(i.trigger!=s.defaultTrigger&&(C(i.trigger)!==C(s.defaultTrigger)||i.trigger=="target-is-casting")){delete n.load["class"];delete n.load.race;delete n.load.spec;delete n.load.talent;delete n.load.pvptalent;delete n.load.use_class;delete n.load.use_race;delete n.load.use_spec;delete n.load.use_talent;delete n.load.use_pvptalent}if(v(n)){if(n.trigger.type=="aura"&&n.trigger.unit!="player"){n.trigger.ownOnly=true}if(n.additional_triggers){for(var z in n.additional_triggers){if(n.additional_triggers[z]&&n.additional_triggers[z].trigger&&n.additional_triggers[z].trigger.type=="aura"&&n.additional_triggers[z].trigger.unit!="player"){n.additional_triggers[z].trigger.ownOnly=true}}}}if(!r){m()}o.d=n;return o}function w(){var a=T(true);var r=[];if(a.d&&a.d.load){var t={Human:1,Orc:2,Dwarf:3,NightElf:4,Undead:5,Tauren:6,Gnome:7,Troll:8,Goblin:9,BloodElf:10,Draenei:11,Worgen:22,Pandaren:24};if(a.d.load.use_race===true){if(a.d.load.race&&a.d.load.race.single&&t[a.d.load.race.single]&&WH.Wow.Race.exists(t[a.d.load.race.single])){r.push(WH.Wow.Race.getName(t[a.d.load.race.single]))}else{r.push(WH.Types.getUpperSingular(WH.Types.RACE))}}else if(a.d.load.use_race===false){if(a.d.load.race&&a.d.load.race.multi){for(var s in a.d.load.race.multi){if(a.d.load.race.multi.hasOwnProperty(s)&&t[s]&&WH.Wow.Race.exists(t[s])){r.push(WH.Wow.Race.getName(t[s]))}}if(!r.length){r.push(WH.Types.getUpperPlural(WH.Types.RACE))}}else{r.push(WH.Types.getUpperPlural(WH.Types.RACE))}}var i={DEATHKNIGHT:6,DEMONHUNTER:12,DRUID:11,HUNTER:3,MAGE:8,MONK:10,PALADIN:2,PRIEST:5,ROGUE:4,SHAMAN:7,WARLOCK:9,WARRIOR:1};var o=null;if(a.d.load.use_class===true){if(a.d.load["class"]&&a.d.load["class"].single&&i[a.d.load["class"].single]&&e.getName(i[a.d.load["class"].single])){r.push('<span class="c'+i[a.d.load["class"].single]+'">'+e.getName(i[a.d.load["class"].single])+"</span>");o=i[a.d.load["class"].single]}else{r.push(WH.Types.getUpperSingular(WH.Types.PLAYER_CLASS))}}else if(a.d.load.use_class===false){if(a.d.load["class"]&&a.d.load["class"].multi){for(var n in a.d.load["class"].multi){if(a.d.load["class"].multi.hasOwnProperty(n)&&i[n]&&e.getName(i[n])){r.push('<span class="c'+i[n]+'">'+e.getName(i[n])+"</span>")}}if(!r.length){r.push(WH.Types.getUpperPlural(WH.Types.PLAYER_CLASS))}}else{r.push(WH.Types.getUpperPlural(WH.Types.PLAYER_CLASS))}}if(o){let e;if(a.d.load.use_spec===true){if(a.d.load.spec&&a.d.load.spec.single&&g_chr_specs_by_class[o][a.d.load.spec.single-1]&&(e=WH.Wow.PlayerClass.Specialization.getName(g_chr_specs_by_class[o][a.d.load.spec.single-1]))){r.push(e)}else{r.push(WH.TERMS.specialization)}}else if(a.d.load.use_spec===false){if(a.d.load.spec&&a.d.load.spec.multi){var c=0;for(var l in a.d.load.spec.multi){if(a.d.load.spec.multi.hasOwnProperty(l)&&g_chr_specs_by_class[o][l-1]&&(e=WH.Wow.PlayerClass.Specialization.getName(g_chr_specs_by_class[o][l-1]))){r.push(e);c++}}if(!c){r.push(g_spell_categories[-12])}}else{r.push(g_spell_categories[-12])}}}else if(typeof a.d.load.use_spec=="boolean"){r.push(WH.TERMS.specialization)}if(a.d.load.use_talent===true){r.push(WH.TERMS.talent)}else if(a.d.load.use_talent===false){r.push(WH.TERMS.talents)}if(a.d.load.use_pvptalent===true){r.push(g_spell_categories_singular[-16])}else if(a.d.load.use_pvptalent===false){r.push(g_spell_categories[-16])}if(a.d.load.use_level===true){r.push(WH.TERMS.level)}}return r.length?r.join(WH.TERMS.comma_punct):""}function _(e,a){var r=i.name;if(!e){e=r}else if(a){r=e}var t=x("trigger",i.trigger);var s=x("display",i.display);if(i.format&&i.format.substr(0,1)!="["){e=WH.sprintf(i.format,r)}else if(t.format&&t.format.substr(0,1)!="["){e=WH.sprintf(t.format,r)}else if(s.format&&s.format.substr(0,1)!="["){e=WH.sprintf(s.format,r)}return e}function v(e){if(!e.load){return false}var a=["use_class","use_race","use_spec","use_talent","use_pvptalent"];for(var r=0,t;t=a[r];r++){if(typeof e.load[t]=="boolean"){return true}}return false}function S(){return i.name==i.name.replace(/[^a-zA-Z0-9 -_'",]/,"")||$(document.body).hasClass("locale-0")}function z(e,a){var r=Array.prototype.slice.call(arguments);for(var t=1,s;s=r[t];t++){if(s.substr(0,1)=="["){return false}}return WH.sprintf.apply(WH,[e,"$1"].concat(Array.prototype.slice.call(arguments,1)))}function x(e,a){for(var r=0,s;s=t.settings[e][r];r++){if(s.type==a){return s}}}function E(e){return x(e,i[e])}function W(a){var r=false;var o=null;var n=null;switch(parseInt(a.id)){case 2484:case 8143:case 8177:case 51485:case 108269:case 108273:case 192058:case 192077:case 196932:i.allowTotemTriggers=true;case 49039:case 49576:case 51052:case 96268:case 108199:case 108200:case 108201:case 212552:case 185123:case 188501:case 189110:case 195072:case 196555:case 204157:case 213241:case 1850:case 5215:case 77764:case 102280:case 102359:case 102401:case 102793:case 106898:case 132469:case 202360:case 781:case 1543:case 6991:case 51753:case 53271:case 61648:case 120360:case 131894:case 186257:case 186265:case 186387:case 190925:case 199483:case 212436:case 212638:case 120:case 122:case 475:case 11426:case 11958:case 44572:case 102051:case 108839:case 108843:case 113724:case 157913:case 190336:case 190356:case 101545:case 109132:case 115310:case 115546:case 116841:case 116844:case 137562:case 198664:case 642:case 1022:case 1044:case 6940:case 183218:case 190784:case 204013:case 204018:case 205656:case 8122:case 14914:case 32375:case 64044:case 73325:case 108920:case 112833:case 121536:case 204263:case 214121:case 1725:case 1784:case 1856:case 2094:case 2983:case 14185:case 31224:case 36554:case 108212:case 121733:case 195457:case 556:case 1535:case 51490:case 58875:case 79206:case 108287:case 192063:case 196884:case 198103:case 5484:case 29858:case 29893:case 30283:case 48020:case 108482:case 109151:case 137587:case 199890:case 199892:case 199954:case 212295:case 212623:case 100:case 3411:case 5246:case 6343:case 6544:case 46968:case 57755:case 107570:case 114029:case 114030:case 114192:o=["icon-medium","on-cooldown"];break;case 196718:case 209426:case 80353:case 76577:case 88611:case 212182:case 212183:case 546:case 5697:case 97462:o=["progress-bar-medium","player-has-buff"];if(a.id==76577||a.id==88611||a.id==212182||a.id==212183){o=["icon-medium","player-has-debuff"];i.previewCustomization="hide-cooldown"}if(a.id==196718||a.id==209426){o=["icon-medium","player-has-buff"];i.previewCustomization="hide-cooldown"}i.customization=function(e){if(i.trigger.match(/-(de)?buff$/)){delete e.load["class"];delete e.load.race;delete e.load.spec;delete e.load.talent;delete e.load.pvptalent;delete e.load.use_class;delete e.load.use_race;delete e.load.use_spec;delete e.load.use_talent;delete e.load.use_pvptalent;switch(parseInt(a.id)){case 76577:e.trigger.spellIds={1:88611};break;case 212182:e.trigger.spellIds={1:212183};break;case 196718:e.trigger.spellIds={1:209426};break}}return e};break;case 47476:case 47528:case 108194:case 221562:case 183752:case 78675:case 106839:case 147362:case 187707:case 2139:case 116705:case 31935:case 96231:case 15487:case 1766:case 57994:case 212619:case 6552:s.customizationsAvailable=true;o=["icon-large","target-interruptible"];i.customization=function(e){if(i.trigger=="target-interruptible"){var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.cooldown=true;e.inverse=true;e.numTriggers=2;s.customizationsInUse=true}return e};break;case 50769:case 115178:case 7328:case 2006:case 2008:o=["icon-large","target-needs-rez"];o.combat=false;i.allowTargetNeedsResTrigger=true;break;case 108270:i.allowTotemTriggers=true;case 48743:case 55233:case 194844:case 205223:case 206931:case 206977:case 207319:case 198589:case 22812:case 61336:case 108238:case 5384:case 19263:case 109304:case 194291:case 45438:case 115176:case 115203:case 122281:case 122278:case 122470:case 122783:case 201318:case 201325:case 31850:case 86659:case 184092:case 205191:case 210191:case 213652:case 586:case 15286:case 19236:case 47585:case 5277:case 74001:case 185311:case 199754:case 30823:case 108271:case 210918:case 6789:case 104773:case 108359:case 108416:case 110913:case 871:case 1160:case 12975:case 55694:case 118038:case 184364:s.customizationsAvailable=true;o=["icon-large","player-health-low"];switch(parseInt(a.id)){case 184092:case 205191:case 213652:case 15286:case 1160:o=["icon-large","off-cooldown"];r=true;break}i.customization=function(e){if(i.trigger.match(/-health-low$/)){var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.cooldown=true;e.inverse=true;e.numTriggers=2;s.customizationsInUse=true}return e};break;case 217832:case 118:case 28271:case 28272:case 61305:case 61721:case 61780:case 126819:case 161353:case 161354:case 161355:case 161372:case 115078:case 10326:case 20066:case 9484:case 1776:case 51514:case 1098:o=["progress-bar-medium","target-has-debuff"];break;case 77758:case 106830:case 106832:o=["progress-bar-medium","target-has-debuff"];break;case 5185:case 116670:case 116694:case 124682:case 82326:case 183998:case 223306:case 596:case 2060:case 2061:case 152118:case 155245:case 186263:case 194509:case 200829:case 1064:case 8004:case 77472:case 197995:s.customizationsAvailable=true;o=["icon-medium","target-health-low"];switch(parseInt(a.id)){case 223306:case 197995:o=["icon-large","off-cooldown"];o.combat=true;r=true;break}i.customization=function(e){if(i.trigger.match(/-health-low$/)){e.trigger.percenthealth="75";e=$.extend(e,{additional_triggers:{1:{trigger:$.extend(true,{},t.stubs.trigger["target-is-friendly"].trigger)}}});e.numTriggers=2;s.customizationsInUse=true}return e};break;case 18960:case 3561:case 3562:case 3563:case 3565:case 3566:case 3567:case 32271:case 32272:case 33690:case 35715:case 49358:case 49359:case 53140:case 88342:case 88344:case 120145:case 132621:case 132627:case 176242:case 176248:case 224869:case 10059:case 11416:case 11417:case 11418:case 11419:case 11420:case 32266:case 32267:case 33691:case 35717:case 49360:case 49361:case 53142:case 88345:case 88346:case 120146:case 132620:case 132626:case 176244:case 176246:case 224871:case 42955:case 43987:case 13819:case 23214:case 34769:case 34767:case 69820:case 69826:case 73629:case 73630:case 126:case 698:case 5784:case 23161:o=["progress-bar-medium","target-is-casting"];i.customization=function(e){if(i.trigger=="target-is-casting"&&e.load){delete e.load["class"];delete e.load.race;delete e.load.spec;delete e.load.talent;delete e.load.pvptalent;delete e.load.use_class;delete e.load.use_race;delete e.load.use_spec;delete e.load.use_talent;delete e.load.use_pvptalent}return e};break;case 83968:case 212040:case 212051:case 212056:case 212036:case 212048:s.customizationsAvailable=true;o=["progress-bar-medium","target-is-casting"];i.customization=function(e){if(i.trigger=="target-is-casting"){if(e.load){delete e.load["class"];delete e.load.race;delete e.load.spec;delete e.load.talent;delete e.load.pvptalent;delete e.load.use_class;delete e.load.use_race;delete e.load.use_spec;delete e.load.use_talent;delete e.load.use_pvptalent}e.trigger.spellIds={1:83968};e.additional_triggers={};var a=[212040,212051,212056,212036,212048];for(var r=0,o;o=a[r];r++){e.additional_triggers[r+1]={trigger:$.extend(true,{},t.stubs.trigger["target-is-casting"].trigger)};delete e.additional_triggers[r+1].trigger.specialProcessing;e.additional_triggers[r+1].trigger.spellIds={1:o};e.additional_triggers[r+1].trigger.names={1:""+o}}e.numTriggers=r+1;e.disjunctive=true;s.customizationsInUse=true}return e};break;case 6197:case 6196:o=["progress-bar-medium","player-has-buff"];break;case 46584:case 883:case 83242:case 83243:case 83244:case 83245:case 31687:case 688:case 697:case 712:case 691:case 30146:case 112866:case 112867:case 112868:case 112869:case 112870:case 1122:case 18540:case 112927:case 157898:case 157757:case 157897:case 108503:case 196099:o=["icon-large","no-pet"];i.allowNoPetTrigger=true;switch(parseInt(a.id)){case 1122:case 18540:case 112927:o=["icon-large","off-cooldown"];r=true;break;case 108503:case 196099:o=["icon-large","player-missing-buff"];break}switch(parseInt(a.id)){case 31687:i.customization=function(e){if(i.trigger=="no-pet"){WH.ensureObjectPath(e,"load","talent","multi");e.load["talent"].multi[1]=true;e.load["talent"].multi[3]=true;e.load.use_talent=false}return e};break;case 883:case 83242:case 83243:case 83244:case 83245:s.customizationsAvailable=true;i.customization=function(a){if(i.trigger=="no-pet"){var r="Interface\\\\Icons\\\\";var t=r+"inv_belt_18";var o=r+i.iconFilename;var n=r+"spell_nature_spiritwolf";a.id=WH.TERMS.petcheck+WH.TERMS.colon_punct+e.getName(e.HUNTER);a.displayStacks=" ";a.auto=true;a.trigger={type:"custom",events:"UNIT_PET, PET_UPDATE, UNIT_ENTERED_VEHICLE, UNIT_EXITED_VEHICLE, MOUNTED_UPDATE, UNIT_HEALTH, ACTIVE_TALENT_GROUP_CHANGED, CHARACTER_POINTS_CHANGED, PLAYER_TALENT_UPDATE",custom:'function()    local spec = GetSpecialization();    if spec == 2 and WeakAuras.CheckTalentByIndex(1) then        if UnitExists("pet") then            return true;        end        return false;    end     if not UnitExists("pet") or UnitIsDead("pet") then        return true;    end    return false;end',customIcon:'function()    local spec = GetSpecialization();    if spec == 2 and WeakAuras.CheckTalentByIndex(1) then        if UnitExists("pet") then            return "'+n+'";        end        return "'+t+'";    end     if not UnitExists("pet") or UnitIsDead("pet") then        return "'+o+'";    end    return "'+t+'";end',custom_hide:"custom",custom_type:"event"};a.untrigger={custom:'function()    local spec = GetSpecialization();    if spec == 2 and WeakAuras.CheckTalentByIndex(1) then        if UnitExists("pet") then            return false;        end        return true;    end     if not UnitExists("pet") or UnitIsDead("pet") then        return false;    end    return true;end'};a.additional_triggers={1:{trigger:{type:"status",event:"Conditions",unevent:"auto",use_alive:true,use_mounted:false,use_vehicle:false},untrigger:{}}};a.numTriggers=2;delete a.load.spec;delete a.load.talent;delete a.load.pvptalent;delete a.load.use_spec;delete a.load.use_talent;delete a.load.use_pvptalent;s.customizationsInUse=true}return a};break;case 688:case 697:case 712:case 691:case 30146:case 112866:case 112867:case 112868:case 112869:case 112870:case 1122:case 18540:case 112927:case 157898:case 157757:case 157897:case 108503:case 196099:s.customizationsAvailable=true;i.customization=function(r){if(i.trigger=="no-pet"||(a.id==108503||a.id==196099)&&i.trigger=="player-missing-buff"){var t="Interface\\\\Icons\\\\";var o=t+"inv_belt_18";var n=o;var c=t+"spell_shadow_summonfelguard";var l=t+"warlock_grimoireofsacrifice";switch(parseInt(a.id)){case 30146:case 112927:case 157897:c=t+i.iconFilename;case 1122:case 18540:case 157898:case 157757:case 108503:case 196099:n=t+"spell_shadow_summonimp";break;case 688:case 697:case 712:case 691:case 112866:case 112867:case 112868:case 112869:case 112870:n=t+i.iconFilename;break}r.id=WH.TERMS.petcheck+WH.TERMS.colon_punct+e.getName(e.WARLOCK);r.displayStacks=" ";r.auto=true;r.trigger={type:"custom",events:"UNIT_PET, PET_UPDATE, UNIT_ENTERED_VEHICLE, UNIT_EXITED_VEHICLE, MOUNTED_UPDATE, UNIT_HEALTH, ACTIVE_TALENT_GROUP_CHANGED, CHARACTER_POINTS_CHANGED, PLAYER_TALENT_UPDATE, UNIT_AURA",custom:'function()    if WeakAuras.CheckTalentByIndex(18) then        for i=1,16 do            if select(11, UnitBuff("player", i)) == 196099 then                return false;            end        end        return true;    end     if not UnitExists("pet") or UnitIsDead("pet") then        return true;    end    return false;end',customIcon:'function()    if WeakAuras.CheckTalentByIndex(18) then        for i=1,16 do            if select(11, UnitBuff("player", i)) == 196099 then                return "'+o+'";            end        end        return "'+l+'";    end     if not UnitExists("pet") or UnitIsDead("pet") then        if GetSpecialization() == 2 then            return "'+c+'";        else            return "'+n+'";        end    end    return "'+o+'";end',custom_hide:"custom",custom_type:"event"};r.untrigger={custom:'function()    if WeakAuras.CheckTalentByIndex(18) then        for i=1,16 do            if select(11, UnitBuff("player", i)) == 196099 then                return true;            end        end        return false;    end     if not UnitExists("pet") or UnitIsDead("pet") then        return false;    end    return true;end'};r.additional_triggers={1:{trigger:{type:"status",event:"Conditions",unevent:"auto",use_alive:true,use_mounted:false,use_vehicle:false},untrigger:{}}};r.numTriggers=2;delete r.load.spec;delete r.load.talent;delete r.load.pvptalent;delete r.load.use_spec;delete r.load.use_talent;delete r.load.use_pvptalent;s.customizationsInUse=true}return r};break}break;case 207167:delete i.maxStacks;i.customization=function(e){e.displayStacks=" ";e.stacks=false;return e};break;case 195330:case 195329:o=["progress-bar-medium","player-has-buff",195329];break;case 195338:case 195336:o=["progress-bar-medium","player-has-buff",195336];i.maxStacks=5;break;case 195637:case 195640:case 213542:case 213543:case 213545:case 213548:case 213551:case 213554:o=["icon-medium","player-has-buff",195640];i.previewCustomization="hide-cooldown";break;case 206891:case 207018:case 207029:case 207017:case 207025:case 207028:case 205800:o=["progress-bar-medium","target-has-debuff",206891];break;case 208683:o=["icon-medium","on-cooldown"];break;case 3714:o=["icon-medium","player-missing-buff"];o.combat=false;break;case 43265:i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:188290}}return e};break;case 45529:s.customizationsAvailable=true;i.allowResourcesAvailableTrigger=true;o=["icon-medium","resources-available"];i.customization=function(e){if(i.trigger=="resources-available"){e.trigger={type:"aura",count:"5",countOperator:">=",debuffType:"HELPFUL",spellIds:{1:114851},unit:"player",use_unit:true,useCount:true};s.customizationsInUse=true}return e};break;case 48263:case 48265:case 48266:o=["icon-large","player-missing-buff"];break;case 49143:i.powerCosts[0].cost="250";break;case 49530:case 81340:o=["progress-bar-medium","player-has-buff",81340];break;case 49184:s.customizationsAvailable=true;o=["icon-large","target-missing-debuff"];o.combat=true;i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:55095};s.customizationsInUse=true}return e};break;case 49222:s.customizationsAvailable=true;o=["icon-large","player-missing-buff"];o.combat=true;i.customization=function(e){if(i.trigger=="player-missing-buff"){var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.cooldown=true;e.inverse=true;e.numTriggers=2;s.customizationsInUse=true}return e};break;case 50842:i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:55078}}return e};break;case 50977:o=["progress-bar-small","on-cooldown"];o.combat=false;break;case 51128:case 51124:case 207230:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:51124}}e.stacks=false;return e};break;case 55078:case 55095:o=["progress-bar-medium","target-has-debuff"];break;case 55090:case 194310:o=["progress-bar-medium","target-has-debuff",194310];i.maxStacks=8;break;case 59057:case 59052:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:59052}}e.stacks=false;return e};break;case 77513:case 77535:s.customizationsAvailable=true;o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(parseInt(a.id)==77513||i.trigger.match(/-has-buff$/)){var r="7.9k  2.1%";if(i.showText!=r){i.showText=r;setTimeout(p,0)}e.trigger.spellIds={1:77535};e.displayTextRight=e.displayStacks="%c";e.customTextUpdate="update";e.customText='function()    if (not UnitBuff("player", "Blood Shield")) then return " "; end    local bloodShield = select(17, UnitAura("player", "Blood Shield"));    if (bloodShield) then        local absoluteVal = bloodShield or 0;        local percentVal = absoluteVal / UnitHealthMax("player");        return string.format("%0.1fk  %0.1f%%%%", absoluteVal / 1000, percentVal * 100);    else        return " ";    end end';s.customizationsInUse=true}else{if(i.showText){delete i.showText;setTimeout(p,0)}}return e};break;case 77575:case 191587:o=["progress-bar-medium","target-has-debuff",191587];break;case 77606:case 111673:o=["progress-bar-medium","target-has-debuff"];break;case 81136:case 81141:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){var a="ability_warrior_bloodnova";if(i.customIcon!=a){i.customIcon=a;setTimeout(p,0)}e.displayIcon="Interface\\Icons\\"+a;e.trigger.spellIds={1:81141}}return e};break;case 85948:o=["icon-large","target-missing-debuff"];i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:194310};e.displayStacks=" "}return e};break;case 108196:case 119975:o=["icon-large","player-health-low"];break;case 152281:case 155159:o=["icon-large","target-missing-debuff",155159];o.combat=true;break;case 178819:case 101568:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:101568}}e.stacks=false;return e};break;case 191747:case 191748:o=["icon-large","target-has-debuff",191748];break;case 194878:case 194879:o=["progress-bar-medium","player-has-buff"];i.maxStacks=3;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:194879}}e.stacks=3;return e};break;case 194912:case 211805:s.customizationsAvailable=true;o=["progress-bar-medium","player-has-buff"];i.maxStacks=10;i.customization=function(e){if(e.spellName==194912){e.displayIcon=429385}if(i.trigger.match(/-buff$/)){var a=C();var r=i.trigger.match(/-has-/)?"true":"false";var t=r=="true"?"false":"true";var o="local spellId1 = 211805;";var n="local spellId1 = 196770;";e.trigger={type:"custom",custom:"function()    "+o+'    for i=1,16 do        local spellId = select(11, UnitBuff("'+a+'", i));        if spellId == spellId1 then            return '+r+";        end    end    return "+t+";end",custom_hide:"custom",custom_type:"event",customDuration:"function()    "+n+'    for i=1,16 do        local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+a+'", i);        if spellId == spellId1 then            return duration or 0, expirationTime or 0;        end    end    return 0, 0;end',customStacks:"function()    "+o+'    for i=1,16 do        local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+a+'", i);        if spellId == spellId1 then            return count or 0;        end    end    return 0;end',events:"SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE, UNIT_AURA"};e.untrigger={custom:"function()    "+o+'    for i=1,16 do        local spellId = select(11, UnitBuff("'+a+'", i));        if spellId == spellId1 then            return '+t+";        end    end    return "+r+";end"};e.cooldown=true;s.customizationsInUse=true}return e};break;case 195182:case 195181:case 219786:o=["icon-medium","player-has-buff"];i.maxStacks=10;i.customization=function(e){if(i.trigger.match(/-buff$/)){if(a.id==219786){var r="ability_deathknight_boneshield";if(i.customIcon!=r){i.customIcon=r;setTimeout(p,0)}e.displayIcon="Interface\\Icons\\"+r}e.trigger.spellIds={1:195181}}return e};break;case 195292:s.customizationsAvailable=true;o=["icon-large","target-missing-debuff"];o.combat=true;i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:55078};s.customizationsInUse=true}return e};break;case 199642:case 199719:o=["icon-medium","target-has-debuff"];i.previewCustomization="hide-cooldown";break;case 199720:o=["progress-bar-medium","target-has-debuff"];i.maxStacks=5;break;case 199725:case 199969:o=["progress-bar-medium","target-has-debuff",199969];delete i.maxStacks;break;case 202731:case 212610:o=["progress-bar-medium","target-has-debuff",212610];i.playerClasses=[6];i.color=e.getIdString(6);break;case 203173:o=["progress-bar-medium","target-has-debuff"];break;case 205727:case 205725:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:205725}}e.stacks=false;return e};break;case 206960:case 206961:o=["progress-bar-medium","target-has-debuff",206961];i.playerClasses=[6];i.color=e.getIdString(6);break;case 207316:case 208278:o=["progress-bar-medium","target-has-debuff",208278];break;case 207346:case 216974:o=["icon-large","player-has-buff",216974];break;case 212744:case 213003:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){if(i.showText!="1-100%"){i.showText="1-100%";setTimeout(p,0)}e.trigger.spellIds={1:213003};e.displayTextRight="%s%"}else{if(i.showText){delete i.showText;setTimeout(p,0)}}e.stacks=false;return e};break;case 212765:case 212764:o=["progress-bar-medium","target-has-debuff",212764];break;case 223829:case 223929:o=["progress-bar-medium","target-has-debuff",223929];break;case 131347:o=["icon-medium","player-has-buff"];i.previewCustomization="hide-cooldown";break;case 162243:s.customizationsAvailable=true;o=["icon-medium","low-resources"];i.customization=function(e){if(i.trigger=="low-resources"){e.trigger.powertype=17;e.trigger.power="100";e.trigger.power_operator="<=";s.customizationsInUse=true}return e};break;case 178940:case 163073:o=["progress-bar-medium","player-has-buff",163073];break;case 187827:case 191427:case 162264:s.customizationsAvailable=true;if(a.id==187827||a.id==191427){o=["icon-large","off-cooldown"]}else if(a.id==162264){o=["progress-bar-medium","player-has-buff"]}i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:191427};e.trigger.spellName=191427;var a=$.extend(true,{},t.stubs.trigger[i.trigger]);a=a.specialProcessing(a,$.extend({},i,{id:187827}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;if(i.trigger=="on-cooldown"){e.disjunctive=true}s.customizationsInUse=true}if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:162264};e.trigger.spellName=162264;var a=$.extend(true,{},t.stubs.trigger[i.trigger]);a=a.specialProcessing(a,$.extend({},i,{id:187827}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;e.disjunctive=true;s.customizationsInUse=true}return e};break;case 198793:case 198813:n=[198793,198813,"icon-medium","on-cooldown",null,"target-has-debuff"];break;case 201473:case 202443:o=["progress-bar-medium","target-has-debuff",202443];break;case 202137:case 204490:n=[202137,204490,"icon-medium","on-cooldown",null,"target-has-debuff"];break;case 202138:case 204843:n=[202138,204843,"icon-medium","on-cooldown",null,"target-has-debuff"];break;case 203551:case 203650:o=["progress-bar-medium","player-has-buff",203650];break;case 203556:case 213405:o=["progress-bar-medium","target-has-debuff",213405];break;case 203720:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];i.customization=function(e){if(i.trigger=="resources-available"){var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.cooldown=true;e.inverse=true;e.numTriggers=2;s.customizationsInUse=true}else if(i.trigger=="off-cooldown"){e.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["resources-available"].trigger)}};delete e.additional_triggers[1].trigger.specialProcessing;e.additional_triggers[1].trigger.powertype=18;e.additional_triggers[1].trigger.power_operator=">=";e.additional_triggers[1].trigger.power="20";e.numTriggers=2;s.customizationsInUse=true}return e};break;case 203753:case 207709:o=["icon-medium","player-has-buff",207709];break;case 203782:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];i.customization=function(e){if(i.trigger=="off-cooldown"){e.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["low-resources"].trigger)},2:{trigger:{type:"status",event:"Global Cooldown",use_inverse:true}}};delete e.additional_triggers[1].trigger.specialProcessing;e.additional_triggers[1].trigger.powertype=18;e.additional_triggers[1].trigger.power_operator="<";e.additional_triggers[1].trigger.power="90";e.numTriggers=3;s.customizationsInUse=true}return e};break;case 204596:case 204598:n=[204596,204598,null,null,null,"target-has-debuff"];break;case 205604:case 205629:o=["icon-medium","off-cooldown"];break;case 205626:case 208769:o=["progress-bar-medium","player-has-buff",208769];i.playerClasses=[12];i.color=e.getIdString(12);break;case 206473:case 207690:o=["progress-bar-medium","target-has-debuff",207690];break;case 206476:case 208628:o=["progress-bar-medium","player-has-buff",208628];break;case 206491:case 208605:case 208579:case 208607:case 208608:case 208609:case 208610:case 208611:case 208612:case 208613:case 208614:s.customizationsAvailable=true;if(a.id==206491){r=true}else{o=["progress-bar-medium","player-has-buff"]}i.customization=function(e){if(i.trigger=="player-has-buff"){if(i.customIcon!="ability_warlock_improveddemonictactics"){i.customIcon="ability_warlock_improveddemonictactics";setTimeout(p,0)}var a=[208605,208579,208607,208608,208609,208610,208611,208612,208613,208614];e.trigger.spellIds={1:a[0]};e.numTriggers=1;e.auto=true;e.disjunctive=true;e.additional_triggers={};for(var r=1,o;o=a[r];r++){var n=$.extend(true,{},t.stubs.trigger[i.trigger]);n=n.specialProcessing(n,$.extend({},i,{id:o}));e.additional_triggers[r]={trigger:n.trigger};e.numTriggers++}s.customizationsInUse=true}else if(i.customIcon){delete i.customIcon;setTimeout(p,0)}return e};break;case 207293:case 207488:o=["progress-bar-medium","target-has-debuff",207488];break;case 207387:case 225413:case 212988:o=["progress-bar-medium","player-has-buff",212988];i.maxStacks=99;break;case 207684:case 207685:n=[207684,207685,"icon-medium","on-cooldown",null,"target-has-debuff"];break;case 207697:case 207693:o=["progress-bar-medium","player-has-buff",207693];break;case 209258:case 209261:o=["icon-medium","player-has-debuff",209261];break;case 209400:case 210003:o=["progress-bar-medium","target-has-debuff",210003];break;case 211053:o=["icon-large","off-cooldown"];i.customization=function(e){if(i.trigger=="off-cooldown"){e.trigger.charges="4";e.trigger.charges_operator=">=";e.trigger.use_charges=true;s.customizationsInUse=true}return e};i.minCharges=4;break;case 211509:case 211510:o=["icon-medium","player-has-buff",211510];i.previewCustomization="hide-cooldown";break;case 218679:case 224509:o=["progress-bar-medium","target-has-debuff",224509];break;case 218910:case 218561:o=["progress-bar-medium","player-has-buff",218561];break;case 227327:case 227330:o=["progress-bar-medium","player-has-buff",227330];i.maxStacks=5;break;case 770:o=["progress-bar-medium","target-has-debuff"];i.playerClasses=[11];i.color=e.getIdString(11);break;case 774:o=["progress-bar-medium","target-has-buff"];break;case 768:case 783:case 5487:case 24858:case 165962:case 171746:s.customizationsAvailable=true;o=["icon-large","player-missing-buff"];i.customization=function(e){if(i.trigger.match(/-buff/)){var r={5487:1,768:2,171746:2,783:3,165962:3,24858:4};e.trigger={type:"status",event:"Stance/Form/Aura",form:r.hasOwnProperty(a.id)?r[a.id]:0,unit:i.trigger.indexOf("target-")==0?"target":"player",use_form:true,use_inverse:false,use_unit:true};if(i.trigger.indexOf("-missing-")>-1){e.trigger.use_inverse=true}delete e.cooldown;s.customizationsInUse=true}return e};break;case 1079:s.customizationsAvailable=true;r=true;o=["progress-bar-medium","target-has-debuff"];i.allowComboPointsTrigger=true;i.customization=function(e){if(i.trigger=="resources-available"){e.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["combo-points"].trigger)}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 1822:case 155722:o=["progress-bar-medium","target-has-debuff",155722];break;case 2782:case 88423:s.customizationsAvailable=true;i.display="icon-large";i.trigger=(a.id==88423?"target":"player")+"-has-debuff";i.combat=null;i.format="$1";i.customization=function(e){if(i.trigger.match(/-debuff$/)){delete e.trigger.spellIds;e.trigger.debuffClass="curse";e.trigger.fullscan=true;e.trigger.use_debuffClass=true;e.additional_triggers={1:{trigger:$.extend(true,{},e.trigger,{debuffClass:"poison"})}};e.numTriggers=2;if(a.id==88423){e.additional_triggers[2]={trigger:$.extend(true,{},e.trigger,{debuffClass:"magic"})};e.numTriggers=3}e.disjunctive=true;s.customizationsInUse=true}return e};break;case 2908:o=["icon-large","target-is-enraged"];i.allowTargetIsEnragedTrigger=true;break;case 2912:s.customizationsAvailable=true;o=["icon-large","resources-available"];o.combat=true;i.customization=function(e){if(i.trigger=="resources-available"){e.trigger={type:"status",event:"Eclipse Power",eclipsetype:"moon",lunar_power:"0",lunar_power_operator:">=",use_eclipsetype:true,use_lunar_power:true};s.customizationsInUse=true}return e};break;case 5176:s.customizationsAvailable=true;o=["icon-large","resources-available"];o.combat=true;i.customization=function(e){if(i.trigger=="resources-available"){e.trigger={type:"status",event:"Eclipse Power",eclipsetype:"sun",solar_power:"0",solar_power_operator:">=",use_eclipsetype:true,use_solar_power:true};s.customizationsInUse=true}return e};break;case 5217:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];o.combat=true;i.customization=function(e){if(i.trigger=="off-cooldown"){e.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["resources-available"].trigger)}};delete e.additional_triggers[1].trigger.specialProcessing;e.additional_triggers[1].trigger.powertype=3;e.additional_triggers[1].trigger.power_operator="<";e.additional_triggers[1].trigger.power="38";e.numTriggers=2;s.customizationsInUse=true}return e};break;case 6807:s.customizationsAvailable=true;o=["icon-large","player-has-buff"];i.customization=function(e){if(i.trigger.match(/^player-.*-debuff$/)){e.trigger.spellIds={1:135286};e.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["resources-available"].trigger)}};delete e.additional_triggers[1].trigger.specialProcessing;e.additional_triggers[1].trigger.powertype=1;e.additional_triggers[1].trigger.power_operator=">";e.additional_triggers[1].trigger.power="80";e.numTriggers=2;e.disjunctive=true;s.customizationsInUse=true}else if(i.trigger=="resources-available"){e.trigger.power_operator=">";e.trigger.power="80";s.customizationsInUse=true}return e};break;case 8921:case 164812:o=["progress-bar-medium","target-has-debuff"];i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:164812};if(i.trigger=="target-missing-debuff"){WH.ensureObjectPath(e,"load","spec","single");e.load["spec"].single=1;e.load.use_spec=true}}return e};break;case 16864:case 113043:case 8936:s.customizationsAvailable=true;o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff/)){e.trigger.spellIds={1:a.id==16864?135700:16870};s.customizationsInUse=true}return e};break;case 16974:case 69369:o=["icon-large","player-has-buff",69369];break;case 22568:s.customizationsAvailable=true;o=["icon-large","resources-available"];i.allowComboPointsTrigger=true;i.customization=function(e){if(i.trigger=="resources-available"){e.trigger.power="50";e.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["combo-points"].trigger)}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 22570:s.customizationsAvailable=true;o=["icon-large","resources-available"];i.allowComboPointsTrigger=true;i.customization=function(e){if(i.trigger=="resources-available"){var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["combo-points"].trigger)},2:{trigger:a.trigger}};e.numTriggers=3;s.customizationsInUse=true}return e};break;case 22842:o=["icon-medium","off-cooldown"];o.combat=true;break;case 33763:o=["progress-bar-medium","target-has-buff"];break;case 33831:case 102703:i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:113770}}return e};break;case 48484:o=["progress-bar-medium","target-has-debuff",58180];break;case 48500:case 48504:o=["progress-bar-medium","target-has-buff",48504];i.playerClasses=[11];i.color=e.getIdString(11);break;case 52610:s.customizationsAvailable=true;r=true;o=["progress-bar-medium","player-has-buff"];i.allowComboPointsTrigger=true;i.customization=function(e){if(i.trigger=="resources-available"){e.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["combo-points"].trigger)}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 77495:case 100977:o=["icon-large","player-missing-buff",100977];o.combat=true;break;case 78674:i.combat=null;break;case 80313:case 158792:o=["progress-bar-medium","player-has-buff",158792];break;case 93402:case 164815:o=["progress-bar-medium","target-has-debuff"];i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:164815}}if(i.trigger=="target-missing-debuff"){WH.ensureObjectPath(e,"load","spec","single");e.load["spec"].single=1;e.load.use_spec=true}return e};break;case 102355:case 102354:case 106707:o=["progress-bar-medium","target-has-debuff",102355];i.playerSpecs=[];i.playerClasses=[11];i.color=e.getIdString(11);break;case 135286:case 135288:o=["icon-large","player-has-buff",135286];break;case 145162:case 158501:o=["icon-large","player-has-buff",145162];i.playerSpecs=[104];i.playerTalents=[17];break;case 145205:case 88747:o=["progress-bar-medium","player-has-totem"];i.playerSpecs=[102,105];i.allowTotemTriggers=true;break;case 145518:case 162359:o=["progress-bar-medium","target-has-buff",162359];break;case 152221:o=["progress-bar-medium","target-has-debuff"];break;case 155577:break;case 155578:case 213680:o=["icon-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:213680};e.displayStacks=" "}return e};break;case 155672:case 145152:o=["icon-medium","player-has-buff",145152];i.maxStacks=2;break;case 155675:case 155777:o=["progress-bar-medium","target-has-buff",155777];break;case 158478:case 114108:o=["icon-large","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:114108};e.displayStacks=" "}return e};break;case 176295:o=["icon-large","player-missing-buff"];break;case 179333:case 179334:o=["icon-large","player-has-buff",179334];o.combat=true;break;case 191034:o=["icon-large","resources-available"];o.combat=true;break;case 200390:case 200389:o=["progress-bar-medium","target-has-buff",200389];break;case 200515:case 214995:o=["progress-bar-medium","target-has-debuff",214995];break;case 200854:case 201671:o=["icon-medium","player-has-buff",201671];break;case 200931:o=["progress-bar-medium","target-has-debuff"];i.playerClasses=[11];i.color=e.getIdString(11);break;case 201216:case 201236:o=["icon-medium","player-has-buff",201236];i.previewCustomization="hide-cooldown";break;case 202808:case 202812:o=["icon-medium","player-has-buff",202812];break;case 202940:case 202942:o=["progress-bar-medium","player-has-buff",202942];i.maxStacks=50;i.playerClasses=[11];i.color=e.getIdString(11);break;case 203052:case 203059:o=["progress-bar-medium","player-has-buff",203059];i.maxStacks=3;i.playerClasses=[11];i.color=e.getIdString(11);break;case 203197:case 203199:o=["icon-medium","player-has-buff",203199];break;case 203553:case 203554:o=["progress-bar-medium","player-has-buff",203554];i.maxStacks=3;i.playerClasses=[11];i.color=e.getIdString(11);break;case 203964:case 213708:o=["icon-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:213708};e.displayStacks=" "}return e};break;case 203974:case 203975:o=["icon-medium","player-has-buff",203975];i.maxStacks=3;i.previewCustomization="hide-cooldown";break;case 204053:case 192090:o=["progress-bar-medium","target-has-debuff",192090];i.maxStacks=3;break;case 207383:case 207640:o=["icon-medium","player-has-buff",207640];i.maxStacks=100;i.previewCustomization="hide-cooldown";break;case 209730:case 209731:o=["progress-bar-medium","player-has-buff",209731];break;case 210650:case 210655:o=["progress-bar-medium","player-has-buff",210655];break;case 210663:case 210664:o=["progress-bar-medium","player-has-buff",210664];break;case 210706:case 93622:o=["icon-medium","player-has-buff",93622];break;case 136:o=["icon-large","pet-health-low"];break;case 982:o=["icon-large","pet-is-dead"];i.allowPetIsDeadTrigger=true;break;case 1499:case 187650:case 3355:o=["progress-bar-medium","target-has-debuff",3355];break;case 1515:o=["progress-bar-medium","target-has-debuff"];break;case 3674:o=["icon-large","off-cooldown",168980,/-buff$/];o.combat=true;break;case 5118:case 13159:o=["icon-medium","player-has-buff"];o.combat=true;i.previewCustomization="hide-cooldown";break;case 13809:case 187698:case 135299:o=["icon-small","target-has-debuff",135299];break;case 13813:case 191433:case 13812:o=["progress-bar-medium","target-has-debuff",13812];break;case 19387:case 135373:o=["progress-bar-medium","target-has-debuff",135373];i.playerClasses=[3];i.color=e.getIdString(3);break;case 19623:case 19615:o=["progress-bar-medium","player-has-buff",19615];i.maxStacks=5;i.playerClasses=[3];i.color=e.getIdString(3);break;case 19801:o=["icon-large","target-is-enraged"];i.allowTargetIsEnragedTrigger=true;break;case 34026:o=["icon-large","off-cooldown"];o.combat=true;break;case 34477:o=["progress-bar-medium","target-has-buff"];break;case 34483:o=["icon-large","player-has-buff",3045];break;case 35110:case 82921:o=["progress-bar-medium","player-has-buff",82921];break;case 53209:o=["icon-large","off-cooldown"];o.combat=true;break;case 53260:case 53257:o=["icon-medium","player-has-buff",53257];i.maxStacks=6;break;case 53301:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];o.combat=true;i.maxStacks=2;i.previewCustomization="show-cooldown";i.customization=function(e){switch(i.trigger){case"off-cooldown":case"player-has-buff":e.trigger={type:"custom",custom:'function()    start, duration, enabled = GetSpellCooldown(53301);    if not (duration ~= 0 and duration > 2) then        return true;    end    for i=1,16 do        name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("player", i);        if spellId == 168980 then            return true;        end    end    return false;end',custom_hide:"custom",custom_type:"event",customDuration:'function()    for i=1,16 do        name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("player", i);        if spellId == 168980 then            return duration or 0, expirationTime or 0;        end    end    return 0;end',customStacks:'function()    for i=1,16 do        name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("player", i);        if spellId == 168980 then            return count or 0;        end    end    return 0;end',events:"SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE, UNIT_AURA"};e.untrigger={custom:'function()    start, duration, enabled = GetSpellCooldown(53301);    if duration ~= 0 and duration > 2 then        return true;    end    for i=1,16 do        name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("player", i);        if spellId == 168980 then            return false;        end    end    return true;end'};e.cooldown=true;s.customizationsInUse=true;break}return e};break;case 53351:case 157708:s.customizationsAvailable=true;o=["icon-large","target-health-low"];if(a.id==157708){i.healthPercent=35}i.customization=function(e){if(i.trigger=="target-health-low"){WH.ensureObjectPath(e,"load","spec","single");if(a.id==157708){e.load["spec"].single=2}else{e.load["spec"].single=1}e.load.use_spec=true;e.trigger={type:"status",event:"Action Usable",spellName:a.id,use_targetRequired:true};var r=$.extend(true,{},t.stubs.trigger["off-cooldown"]);r=r.specialProcessing(r,i);e=$.extend(e,{additional_triggers:{1:{trigger:r.trigger}}});e.cooldown=true;e.inverse=true;e.numTriggers=2;s.customizationsInUse=true}return e};break;case 76659:case 168811:o=["icon-medium","player-has-buff",168811];break;case 77769:o=["icon-large","player-missing-buff"];break;case 87935:case 118253:o=["icon-large","target-missing-debuff",118253];o.combat=true;break;case 109212:case 118694:o=["icon-large","player-missing-buff",118694];i.playerClasses=[3];i.color=e.getIdString(3);break;case 109215:case 118922:o=["progress-bar-medium","player-has-buff",118922];break;case 109248:case 117405:o=["icon-medium","target-has-debuff",117405];i.previewCustomization="hide-cooldown";break;case 109298:case 136634:o=["progress-bar-medium","target-has-debuff",136634];break;case 109306:case 34720:o=["icon-large","player-has-buff",34720];i.maxStacks=3;break;case 115939:case 118455:s.customizationsAvailable=true;o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:118455};if(i.trigger=="player-has-buff"){e.trigger.unit="pet";s.customizationsInUse=true}}return e};break;case 117050:o=["icon-large","off-cooldown"];o.combat=true;break;case 120679:case 120694:i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:120694}}return e};break;case 155228:case 164273:o=["icon-large","player-missing-buff",164273];i.playerClasses=[3];i.color=e.getIdString(3);break;case 162488:case 162487:o=["progress-bar-medium","target-has-debuff",162487];break;case 162534:case 162539:case 162536:case 162537:if(a.id==162534){s.customizationsAvailable=true}o=["icon-large","player-missing-buff"];i.customization=function(e){if(a.id==162534){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:162539};var r=$.extend(true,{},t.stubs.trigger[i.trigger]);r=r.specialProcessing(r,$.extend({},i,{id:162536}));var o=$.extend(true,{},t.stubs.trigger[i.trigger]);o=o.specialProcessing(o,$.extend({},i,{id:162537}));e.additional_triggers={1:{trigger:r.trigger},2:{trigger:o.trigger}};e.numTriggers=3;if(i.trigger.match(/-has-buff$/)){e.disjunctive=true}s.customizationsInUse=true}}return e};break;case 164856:case 164857:o=["progress-bar-medium","player-has-buff",164857];break;case 168809:o=["icon-medium","player-has-buff"];break;case 168980:o=["icon-large","player-has-buff"];i.maxStacks=2;break;case 177667:case 177668:o=["progress-bar-medium","player-has-buff",177668];break;case 185358:case 223138:s.customizationsAvailable=true;o=["icon-large","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:223138};e.displayStacks=" ";var a=$.extend(true,{},t.stubs.trigger["player-has-buff"]);a=a.specialProcessing(a,$.extend({},i,{id:193526}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;e.disjunctive=true;s.customizationsInUse=true}return e};break;case 185901:case 185987:case 185365:o=["icon-large","target-has-debuff",185365];break;case 190514:case 190515:o=["progress-bar-medium","player-has-buff",190515];break;case 190529:case 190533:o=["progress-bar-medium","player-has-buff",190533];break;case 190928:case 190931:i.maxStacks=6;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:190931}}return e};break;case 193533:case 193534:o=["progress-bar-medium","player-has-buff",193534];break;case 194277:case 194279:o=["progress-bar-medium","target-has-debuff",194279];break;case 194386:o=["icon-medium","player-has-buff"];i.previewCustomization="hide-cooldown";break;case 194595:case 194594:o=["icon-large","player-has-buff",194594];break;case 194855:case 194858:if(a.id==194858){o=["progress-bar-medium","target-has-debuff"]}i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:194858}}return e};i.playerClasses=[3];i.color=e.getIdString(3);break;case 199527:case 199803:o=["progress-bar-small","target-has-debuff",199803];i.maxStacks=6;break;case 200108:case 206755:s.customizationsAvailable=true;o=["progress-bar-medium","target-has-debuff"];i.customization=function(e){if(i.trigger.match(/-debuff$/)){if(i.showText!="Rooted"){i.showText="Rooted";setTimeout(p,0)}var a=C();var r=i.trigger.match(/-has-/)?"true":"false";var t=r=="true"?"false":"true";var o="local spellId1 = 200108;    local spellId2 = 206755;";e.displayTextRight="%c";e.customText="function()    "+o+'    for i=1,16 do        local spellId = select(11, UnitDebuff("'+a+'", i));        if spellId == spellId1 then            return "Rooted";        end    end    return "";end';e.trigger={type:"custom",custom:"function()    "+o+'    for i=1,16 do        local spellId = select(11, UnitDebuff("'+a+'", i));        if spellId == spellId1 or spellId == spellId2 then            return '+r+";        end    end    return "+t+";end",custom_hide:"custom",custom_type:"event",customDuration:"function()    "+o+'    local highestDuration = 0;    local highestExpirationTime = 0;    for i=1,16 do        local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitDebuff("'+a+'", i);        if spellId == spellId1 or spellId == spellId2 then            if expirationTime > highestExpirationTime then                highestDuration = duration;                highestExpirationTime = expirationTime;            end        end    end    return highestDuration, highestExpirationTime;end',customStacks:"function()    "+o+'    local count = 0;    for i=1,16 do        local spellId = select(11, UnitDebuff("'+a+'", i));        if spellId == spellId1 or spellId == spellId2 then            count = count + 1;        end    end    return count;end',events:"SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE, UNIT_AURA"};e.untrigger={custom:"function()    "+o+'    for i=1,16 do        local spellId = select(11, UnitDebuff("'+a+'", i));        if spellId == spellId1 or spellId == spellId2 then            return '+t+";        end    end    return "+r+";end"};e.cooldown=true;s.customizationsInUse=true}else{if(i.showText){delete i.showText;setTimeout(p,0)}}return e};break;case 201082:case 201081:o=["progress-bar-medium","player-has-buff",201081];i.maxStacks=4;break;case 202624:case 202627:o=["progress-bar-medium","player-has-buff",202627];break;case 202746:case 202748:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){var a="ability_hunter_survivalinstincts";if(i.customIcon!=a){i.customIcon=a;setTimeout(p,0)}e.displayIcon="Interface\\Icons\\"+a;e.trigger.spellIds={1:202748}}return e};break;case 202793:case 202797:o=["progress-bar-medium","target-has-debuff",202797];break;case 202800:o=["icon-large","off-cooldown"];o.combat=true;break;case 202901:case 202900:o=["progress-bar-medium","target-has-debuff",202900];break;case 203264:case 203268:o=["progress-bar-medium","target-has-debuff",203268];break;case 203757:case 204081:o=["progress-bar-medium","target-has-debuff",204081];break;case 204089:case 204090:o=["progress-bar-medium","player-has-buff",204090];i.maxStacks=30;break;case 204190:case 204205:o=["icon-medium","target-has-buff",204205,/-(de)?buff$/];i.previewCustomization="hide-cooldown";break;case 204315:case 204321:case 204324:case 204333:s.customizationsAvailable=true;o=["progress-bar-medium","player-has-buff"];i.maxStacks=2;i.customization=function(e){if(i.trigger.match(/-buff$/)){var a=C();var r=i.trigger.match(/-has-/)?"true":"false";var t=r=="true"?"false":"true";var o="local spellId1 = 204321;    local spellId2 = 204324;    local spellId3 = 204333;";e.trigger={type:"custom",custom:"function()    "+o+'    for i=1,16 do        local spellId = select(11, UnitBuff("'+a+'", i));        if spellId == spellId1 or spellId == spellId2 or spellId == spellId3 then            return '+r+";        end    end    return "+t+";end",custom_hide:"custom",custom_type:"event",customDuration:"function()    "+o+'    local highestDuration = 0;    local highestExpirationTime = 0;    for i=1,16 do        local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+a+'", i);        if spellId == spellId1 or spellId == spellId2 or spellId == spellId3 then            if expirationTime > highestExpirationTime then                highestDuration = duration;                highestExpirationTime = expirationTime;            end        end    end    return highestDuration, highestExpirationTime;end',customStacks:"function()    "+o+'    local count = 0;    for i=1,16 do        local spellId = select(11, UnitBuff("'+a+'", i));        if spellId == spellId1 or spellId == spellId2 or spellId == spellId3 then            count = count + 1;        end    end    return count;end',events:"SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE, UNIT_AURA"};e.untrigger={custom:"function()    "+o+'    for i=1,16 do        local spellId = select(11, UnitBuff("'+a+'", i));        if spellId == spellId1 or spellId == spellId2 or spellId == spellId3 then            return '+t+";        end    end    return "+r+";end"};e.cooldown=true;s.customizationsInUse=true}return e};i.playerClasses=[3];i.color=e.getIdString(3);break;case 212640:o=["progress-bar-medium","target-has-buff"];break;case 202914:case 208652:case 205691:case 209789:case 213691:i.combat=null;break;case 10:o=["progress-bar-medium","player-is-casting"];break;case 66:case 32612:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){switch(i.trigger){case"player-has-buff":e.trigger.spellIds={1:32612};break;case"target-has-buff":e.trigger.spellIds={1:66};break}return e};break;case 116:o=["progress-bar-small","target-has-debuff"];i.customization=function(e){if(i.trigger.match(/-debuff$/)){var a="ability_mage_chilledtothebone";if(i.customIcon!=a){i.customIcon=a;setTimeout(p,0)}e.trigger.spellIds={1:205708};e.displayIcon="Interface\\Icons\\"+a}else if(i.customIcon){delete i.customIcon;setTimeout(p,0)}return e};break;case 130:o=["progress-bar-small","player-has-buff"];break;case 1449:s.customizationsAvailable=true;o=["icon-medium","resources-available"];i.customization=function(e){if(i.trigger=="resources-available"){e.trigger.powertype=16;e.trigger.power="1";s.customizationsInUse=true}return e};break;case 1463:case 116267:o=["icon-medium","player-has-buff"];i.maxStacks=5;i.previewCustomization="incanters-flow";i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:116267};e.textColor=O("ffd100")}return e};break;case 1953:case 212653:s.customizationsAvailable=true;o=["icon-medium","on-cooldown"];i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:1953};e.trigger.spellName=1953;e.trigger.showOn="showOnCooldown";e.trigger.use_charges=false;var a=$.extend(true,{},t.stubs.trigger["on-cooldown"]);a=a.specialProcessing(a,$.extend({},i,{id:212653}));if(i.cooldownIsRecharge){a.trigger.showOn="showAlways";a.trigger.charges="2";a.trigger.charges_operator="<";a.trigger.use_charges=true}e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.numTriggers=2;e.auto=true;s.customizationsInUse=true}return e};break;case 2120:case 11366:case 48108:case 195283:if(a.id==2120||a.id==11366){s.customizationsAvailable=true}o=["icon-large","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:48108};if(a.id==2120||a.id==11366){s.customizationsInUse=true}}return e};break;case 5143:case 79683:s.customizationsAvailable=true;o=["icon-medium","player-has-buff"];i.maxStacks=3;i.allowResourcesAvailableTrigger=true;i.customization=function(e){if(i.trigger.match(/-buff/)){e.trigger.spellIds={1:79683};s.customizationsInUse=true}return e};break;case 7302:case 205708:o=["progress-bar-small","target-has-debuff",205708];i.iconFilename="ability_mage_chilledtothebone";break;case 30451:s.customizationsAvailable=true;o=["icon-medium","low-resources"];o.combat=true;i.allowResourcesAvailableTrigger=true;i.customization=function(e){if(i.trigger=="low-resources"){e.trigger.powertype=16;e.trigger.power="4";s.customizationsInUse=true}return e};break;case 30455:s.customizationsAvailable=true;o=["icon-large","player-has-buff"];i.maxStacks=3;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:44544};s.customizationsInUse=true}return e};break;case 44425:s.customizationsAvailable=true;o=["icon-medium","resources-available"];i.customization=function(e){if(i.trigger=="resources-available"){e.trigger.powertype=16;e.trigger.power="4";s.customizationsInUse=true}return e};break;case 44549:case 57761:o=["icon-large","player-has-buff",57761];break;case 112965:case 44544:o=["icon-large","player-has-buff",44544];i.maxStacks=3;break;case 44614:case 228354:o=["progress-bar-small","target-has-debuff",228354];break;case 11129:case 12654:case 12846:s.customizationsAvailable=true;i.display="icon-medium";if(parseInt(a.id)==11129){i.trigger="off-cooldown"}else{i.trigger="target-has-debuff";i.combat=null}i.customization=function(e){if(parseInt(a.id)==11129||i.trigger.match(/-has-debuff$/)){if(i.showText!="5678"){i.showText="5678";setTimeout(p,0)}var r=C();e.trigger.spellIds={1:12654};if(i.display.match(/^icon-/)){if(i.display=="icon-large"){e.fontSize=16}else{e.fontSize=11}}if(i.display.match(/^progress-bar-/)){e.displayTextRight="%c"}e.displayStacks="%c";e.stacksPoint="BOTTOM";e.customTextUpdate="update";e.customText='function()    for i = 1, 16 do        local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId, _, _, _, _, _, value = UnitDebuff("'+r+'", i);        if spellId == 12654 then            return value or 0;        end    end    return 0;end';s.customizationsInUse=true}else{if(i.showText){delete i.showText;setTimeout(p,0)}if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:12654}}}return e};break;case 30449:s.customizationsAvailable=true;o=["icon-medium","target-has-buff"];i.customization=function(e){if(i.trigger=="target-has-buff"){delete e.trigger.spellIds;delete e.trigger.ownOnly;e.trigger.fullscan=true;e.trigger.use_stealable=true;e=$.extend(e,{additional_triggers:{1:{trigger:t.stubs.trigger["target-is-friendly"].trigger}}});e.additional_triggers[1].trigger.hostility="hostile";e.numTriggers=2;s.customizationsInUse=true}return e};break;case 84714:o=["icon-large","off-cooldown"];o.combat=true;i.customization=function(e){if(i.trigger.match(/-debuff$/)){var a="ability_mage_chilledtothebone";if(i.customIcon!=a){i.customIcon=a;setTimeout(p,0)}e.trigger.spellIds={1:205708};e.displayIcon="Interface\\Icons\\"+a}else if(i.customIcon){delete i.customIcon;setTimeout(p,0)}return e};break;case 86949:case 87024:o=["icon-small","player-has-debuff",87024];i.playerClasses=[8];i.color=e.getIdString(8);break;case 108853:o=["icon-medium","off-cooldown"];break;case 108978:case 110909:o=["progress-bar-medium","player-has-buff",110909];break;case 110959:case 110960:o=["icon-medium","on-cooldown"];if($(document.body).hasClass("locale-0")){o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){delete e.trigger.spellIds;e.trigger.fullscan=true;e.trigger.tooltip="Invisible.";e.trigger.tooltip_operator="==";e.trigger.use_tooltip=true}return e}}break;case 111264:o=["progress-bar-medium","player-has-buff"];break;case 114664:o=["progress-bar-medium","player-has-debuff",36032];i.maxStacks=4;break;case 116011:case 116014:o=["icon-large","off-cooldown"];o.combat=true;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:116014}}return e};break;case 131784:o=["icon-small","off-cooldown"];o.combat=false;break;case 157642:case 157644:o=["progress-bar-small","player-has-buff",157644];i.maxStacks=10;break;case 190447:case 190446:case 228358:if(a.id==228358){o=["progress-bar-medium","target-has-debuff"]}else{o=["icon-large","player-has-buff"]}i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:190446}}else if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:228358}}e.displayStacks=" ";return e};break;case 194318:case 194316:o=["progress-bar-small","player-has-buff",194316];i.playerClasses=[8];i.color=e.getIdString(8);break;case 194331:case 194329:o=["progress-bar-medium","player-has-buff",194329];i.maxStacks=5;i.playerClasses=[8];i.color=e.getIdString(8);break;case 194487:case 194522:o=["progress-bar-small","target-has-debuff",194522];i.iconFilename="ability_bossfelmagnaron_runeempowered";break;case 195419:case 195418:o=["icon-small","player-has-buff",195418];i.maxStacks=3;break;case 195676:case 212799:n=[195676,212799,"icon-medium","on-cooldown","progress-bar-small"];break;case 198063:case 221404:o=["progress-bar-medium","player-has-buff",221404];break;case 198064:case 198065:o=["progress-bar-medium","player-has-buff",198065];i.playerClasses=[8];i.color=e.getIdString(8);break;case 198120:case 198121:o=["icon-medium","target-has-debuff",198121];break;case 198158:o=["icon-medium","off-cooldown"];i.playerClasses=[8];i.color=e.getIdString(8);break;case 198923:case 198924:o=["progress-bar-medium","player-has-buff",198924];i.maxStacks=100;break;case 199786:case 228600:s.customizationsAvailable=true;o=["icon-large","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:199786};e.trigger.spellName=199786}else if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:205473};e.trigger.count="5";e.trigger.countOperator=">=";e.trigger.useCount=true;s.customizationsInUse=true}else if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:228600}}e.displayStacks=" ";return e};break;case 203275:case 203277:o=["icon-medium","player-has-buff",203277];i.previewCustomization="hide-cooldown";break;case 203284:case 203285:o=["icon-medium","player-has-buff",203285];i.iconFilename="ability_vehicle_demolisherflamecatapult";i.maxStacks=5;break;case 205021:case 208166:case 208141:case 134315:case 134316:case 134313:s.customizationsAvailable=true;o=["progress-bar-medium","player-has-buff"];i.maxStacks=10;i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:205021};e.trigger.spellName=205021}else if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:205021}}else if(i.trigger.match(/-buff$/)){var a=C();var r=i.trigger.match(/-has-/)?"true":"false";var t=r=="true"?"false":"true";var o=[208166,208141];var n="local rayOfFrostBuffs = {"+o.join(", ")+"};";if(i.display.match(/^icon-/)){e.displayStacks="%s"}else{e.displayTextRight="%s"}e.trigger={type:"custom",custom:"function()    "+n+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+a+'", i));        for j, buffId in ipairs(rayOfFrostBuffs) do            if spellId == buffId then                return '+r+";            end        end    end    return "+t+";end",custom_hide:"custom",custom_type:"event",customDuration:'function()    for i = 1, 16 do        local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+a+'", i);        if spellId == 208166 then            return duration or 0, expirationTime or 0;        end    end    return 0;end',customStacks:'function()    for i = 1, 16 do        local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+a+'", i);        if spellId == 208141 then            return count or 0;        end    end    return 0;end',events:"SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE, UNIT_AURA"};e.untrigger={custom:"function()    "+n+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+a+'", i));        for j, buffId in ipairs(rayOfFrostBuffs) do            if spellId == buffId then                return '+t+";            end        end    end    return "+r+";end"};s.customizationsInUse=true}return e};i.playerClasses=[8];i.color=e.getIdString(8);break;case 205022:case 210126:o=["icon-large","player-missing-buff",210126];break;case 205023:case 226757:o=["progress-bar-small","target-has-debuff",226757];break;case 205027:case 205766:o=["progress-bar-small","player-has-buff",205766];i.maxStacks=12;break;case 205039:case 210134:o=["icon-small","target-has-debuff",210134];i.maxStacks=8;break;case 205473:o=["icon-medium","player-has-buff"];break;case 206431:case 206432:o=["icon-large","player-has-buff",206432];break;case 210725:case 210824:o=["icon-medium","target-has-debuff"];break;case 214626:case 195391:o=["progress-bar-small","player-has-buff",195391];break;case 224968:case 210726:case 211076:case 211088:i.iconFilename="inv_staff_2h_artifactaegwynsstaff_d_01";o=["icon-large","off-cooldown"];i.customization=function(e){e.trigger.spellIds={1:224968};e.trigger.spellName=224968;return e};break;case 227481:case 227482:o=["progress-bar-small","player-has-buff",227482];i.maxStacks=5;i.playerClasses=[8];i.color=e.getIdString(8);break;case 100780:o=["icon-medium","resources-available"];o.combat=true;i.allowResourcesAvailableTrigger=true;break;case 100784:s.customizationsAvailable=true;o=["icon-medium","resources-available"];i.customization=function(e){if(i.trigger=="resources-available"){var a=$.extend(true,{},t.stubs.trigger["on-cooldown"]);a=a.specialProcessing(a,$.extend({},i,{id:107428}));e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});a=$.extend(true,{},t.stubs.trigger["on-cooldown"]);a=a.specialProcessing(a,$.extend({},i,{id:113656}));e.additional_triggers[2]={trigger:a.trigger};e.numTriggers=3;WH.ensureObjectPath(e,"load","spec","single");e.load["spec"].single=3;e.load.use_spec=true;s.customizationsInUse=true}return e};break;case 100787:case 125359:o=["progress-bar-medium","player-has-buff",125359];break;case 101546:case 107270:case 220357:o=["progress-bar-medium","player-has-buff",101546];break;case 101643:case 119996:o=["icon-medium","player-missing-buff",101643];o.combat=true;break;case 107428:case 185099:o=["icon-large","off-cooldown"];o.combat=true;i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:107428};e.trigger.spellName=107428}else if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:115804}}e.displayStacks=" ";return e};break;case 115008:case 119085:if(a.id==119085){o=["progress-bar-small","player-has-buff"]}else{o=["icon-medium","on-cooldown"]}i.maxStacks=2;i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:115008};e.trigger.spellName=115008}else if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:119085}}e.displayStacks=" ";return e};break;case 115069:case 119582:case 124273:case 124274:case 124275:s.customizationsAvailable=true;o=["progress-bar-medium","player-has-debuff"];i.previewCustomization="hide-cooldown";i.customization=function(e){if(i.trigger.match(/-debuff$/)){return H(e)}else{if(i.customIcon){delete i.format;delete i.customIcon;delete i.showText;if(s.originalIcon){i.iconFilename=s.originalIcon}setTimeout(p,0)}}return e};i.color="link";break;case 115072:s.customizationsAvailable=true;o=["icon-large","player-health-low"];i.customization=function(e){if(i.trigger=="player-health-low"){var a=$.extend(true,{},t.stubs.trigger["resources-available"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.numTriggers=2;s.customizationsInUse=true}return e};break;case 115151:case 119611:case 197206:s.customizationsAvailable=true;if(a.id==119611||a.id==197206){o=["icon-medium","player-has-buff"];if(a.id==197206){s.customizationsAvailable=false}}else{r=true}i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:115151};e.trigger.spellName=115151}else if(i.trigger=="target-has-buff"&&a.id!=197206){e.trigger.spellIds={1:119611}}else if(i.trigger=="player-has-buff"){e.trigger.spellIds={1:197206};s.customizationsInUse=true}return e};break;case 115174:o=["progress-bar-medium","player-has-buff",119085];i.maxStacks=2;break;case 115175:o=["progress-bar-medium","target-has-buff"];break;case 115180:case 116330:o=["progress-bar-medium","target-has-debuff",116330];break;case 115181:case 123725:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:115181};e.trigger.spellName=115181;var a=$.extend(true,{},t.stubs.trigger["target-has-debuff"]);a=a.specialProcessing(a,$.extend({},i,{id:121253}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;s.customizationsInUse=true}else if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:123725}}return e};break;case 115288:delete i.maxStacks;break;case 115295:o=["icon-large","off-cooldown"];o.combat=true;i.maxCharges=2;break;case 115308:case 215479:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){if(i.showText!=" "){i.showText=" ";setTimeout(p,0)}e.trigger.spellIds={1:215479};e.displayStacks=" "}else{if(i.showText){delete i.showText;setTimeout(p,0)}}return e};break;case 115313:case 115315:o=["icon-large","player-missing-totem"];i.allowTotemTriggers=true;i.customization=function(e){if(i.trigger.match(/^player-.*-totem$/)){e.trigger.totemType=1;e.trigger.use_totemType=true;delete e.trigger.totemName;delete e.trigger.use_totemName}return e};break;case 115450:s.customizationsAvailable=true;o=["icon-large","target-has-debuff"];i.format="$1";i.customization=function(e){if(i.trigger.match(/-debuff$/)){delete e.trigger.spellIds;e.trigger.debuffClass="poison";e.trigger.fullscan=true;e.trigger.use_debuffClass=true;e.additional_triggers={1:{trigger:$.extend(true,{},e.trigger,{debuffClass:"disease"})},2:{trigger:$.extend(true,{},e.trigger,{debuffClass:"magic"})}};e.numTriggers=3;e.disjunctive=true;s.customizationsInUse=true}return e};break;case 115867:case 123766:o=["icon-medium","player-has-buff",115867];i.maxStacks=20;break;case 116095:case 116706:o=["progress-bar-medium","target-has-debuff"];break;case 116645:case 202090:o=["icon-medium","player-has-buff",202090];i.iconFilename="ability_monk_roundhousekick";i.maxStacks=3;break;case 116847:case 148187:o=["icon-medium","on-cooldown"];i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:116847};e.trigger.spellName=116847}return e};break;case 117906:case 195630:o=["icon-small","player-has-buff",195630];i.maxStacks=100;break;case 118674:o=["icon-large","player-has-buff"];break;case 120272:case 120273:o=["progress-bar-medium","player-has-buff",120273];break;case 121253:o=["icon-large","off-cooldown"];o.combat=true;break;case 121817:case 129914:o=["icon-small","player-has-buff",129914];i.previewCustomization="hide-cooldown";break;case 123980:case 125195:s.customizationsAvailable=true;o=["icon-large","player-has-buff"];i.maxStacks=20;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:125195};e.trigger.count="10";e.trigger.countOperator=">=";e.trigger.useCount=true;s.customizationsInUse=true}return e};break;case 125883:o=["icon-small","player-has-buff"];i.previewCustomization="hide-cooldown";break;case 126892:case 126895:o=["progress-bar-medium","player-is-casting"];break;case 128938:case 128939:s.customizationsAvailable=true;o=["icon-large","player-has-buff"];i.maxStacks=20;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:128939};e.trigger.count="10";e.trigger.countOperator=">=";e.trigger.useCount=true;s.customizationsInUse=true}return e};break;case 137384:case 116768:case 159407:o=["icon-medium","player-has-buff"];i.iconFilename="ability_monk_roundhousekick";i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:116768};e.displayStacks=" "}return e};break;case 152174:case 157675:case 157676:s.customizationsAvailable=true;o=["icon-large","resources-available"];i.customization=function(e){if(i.trigger=="resources-available"){e.trigger.power_operator=">=";e.trigger.power="2";s.customizationsInUse=true}return e};break;case 191837:o=["progress-bar-medium","player-is-casting"];break;case 195300:case 195321:o=["icon-medium","player-has-buff",195321];i.maxStacks=10;break;case 195380:case 195381:o=["progress-bar-medium","player-has-buff",195381];break;case 196607:case 196608:o=["progress-bar-small","target-has-debuff"];i.customization=function(e){if(i.trigger.match(/-(de)?buff$/)){e.trigger.spellIds={1:196608}}return e};break;case 196722:case 196723:o=["progress-bar-medium","target-has-debuff",196723];break;case 196725:case 162530:o=["icon-medium","on-cooldown"];i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:196725};e.trigger.spellName=196725}return e};break;case 196736:case 228563:o=["icon-medium","player-has-buff",228563];i.customization=function(e){e.displayStacks=" ";return e};break;case 196738:case 196739:o=["progress-bar-medium","player-has-buff",196739];break;case 196740:case 196741:o=["icon-medium","player-has-buff",196741];i.iconFilename="ability_monk_palmstrike";i.maxStacks=8;break;case 197915:case 197919:case 197916:s.customizationsAvailable=true;o=["icon-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){var a="ability_monk_souldance";if(i.customIcon!=a){i.customIcon=a;setTimeout(p,0)}var r=C();var t=i.trigger.match(/-has-/)?"true":"false";var o=t=="true"?"false":"true";var n=[197919,197916];var c="local lifecyclesBuffs = {"+n.join(", ")+"};";e.trigger={type:"custom",custom:"function()    "+c+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+r+'", i));        for j, buffId in ipairs(lifecyclesBuffs) do            if spellId == buffId then                return '+t+";            end        end    end    return "+o+";end",custom_hide:"custom",custom_type:"event",customDuration:"function()    "+c+'    for i = 1, 16 do        local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+r+'", i);        for j, buffId in ipairs(lifecyclesBuffs) do            if spellId == buffId then                return duration or 0, expirationTime or 0;            end        end    end    return 0;end',customIcon:"function()    "+c+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+r+'", i));        for j, buffId in ipairs(lifecyclesBuffs) do            if spellId == 197916 then                return "Interface\\\\Icons\\\\ability_monk_vivify";            elseif spellId == buffId then                return GetSpellTexture(spellId);            end        end    end    return "Interface\\\\Icons\\\\'+a+'"; end',events:"SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE, UNIT_AURA"};e.untrigger={custom:"function()    "+c+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+r+'", i));        for j, buffId in ipairs(lifecyclesBuffs) do            if spellId == buffId then                return '+o+";            end        end    end    return "+t+";end"};e.displayIcon="Interface\\Icons\\"+a;e.auto=true;s.customizationsInUse=true}else if(i.customIcon){delete i.customIcon;setTimeout(p,0)}return e};break;case 199384:case 199387:case 199391:o=["icon-medium","target-has-debuff",199387];i.iconFilename="monk_ability_transcendence";i.previewCustomization="hide-cooldown";break;case 199401:case 199407:o=["progress-bar-small","player-has-buff",199407];break;case 199640:case 214411:o=["icon-small","player-has-debuff",214411];break;case 199887:case 199888:o=["progress-bar-medium","player-has-buff",199888];break;case 201201:case 201198:o=["progress-bar-small","player-has-buff",201198];i.playerClasses=[10];i.color=e.getIdString(10);break;case 201211:case 201233:o=["progress-bar-small","player-has-buff",201233];i.playerClasses=[10];i.color=e.getIdString(10);break;case 201372:case 201447:o=["icon-small","player-has-buff"];i.previewCustomization="hide-cooldown";i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:201447};e.displayStacks=" "}delete e.load["class"];delete e.load.race;delete e.load.spec;delete e.load.talent;delete e.load.pvptalent;delete e.load.use_class;delete e.load.use_race;delete e.load.use_spec;delete e.load.use_talent;delete e.load.use_pvptalent;return e};i.playerClasses=[10];i.color=e.getIdString(10);break;case 201769:case 201787:o=["progress-bar-medium","target-has-debuff",201787];i.playerClasses=[10];i.color=e.getIdString(10);break;case 202077:case 123407:o=["progress-bar-medium","target-has-debuff",123407];break;case 202272:case 202274:n=[202272,202274];break;case 202335:case 202346:n=[202335,202346];break;case 202577:case 205655:o=["progress-bar-medium","target-has-buff",205655];break;case 205003:case 120086:o=["progress-bar-medium","target-has-debuff",120086];break;case 209520:case 209525:o=["progress-bar-medium","player-is-casting"];i.iconFilename="ability_monk_soothingmists";i.customization=function(e){e.trigger.spellIds={1:209525};e.trigger.spellName=209525;e.trigger.spell="Soothing Mist";return e};break;case 209583:case 209584:o=["progress-bar-small","player-has-buff",209584];break;case 213062:case 213063:case 227688:case 227689:case 227690:case 227691:case 227692:o=["progress-bar-small","target-has-debuff",213063];break;case 213136:case 227678:o=["progress-bar-small","player-has-buff",227678];break;case 213161:case 213177:o=["progress-bar-small","player-has-buff",213177];i.maxStacks=5;break;case 213340:case 213341:o=["progress-bar-medium","player-has-buff",213341];break;case 213658:o=["icon-medium","missing-conjured-item"];i.conjuredItemId=137648;i.allowMissingConjuredItemTrigger=true;break;case 214372:case 214373:o=["progress-bar-small","player-has-buff",214373];break;case 216913:case 216915:o=["progress-bar-medium","target-has-buff",216915];i.maxStacks=3;break;case 218164:s.customizationsAvailable=true;o=["icon-large","player-has-debuff"];i.format="$1";i.customization=function(e){if(i.trigger.match(/-debuff$/)){delete e.trigger.spellIds;e.trigger.debuffClass="poison";e.trigger.fullscan=true;e.trigger.use_debuffClass=true;e.additional_triggers={1:{trigger:$.extend(true,{},e.trigger,{debuffClass:"disease"})}};e.numTriggers=2;e.disjunctive=true;s.customizationsInUse=true}return e};break;case 105361:case 31801:case 20154:case 20164:case 20165:s.customizationsAvailable=true;o=["icon-large","player-missing-buff"];if(a.id==105361){i.playerSpecs=[65]}i.customization=function(e){switch(i.trigger){case"player-has-buff":case"player-missing-buff":e.trigger={type:"custom",events:"UPDATE_SHAPESHIFT_FORM",custom_type:"event",custom_hide:"custom"};var r=i.trigger=="player-has-buff"?"==":"~=";var t=r=="=="?"~=":"==";e.trigger.custom="function()    index = GetShapeshiftForm();    icon, name, active, castable, spellId = GetShapeshiftFormInfo(index);    return spellId "+r+" "+a.id+"; end";e.untrigger={custom:"function()    index = GetShapeshiftForm();    icon, name, active, castable, spellId = GetShapeshiftFormInfo(index);    return spellId "+t+" "+a.id+"; end",form:1};s.customizationsInUse=true;break}return e};break;case 879:case 35395:case 184575:case 202270:case 217020:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];o.combat=true;i.customization=function(e){if(i.trigger=="off-cooldown"){e.additional_triggers={1:{trigger:{type:"status",event:"Holy Power",power:a.id==184575||a.id==202270?"4":"5",power_operator:"<",use_power:true}}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 633:o=["icon-medium","off-cooldown"];o.combat=true;break;case 2812:o=["progress-bar-medium","target-has-debuff"];break;case 4987:s.customizationsAvailable=true;o=["icon-large","target-has-debuff"];i.format="$1";i.previewCustomization="hide-cooldown";i.customization=function(e){if(i.trigger.match(/-debuff$/)){delete e.trigger.spellIds;e.trigger.debuffClass="poison";e.trigger.fullscan=true;e.trigger.use_debuffClass=true;e.additional_triggers={1:{trigger:$.extend(true,{},e.trigger,{debuffClass:"disease"})},2:{trigger:$.extend(true,{},e.trigger,{debuffClass:"magic"})}};e.numTriggers=3;e.disjunctive=true;s.customizationsInUse=true}return e};break;case 19750:o=["icon-medium","player-health-low"];break;case 20271:case 197277:case 214222:s.customizationsAvailable=true;o=["progress-bar-medium","target-has-debuff"];if(a.id==20271){o=["icon-large","off-cooldown"];o.combat=true;r=true}i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:197277};var a=$.extend(true,{},t.stubs.trigger["target-has-debuff"]);a=a.specialProcessing(a,$.extend({},i,{id:214222}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;e.disjunctive=true;s.customizationsInUse=true}return e};break;case 20473:case 82327:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];r=true;i.customization=function(e){if(i.trigger.match(/-health-low$/)){e.trigger.percenthealth="75";s.customizationsInUse=true}return e};break;case 20925:case 148039:o=["icon-large","off-cooldown"];o.combat=true;break;case 24275:s.customizationsAvailable=true;o=["icon-large","target-health-low"];i.customization=function(e){if(i.trigger=="target-health-low"){s.customizationsInUse=true;e.trigger.percenthealth="35"}return e};break;case 25771:o=["progress-bar-medium","player-has-debuff"];break;case 25780:s.customizationsAvailable=true;o=["icon-large","player-missing-buff"];i.customization=function(e){switch(i.trigger){case"player-missing-buff":WH.ensureObjectPath(e,"load","spec","single");e.load["spec"].single=2;e.load.use_spec=true;s.customizationsInUse=true;break;case"player-has-buff":WH.ensureObjectPath(e,"load","spec","multi");e.load["spec"].multi={1:true,3:true};e.load.use_spec=false;s.customizationsInUse=true;break}return e};break;case 26573:o=["icon-medium","off-cooldown"];o.combat=true;break;case 31868:case 94686:o=["icon-large","player-has-buff",94686];break;case 53563:case 156910:case 157007:o=["icon-medium","target-has-buff"];break;case 53576:case 54149:o=["icon-large","player-has-buff",54149];break;case 76669:case 86273:o=["icon-medium","target-has-buff",86273];break;case 85804:case 114250:o=["icon-medium","player-has-buff",114250];i.maxStacks=3;break;case 86172:case 90174:o=["icon-large","player-has-buff",90174];break;case 87172:case 87173:o=["icon-medium","player-has-buff",87173];break;case 88821:case 88819:o=["icon-medium","player-has-buff",88819];i.maxStacks=2;break;case 115750:case 105421:if(a.id==105421){o=["progress-bar-medium","target-has-debuff"]}else{o=["icon-medium","on-cooldown"]}i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:105421};e.displayStacks=" "}return e};break;case 156987:case 156988:case 156989:case 156990:i.display="progress-bar-medium";i.display="player-has-buff";i.combat=null;break;case 183435:case 183436:o=["progress-bar-medium","player-has-buff",183436];break;case 183778:case 196941:o=["progress-bar-medium","target-has-debuff",196941];break;case 196923:case 223316:o=["progress-bar-medium","player-has-buff",223316];i.maxStacks=2;break;case 197646:case 216411:case 216413:s.customizationsAvailable=true;o=["icon-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:216411};var a=$.extend(true,{},t.stubs.trigger[i.trigger]);a=a.specialProcessing(a,$.extend({},i,{id:216413}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;e.disjunctive=true;s.customizationsInUse=true}return e};break;case 199325:o=["progress-bar-medium","player-has-buff",1044];break;case 199452:case 199448:o=["progress-bar-medium","player-has-debuff",199448];break;case 199456:case 199507:o=["progress-bar-medium","target-has-buff",199507];break;case 200302:case 211422:o=["progress-bar-medium","player-has-buff",211422];break;case 200373:case 200376:o=["progress-bar-medium","player-has-buff",200376];break;case 200421:case 200423:o=["icon-medium","player-has-buff",200423];break;case 200474:case 200656:o=["progress-bar-medium","player-has-buff",200656];break;case 200652:case 200654:if(a.id==200652){o=["icon-large","off-cooldown"];o.combat=true}else{o=["progress-bar-medium","target-has-buff"]}i.customization=function(e){if(i.trigger.match(/^target-.*-buff$/)){e.trigger.spellIds={1:200654}}return e};break;case 202273:o=["progress-bar-small","player-has-buff"];break;case 203316:case 209785:o=["progress-bar-medium","player-has-buff",209785];break;case 204019:case 204301:i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:204301}}return e};break;case 204054:case 204242:o=["progress-bar-medium","target-has-debuff",204242];break;case 204077:case 204079:o=["progress-bar-medium","target-has-debuff",204079];break;case 204934:o=["progress-bar-medium","target-has-debuff",183218];break;case 209389:case 209388:o=["progress-bar-medium","player-has-buff",209388];delete i.maxStacks;break;case 209539:case 209540:o=["progress-bar-medium","player-has-buff",209540];break;case 210256:case 210294:case 216331:i.combat=null;break;case 210323:case 210324:o=["progress-bar-medium","player-has-buff",210324];i.maxStacks=5;break;case 210378:case 210391:o=["icon-medium","player-has-buff",210391];i.maxStacks=10;i.previewCustomization="hide-cooldown";break;case 211426:o=["progress-bar-small","player-has-debuff"];break;case 213644:s.customizationsAvailable=true;o=["icon-large","player-has-debuff"];i.format="$1";i.previewCustomization="hide-cooldown";i.customization=function(e){if(i.trigger.match(/-debuff$/)){delete e.trigger.spellIds;e.trigger.debuffClass="poison";e.trigger.fullscan=true;e.trigger.use_debuffClass=true;e.additional_triggers={1:{trigger:$.extend(true,{},e.trigger,{debuffClass:"disease"})}};e.numTriggers=2;e.disjunctive=true;s.customizationsInUse=true}return e};break;case 215652:o=["icon-medium","off-cooldown"];break;case 216327:case 216328:o=["progress-bar-medium","target-has-buff",216328];i.maxStacks=3;break;case 216855:case 216857:o=["progress-bar-medium","target-has-buff",216857];i.maxStacks=3;break;case 223817:case 223819:o=["icon-large","player-has-buff",223819];break;case 228049:case 228048:case 228050:if(a.id==228049){i.combat=null;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:228050}}return e}}else{o=["icon-medium","target-has-buff",228050];o.combat=null}i.playerClasses=[2];i.color=e.getIdString(2);break;case 17:o=["icon-large","off-cooldown"];o.combat=true;break;case 139:o=["progress-bar-medium","target-has-buff"];break;case 527:s.customizationsAvailable=true;o=["icon-large","target-has-debuff"];i.format="$1";i.customization=function(e){if(i.trigger.match(/-debuff$/)){delete e.trigger.spellIds;e.trigger.debuffClass="magic";e.trigger.fullscan=true;e.trigger.use_debuffClass=true;e.additional_triggers={1:{trigger:$.extend(true,{},e.trigger,{debuffClass:"disease"})}};e.numTriggers=2;e.disjunctive=true;s.customizationsInUse=true}return e};break;case 528:s.customizationsAvailable=true;o=["icon-large","target-has-buff"];i.customization=function(e){if(i.trigger.match(/^target-.*-buff$/)){delete e.trigger.spellIds;e.trigger.debuffClass="magic";e.trigger.fullscan=true;e.trigger.use_debuffClass=true;e.additional_triggers={1:{trigger:{type:"status",event:"Unit Characteristics",hostility:"hostile",unit:"target",use_hostility:true,use_unit:true}}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 1706:case 111758:o=["progress-bar-small","player-has-buff",111758];delete i.playerClasses;break;case 6788:o=["progress-bar-small","target-has-debuff"];break;case 15473:o=["icon-large","player-missing-buff"];break;case 20711:case 27827:o=["icon-large","player-has-buff",27827];break;case 32379:case 199853:case 199911:s.customizationsAvailable=true;o=["icon-large","target-health-low"];if(a.id==32379){i.healthPercent=20}else{i.healthPercent=35}i.iconFilename="spell_shadow_demonicfortitude";i.maxCharges=2;i.previewCustomization="show-cooldown";i.customization=function(e){if(i.trigger=="target-health-low"||i.trigger.match(/-cooldown$/)){var a="local spellId = 32379;    local targetHealth = 20;    if WeakAuras.CheckTalentByIndex(11) then        spellId = 199911;        targetHealth = 35;    end    local charges, maxCharges, start, duration = GetSpellCharges(spellId);";var r='if UnitHealth("target") ~= 0 and UnitHealthMax("target") ~= 0 then if (UnitHealth("target") / UnitHealthMax("target") * 100) < targetHealth and charges > 0 then';var t="end end";if(i.trigger=="on-cooldown"){r="if charges < maxCharges then";t="end";delete e.load.use_combat;e.inverse=true}e.trigger={type:"custom",custom:"function()    "+a+"    "+r+"        return true;    "+t+"    return false;end",customDuration:"function()    "+a+"    if charges < maxCharges then        return duration or 0, start + duration;    end    return 0, 0;end",customStacks:"function()    "+a+"    return GetSpellCharges(spellId) or 0;end",custom_hide:"custom",custom_type:"event",events:"UNIT_HEALTH, SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE"};e.untrigger={custom:"function()    "+a+"    "+r+"        return false;    "+t+"    return true;end"};e.cooldown=true;s.customizationsInUse=true}return e};break;case 32546:s.customizationsAvailable=true;o=["icon-large","player-health-low"];i.healthPercent=75;i.customization=function(e){if(i.trigger.match(/-health-low$/)){var a=i.trigger=="player-health-low"?"target":"player";var r=$.extend(true,{},t.stubs.trigger[a+"-health-low"]);r=r.specialProcessing(r,$.extend(true,{},i,{healthPercent:75}));e=$.extend(e,{additional_triggers:{1:{trigger:r.trigger},2:{trigger:$.extend(true,{},t.stubs.trigger["target-is-friendly"].trigger)}}});e.numTriggers=3;s.customizationsInUse=true}return e};break;case 33076:case 41635:case 41637:i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:33076};e.trigger.spellName=33076}else if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:41635}}return e};i.maxStacks=5;break;case 33206:case 47540:case 47788:s.customizationsAvailable=true;o=["icon-large","target-health-low"];if(a.id==33206||a.id==47540){o=["icon-large","off-cooldown"];o.combat=true;r=true}i.healthPercent=30;i.customization=function(e){if(i.trigger=="target-health-low"){var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger},2:{trigger:$.extend(true,{},t.stubs.trigger["target-is-friendly"].trigger)}}});e.cooldown=true;e.inverse=true;e.numTriggers=3;s.customizationsInUse=true}return e};break;case 45243:case 45242:o=["progress-bar-medium","player-has-buff",45242];i.maxStacks=2;break;case 48045:o=["progress-bar-medium","target-has-debuff"];break;case 52798:case 59889:o=["icon-large","player-has-buff",59889];break;case 63733:case 63735:o=["icon-large","player-has-buff",63735];i.maxStacks=2;break;case 64129:case 65081:o=["progress-bar-medium","target-has-buff",65081];break;case 64843:s.customizationsAvailable=true;r=true;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:64844};s.customizationsInUse=true}return e};break;case 64844:o=["progress-bar-medium","player-has-buff"];i.playerClasses=[5];i.color="holy";break;case 73510:case 217673:o=["progress-bar-medium","target-has-debuff",217673];i.maxStacks=10;break;case 77485:case 77489:o=["progress-bar-medium","target-has-buff",77489];break;case 87160:case 162448:if(a.id==73510){s.customizationsAvailable=true}o=["icon-large","player-has-buff"];i.maxStacks=3;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:87160};if(a.id==73510){s.customizationsInUse=true}}return e};break;case 81206:case 81208:case 81209:o=["icon-large","player-missing-buff"];break;case 81661:case 81662:o=["icon-large","player-has-buff",81661];i.maxStacks=5;break;case 81700:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];i.customization=function(e){if(i.trigger=="off-cooldown"){var a=$.extend(true,{},t.stubs.trigger["player-has-buff"]);a=a.specialProcessing(a,$.extend({},i,{id:81661}));e.trigger=a.trigger;a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.cooldown=true;e.inverse=false;e.numTriggers=2;s.customizationsInUse=true}return e};break;case 81749:case 194384:o=["progress-bar-medium","group-member-has-buff"];i.allowGroupMemberHasBuffTrigger=true;i.showText=WH.TERMS.name+WH.TERMS.comma_punct+WH.TERMS.name;i.showTextLeft=2;i.previewCustomization="player-names";i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:194384}}e.displayTextLeft="%s";e.stacks=false;if(i.display.match(/^icon/)){e.stacksPoint="BOTTOM";e.fontSize=i.display=="icon-large"?10:8}return e};break;case 62618:case 81782:if(a.id==81782){o=["icon-medium","target-has-buff"];i.previewCustomization="hide-cooldown"}i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:62618};e.trigger.spellName=62618}else if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:81782}}return e};break;case 95740:s.customizationsAvailable=true;o=["icon-medium","resources-available"];i.maxStacks=5;i.customization=function(e){if(i.trigger=="resources-available"){e.trigger=$.extend(true,{},t.stubs.trigger["resources-available"].trigger);e.trigger.event="Shadow Orbs";e.trigger.power="0";e.trigger.power_operator=">";delete e.trigger.use_powertype;delete e.trigger.specialProcessing;s.customizationsInUse=true}return e};break;case 108945:case 114214:s.customizationsAvailable=true;o=["icon-large","player-has-buff"];i.showText="5678";i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:114214};e.displayStacks="%c";e.fontSize=14;e.customTextUpdate="update";e.customText='function()    for i=1,16 do        name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId, _, _, _, value = UnitBuff("player", i);        if spellId == 114214 then            if value and value > 0 then                return value;            end            return 0;        end    end    return 0;end';s.customizationsInUse=true}return e};break;case 109142:case 123254:o=["progress-bar-medium","player-has-buff",123254];break;case 109175:case 123267:o=["icon-large","player-has-buff",123267];delete i.maxStacks;break;case 109186:case 114255:o=["icon-medium","player-has-buff",114255];i.maxStacks=2;break;case 123040:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];i.customization=function(e){if(i.trigger=="off-cooldown"){e.additional_triggers={1:{trigger:{type:"status",event:"Power",percentpower:"90",percentpower_operator:"<",powertype:0,unit:"player",use_percentpower:true,use_powertype:true,use_unit:true}}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 124430:case 162452:o=["icon-large","player-has-buff",124430];delete i.maxStacks;break;case 132573:case 139139:o=["icon-large","player-has-buff",132573];delete i.maxStacks;break;case 152116:case 155274:o=["icon-medium","player-has-debuff",155274];i.maxStacks=6;break;case 152117:case 155363:if(a.id==152117){s.customizationsAvailable=true}o=["icon-large","player-has-buff"];i.customization=function(e){if(a.id==152117&&i.trigger.match(/-buff$/)){e.trigger.spellIds={1:155363};s.customizationsInUse=true}return e};break;case 155362:o=["icon-medium","player-has-buff"];break;case 155361:o=["icon-large","target-missing-debuff"];o.combat=true;break;case 193063:case 193065:o=["progress-bar-medium","player-has-buff",193065];break;case 194018:case 194022:o=["progress-bar-medium","player-has-buff",194022];i.iconFilename="spell_priest_voidshift";break;case 196355:case 196356:o=["progress-bar-medium","target-has-buff",196356];break;case 196419:case 210979:case 210980:o=["progress-bar-medium","target-has-debuff"];if(a.id==210980){o=["progress-bar-medium","player-has-buff"]}i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:210979}}else if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:210980}}return e};break;case 196439:case 196440:o=["progress-bar-medium","target-has-buff",196440];i.playerClasses=[5];i.color="holy";break;case 196489:case 196490:o=["icon-medium","player-has-buff",196490];i.iconFilename="spell_holy_prayerofhealing02";break;case 196578:case 196644:o=["progress-bar-medium","player-has-buff",196644];break;case 197031:case 197030:o=["progress-bar-medium","player-has-buff",197030];break;case 197711:case 216135:o=["progress-bar-medium","player-has-buff",216135];break;case 197762:case 197763:o=["progress-bar-medium","player-has-buff",197763];break;case 197781:case 210027:o=["progress-bar-medium","player-has-buff",210027];i.iconFilename="spell_holy_powerwordshield";break;case 198068:case 198069:o=["icon-medium","player-has-buff",198069];break;case 198074:case 198076:o=["progress-bar-medium","player-has-buff",198076];i.maxStacks=50;break;case 199131:case 219772:o=["progress-bar-medium","player-has-buff",219772];i.iconFilename="inv_elemental_primal_shadow";break;case 199144:case 199145:o=["progress-bar-medium","player-has-buff",199145];break;case 199408:case 199412:o=["icon-medium","player-has-buff",199412];i.iconFilename="spell_shadow_shadowpower";break;case 199572:case 199579:o=["icon-medium","player-has-buff",199579];i.previewCustomization="hide-cooldown";break;case 200199:case 200200:o=["progress-bar-medium","target-has-buff",200200];break;case 204065:case 219521:o=["progress-bar-medium","target-has-debuff",219521];break;case 204197:case 204213:o=["progress-bar-medium","target-has-debuff",204213];break;case 205371:case 205372:o=["progress-bar-medium","player-has-buff",205372];i.maxStacks=5;break;case 205448:case 228266:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:205448};e.trigger.spellName=205448;var a=$.extend(true,{},t.stubs.trigger["player-has-buff"]);a=a.specialProcessing(a,$.extend({},i,{id:194249}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 211681:o=["progress-bar-medium","group-member-has-buff"];i.allowGroupMemberHasBuffTrigger=true;i.showText=WH.TERMS.name+WH.TERMS.comma_punct+WH.TERMS.name;i.showTextLeft=2;i.previewCustomization="player-names";i.customization=function(e){e.displayTextLeft="%s";e.stacks=false;if(i.display.match(/^icon/)){e.stacksPoint="BOTTOM";e.fontSize=i.display=="icon-large"?10:8}return e};break;case 213634:s.customizationsAvailable=true;o=["icon-large","target-has-debuff"];i.format="$1";i.customization=function(e){if(i.trigger.match(/-debuff$/)){delete e.trigger.spellIds;e.trigger.debuffClass="magic";e.trigger.fullscan=true;e.trigger.use_debuffClass=true;s.customizationsInUse=true}return e};break;case 215776:case 199683:o=["progress-bar-medium","target-has-debuff",199683];i.customization=function(e){delete e.trigger.ownOnly;return e};break;case 221661:case 221660:o=["progress-bar-medium","player-has-buff",221660];break;case 228260:i.customization=function(e){e.displayIcon="Interface\\Icons\\spell_priest_void blast";return e};break;case 228264:case 194249:s.customizationsAvailable=true;o=["progress-bar-medium","player-has-buff"];i.maxStacks=100;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:194249};if(i.trigger.match(/^player-/)){e.additional_triggers={1:{trigger:e.trigger}};e.trigger={type:"custom",custom:"function()    return true;end",custom_type:"status",customDuration:'function()    return UnitPower("player", SPELL_POWER_INSANITY, true), 10000, true;end',events:"UNIT_POWER"};e.numTriggers=2;s.customizationsInUse=true}}return e};break;case 408:case 1943:case 2098:case 5171:case 26679:case 32645:case 73651:case 121411:case 122233:case 152150:case 196819:case 199804:case 206237:s.customizationsAvailable=true;r=true;i.allowComboPointsTrigger=true;switch(parseInt(a.id)){case 408:case 1943:case 26679:case 121411:case 199804:o=["progress-bar-medium","target-has-debuff"];break;case 2098:case 32645:case 196819:o=["icon-large","combo-points"];break;case 5171:case 206237:o=["progress-bar-medium","player-has-buff"];break;case 73651:o=["icon-large","player-health-low"];break;case 152150:o=["icon-large","off-cooldown"];break}o.combat=null;i.customization=function(e){if(i.trigger=="resources-available"||i.trigger=="off-cooldown"){e.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["combo-points"].trigger)}};e.numTriggers=2;s.customizationsInUse=true}else if(i.trigger.match(/-debuff$/)&&a.id==121411){e.trigger.spellIds={1:122233}}return e};break;case 53:o=["icon-medium","off-cooldown"];break;case 703:case 1330:o=["progress-bar-medium","target-has-debuff"];if(a.id!=1330){s.customizationsAvailable=true;i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:1330};s.customizationsInUse=true}return e}}break;case 1329:s.customizationsAvailable=true;o=["icon-large","resources-available"];i.customization=function(e){if(i.trigger=="resources-available"){e.displayStacks=" ";e.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["combo-points"].trigger)}};e.additional_triggers[1].trigger.combopoints_operator="<";e.additional_triggers[1].trigger.combopoints="5";e.numTriggers=2;s.customizationsInUse=true}return e};break;case 1966:case 79008:o=["progress-bar-medium","player-has-buff",1966];break;case 2823:case 3408:case 8679:case 108211:case 200802:s.customizationsAvailable=true;o=["icon-medium","player-missing-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){var a="trade_brewpoison";if(i.customIcon!=a){i.customIcon=a;setTimeout(p,0)}e.id=WH.TERMS.poisoncheck;var r=[2823,8679,200802];var o=[3408,108211];e.trigger.spellIds={};for(var n=0,c;c=r[n];n++){e.trigger.spellIds[n+1]=c}var l=$.extend(true,{},t.stubs.trigger["player-missing-buff"]);l=l.specialProcessing(l,i);e.additional_triggers={1:{trigger:l.trigger}};e.additional_triggers[1].trigger.spellIds={};for(var u=0,g;g=o[u];u++){e.additional_triggers[1].trigger.spellIds[u+1]=g}l=$.extend(true,{},t.stubs.trigger["player-has-buff"]);l=l.specialProcessing(l,i);e.additional_triggers[2]={trigger:l.trigger};e.additional_triggers[2].trigger.spellIds={};e.additional_triggers[2].trigger.rem="300";e.additional_triggers[2].trigger.remOperator="<=";e.additional_triggers[2].trigger.useRem=true;for(n=0,c;c=r[n];n++){e.additional_triggers[2].trigger.spellIds[n+1]=c}l=$.extend(true,{},t.stubs.trigger["player-has-buff"]);l=l.specialProcessing(l,i);e.additional_triggers[3]={trigger:l.trigger};e.additional_triggers[3].trigger.spellIds={};e.additional_triggers[3].trigger.rem="300";e.additional_triggers[3].trigger.remOperator="<=";e.additional_triggers[3].trigger.useRem=true;for(u=0,g;g=o[u];u++){e.additional_triggers[3].trigger.spellIds[u+1]=g}e.numTriggers=4;e.disjunctive=true;e.displayIcon="Interface\\Icons\\"+a;s.customizationsInUse=true}else{if(i.customIcon){delete i.customIcon;setTimeout(p,0)}}return e};i.playerClasses=[4];i.playerSpecs=[259];i.color=e.getIdString(4);break;case 5938:o=["icon-large","target-is-enraged"];i.allowTargetIsEnragedTrigger=true;break;case 8676:s.customizationsAvailable=true;o=["icon-large","resources-available"];i.customization=function(e){if(i.trigger=="resources-available"){var a=$.extend(true,{},t.stubs.trigger["player-has-buff"]);a=a.specialProcessing(a,$.extend({},i,{id:1784}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 13877:o=["icon-medium","player-has-buff"];i.previewCustomization="hide-cooldown";break;case 14183:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];i.customization=function(e){if(i.trigger.match(/-cooldown$/)){var a=$.extend(true,{},t.stubs.trigger["player-has-buff"]);a=a.specialProcessing(a,$.extend({},i,{id:1784}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 31223:case 31665:o=["progress-bar-small","player-has-buff",31665];break;case 31230:case 45182:case 45181:o=["progress-bar-medium","player-has-buff"];if(a.id==45181){o=["icon-small","player-has-debuff"]}i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:45182}}else if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:45181}}return e};i.playerClasses=[4];i.color=e.getIdString(4);break;case 57934:o=["progress-bar-medium","player-has-buff"];break;case 79147:case 124271:s.customizationsAvailable=true;o=["icon-large","player-missing-buff"];o.combat=true;i.customization=function(e){if(i.trigger=="player-missing-buff"){var a=[1943,703,122233];e.additional_triggers={};for(var r=0,o;o=a[r];r++){var n=$.extend(true,{},t.stubs.trigger["target-missing-debuff"]);n=n.specialProcessing(n,$.extend({},i,{id:o}));if(r==0){e.trigger=n.trigger}else{e.additional_triggers[r]={trigger:n.trigger}}}e.numTriggers=2;s.customizationsInUse=true}return e};break;case 84654:case 84745:case 84746:case 84747:s.customizationsAvailable=true;o=["icon-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){var a="ability_rogue_preyontheweak";if(i.customIcon!=a){i.customIcon=a;setTimeout(p,0)}var r=C();var t=i.trigger.match(/-has-/)?"true":"false";var o=t=="true"?"false":"true";var n="local spellId1 = 84745;    local spellId2 = 84746;    local spellId3 = 84747;";e.trigger={type:"custom",custom:"function()    "+n+'    for i=1,16 do        local spellId = select(11, UnitBuff("'+r+'", i));        if spellId == spellId1 or spellId == spellId2 or spellId == spellId3 then            return '+t+";        end    end    return "+o+";end",custom_hide:"custom",custom_type:"event",customDuration:"function()    "+n+'    for i=1,16 do        local spellId = select(11, UnitBuff("'+r+'", i));        if spellId == spellId1 or spellId == spellId2 or spellId == spellId3 then            return duration or 0, expirationTime or 0;        end    end    return 0;end',customIcon:"function()    "+n+'    for i=1,16 do        local spellId = select(11, UnitBuff("'+r+'", i));        if spellId == spellId1 or spellId == spellId2 or spellId == spellId3 then            return GetSpellTexture(spellId);        end    end    return "Interface\\\\Icons\\\\'+a+'";end',customStacks:"function()    "+n+'    for i=1,16 do        name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+r+'", i);        if spellId == spellId1 or spellId == spellId2 or spellId == spellId3 then            if count and count > 1 then                return count;            end            return 0;        end    end    return 0;end',events:"SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE, UNIT_AURA"};e.untrigger={custom:"function()    "+n+'    for i=1,16 do        local spellId = select(11, UnitBuff("'+r+'", i));        if spellId == spellId1 or spellId == spellId2 or spellId == spellId3 then            return '+o+";        end    end    return "+t+";end"};e.displayIcon="Interface\\Icons\\"+a;e.auto=true;e.id=_(WH.TERMS.banditsguile,true);s.customizationsInUse=true}else{if(i.customIcon){delete i.customIcon;setTimeout(p,0)}}return e};break;case 91023:case 91021:o=["progress-bar-medium","target-has-debuff",91021];break;case 108208:case 115192:o=["progress-bar-medium","player-has-buff",115192];break;case 108210:case 112947:o=["progress-bar-medium","target-has-debuff"];i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:112947};e.displayIcon="Interface\\Icons\\rogue_nerve _strike"}return e};break;case 111240:s.customizationsAvailable=true;o=["icon-large","target-health-low"];i.healthPercent=35;i.customization=function(e){if(i.trigger=="target-health-low"){var a=$.extend(true,{},t.stubs.trigger["resources-available"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.cooldown=true;e.inverse=true;e.numTriggers=2;s.customizationsInUse=true}return e};break;case 121152:case 121153:o=["icon-large","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:121153};e.displayStacks=" "}return e};break;case 152152:case 156719:o=["icon-medium","player-has-buff",156719];i.maxStacks=99;break;case 154904:case 154953:o=["progress-bar-medium","target-has-debuff",154953];break;case 185763:case 193315:case 195627:if(a.id!=193315){o=["icon-large","player-has-buff"]}i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:195627}}return e};break;case 192424:case 192425:o=["progress-bar-small","target-has-debuff",192425];break;case 192428:case 192432:o=["progress-bar-small","player-has-buff",192432];break;case 192759:case 222062:case 192760:case 192853:o=["icon-large","off-cooldown"];if(a.id==192853){o=["progress-bar-medium","target-has-debuff"]}i.maxStacks=99;i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:192759};e.trigger.spellName=192759}else if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:192853}}return e};break;case 192923:case 192925:o=["progress-bar-medium","target-has-debuff",192925];break;case 193316:case 193359:case 193357:case 193356:case 199600:case 199603:case 193358:s.customizationsAvailable=true;o=["progress-bar-medium","player-has-buff"];i.customization=function(e){var a="1-6";var r=WH.TERMS.name+", "+WH.TERMS.name+", "+WH.TERMS.name+"...";if(i.trigger.match(/-buff$/)){var t="ability_rogue_rollthebones";if(i.customIcon!=t){i.customIcon=t;setTimeout(p,0)}var o=false;if(i.display.match(/^icon-/)){if(i.showText!=a){i.showText=a;o=true}}else if(i.display.match(/^progress-bar-/)){if(i.showText!=r){i.showText=r;i.showTextIcon=a;setTimeout(p,0)}}if(o){setTimeout(p,0)}var n=C();var c=i.trigger.match(/-has-/)?"true":"false";var l=c=="true"?"false":"true";var u=[193359,193357,193356,199600,199603,193358];var g="local rollTheBonesBuffs = {"+u.join(", ")+"};";e.trigger={type:"custom",custom:"function()    "+g+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+n+'", i));        for j, buffId in ipairs(rollTheBonesBuffs) do            if spellId == buffId then                return '+c+";            end        end    end    return "+l+";end",custom_hide:"custom",custom_type:"event",customDuration:"function()    "+g+'    for i = 1, 16 do        local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+n+'", i);        for j, buffId in ipairs(rollTheBonesBuffs) do            if spellId == buffId then                return duration or 0, expirationTime or 0;            end        end    end    return 0;end',customIcon:"function()    "+g+'    local icon = nil;    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+n+'", i));        for j, buffId in ipairs(rollTheBonesBuffs) do            if spellId == buffId then                if icon == nil then                    icon = GetSpellTexture(spellId);                else                    icon = false;                    break;                end            end        end        if icon == false then            break;        end    end        if icon ~= nil and icon ~= false then        return icon;    else        return "Interface\\\\Icons\\\\'+t+'";    end end',customStacks:"function()    "+g+'    local count = 0;    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+n+'", i));        for j, buffId in ipairs(rollTheBonesBuffs) do            if spellId == buffId then                count = count + 1;            end        end    end    return count;end',events:"SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE, UNIT_AURA"};e.untrigger={custom:"function()    "+g+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+n+'", i));        for j, buffId in ipairs(rollTheBonesBuffs) do            if spellId == buffId then                return '+l+";            end        end    end    return "+c+";end"};e.displayStacks="%c";e.displayTextRight="%c";e.timerSize=10;e.customTextUpdate="update";e.customText="function()    "+g+'    local names = "";    local buffCount = 0;    for j, buffId in ipairs(rollTheBonesBuffs) do        for i = 1, 16 do            local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+n+'", i);            if spellId == buffId then                if buffCount > 0 then                    names = names .. ", "                end                names = names .. name;                buffCount = buffCount + 1;            end        end    end    if buffCount == 6 then        names = "ALL BUFFS";    end    if string.len(names) > 39 then        names = strsub(names, 0, 36) .. "...";    end    return names;end';if(i.display.match(/^icon-/)){e.displayStacks="%s";e.displayTextRight="%s"}e.displayIcon="Interface\\Icons\\"+t;e.auto=true;s.customizationsInUse=true}else{var f=false;if(i.customIcon){delete i.customIcon;f=true}if(i.showText){delete i.showText;f=true}if(i.showTextIcon){delete i.showTextIcon;f=true}if(f){setTimeout(p,0)}}WH.ensureObjectPath(e,"load","talent","multi");e.load["talent"].multi[20]=true;e.load["talent"].multi[21]=true;e.load.use_talent=false;return e};break;case 193539:case 193538:o=["progress-bar-medium","player-has-buff",193538];i.maxStacks=20;break;case 193640:case 193641:o=["progress-bar-medium","player-has-buff",193641];break;case 196951:case 196958:case 222775:s.customizationsAvailable=true;o=["progress-bar-medium","target-has-debuff"];i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:196958};var a=$.extend(true,{},t.stubs.trigger[i.trigger]);a=a.specialProcessing(a,$.extend({},i,{id:222775}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 197e3:case 197003:o=["progress-bar-medium","player-has-buff",197003];i.playerClasses=[4];i.color=e.getIdString(4);break;case 197020:case 197023:o=["progress-bar-small","player-has-buff",197023];i.playerClasses=[4];i.color=e.getIdString(4);break;case 197044:case 197046:o=["progress-bar-medium","target-has-debuff",197046];i.iconFilename="inv_misc_herb_16";break;case 197050:case 197051:o=["progress-bar-medium","target-has-debuff",197051];i.playerClasses=[4];i.color=e.getIdString(4);break;case 197406:case 197496:case 197498:s.customizationsAvailable=true;o=["progress-bar-medium","player-has-buff"];i.customization=function(e){var a="1-2";var r=WH.TERMS.name+", "+WH.TERMS.name;if(i.trigger.match(/-buff$/)){var t="ability_rogue_eviscerate";if(i.customIcon!=t){i.customIcon=t;setTimeout(p,0)}var o=false;if(i.display.match(/^icon-/)){if(i.showText!=a){i.showText=a;o=true}}else if(i.display.match(/^progress-bar-/)){if(i.showText!=r){i.showText=r;i.showTextIcon=a;setTimeout(p,0)}}if(o){setTimeout(p,0)}var n=C();var c=i.trigger.match(/-has-/)?"true":"false";var l=c=="true"?"false":"true";var u="local finalityBuffs = {197496, 197498};";e.trigger={type:"custom",custom:"function()    "+u+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+n+'", i));        for j, buffId in ipairs(finalityBuffs) do            if spellId == buffId then                return '+c+";            end        end    end    return "+l+";end",custom_hide:"custom",custom_type:"event",customDuration:"function()    "+u+'    local lowDuration = 0;    local lowExpirationTime = 0;    for i = 1, 16 do        local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+n+'", i);        for j, buffId in ipairs(finalityBuffs) do            if spellId == buffId then                if lowExpirationTime == 0 or expirationTime < lowExpirationTime then                    lowDuration = duration;                    lowExpirationTime = expirationTime;                end            end        end    end    return lowDuration, lowExpirationTime;end',customIcon:"function()    "+u+'    local lowExpirationTime = 0;    local icon = nil;    for i = 1, 16 do        local name, rank, buffIcon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+n+'", i);        for j, buffId in ipairs(finalityBuffs) do            if spellId == buffId then                if lowExpirationTime ~= 0 then                    if expirationTime < lowExpirationTime then                        icon = buffIcon;                        lowExpirationTime = expirationTime;                    end                else                    icon = buffIcon;                    lowExpirationTime = expirationTime;                end            end        end    end    if icon ~= nil then        return icon;    else        return "Interface\\\\Icons\\\\'+t+'";    end end',customStacks:"function()    "+u+'    local count = 0;    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+n+'", i));        for j, buffId in ipairs(finalityBuffs) do            if spellId == buffId then                count = count + 1;            end        end    end    return count;end',events:"SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE, UNIT_AURA"};e.untrigger={custom:"function()    "+u+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+n+'", i));        for j, buffId in ipairs(finalityBuffs) do            if spellId == buffId then                return '+l+";            end        end    end    return "+c+";end"};e.displayStacks="%c";e.displayTextRight="%c";e.timerSize=10;e.customTextUpdate="update";e.customText="function()    "+u+'    local lowExpirationTime = 0;    local names = "";    for j, buffId in ipairs(finalityBuffs) do        for i = 1, 16 do            local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+n+'", i);            if spellId == buffId then                if lowExpirationTime > 0 then                    if expirationTime < lowExpirationTime then                        names = name .. ", " .. names                        lowExpirationTime = expirationTime;                    else                        names = names .. ", " .. name                    end                else                    names = names .. name;                    lowExpirationTime = expirationTime;                end            end        end    end    if string.len(names) > 42 then        names = strsub(names, 0, 39) .. "...";    end    return names;end';if(i.display.match(/^icon-/)){e.displayStacks="%s";e.displayTextRight="%s"}e.displayIcon="Interface\\Icons\\"+t;e.auto=true;s.customizationsInUse=true}else{var g=false;if(i.customIcon){delete i.customIcon;g=true}if(i.showText){delete i.showText;g=true}if(i.showTextIcon){delete i.showTextIcon;g=true}if(g){setTimeout(p,0)}}return e};i.playerClasses=[4];i.color=e.getIdString(4);break;case 197604:case 197603:o=["progress-bar-medium","player-has-buff",197603];break;case 198020:case 198023:case 198027:o=["progress-bar-medium","player-has-buff",198027];i.playerClasses=[4];i.color=e.getIdString(4);break;case 198092:case 198097:o=["progress-bar-small","target-has-debuff",198097];break;case 198145:case 198222:o=["progress-bar-medium","target-has-debuff",198222];break;case 198265:case 198368:o=["progress-bar-medium","player-has-buff",198368];i.playerClasses=[4];i.color=e.getIdString(4);break;case 198665:case 209427:o=["icon-small","player-has-buff"];i.previewCustomization="hide-cooldown";break;case 198675:case 198688:o=["icon-medium","target-has-debuff",198688];i.maxStacks=10;break;case 198952:case 199027:o=["progress-bar-medium","player-has-buff",199027];break;case 199740:o=["icon-medium","off-cooldown"];break;case 199743:o=["progress-bar-medium","target-has-debuff"];break;case 202665:case 202668:case 214862:case 208245:o=["icon-large","off-cooldown"];if(a.id==208245){o=["progress-bar-medium","player-has-debuff"]}i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:202665};e.trigger.spellName=202665}else if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:208245}}return e};i.playerClasses=[4];i.color=e.getIdString(4);break;case 202753:case 202754:o=["icon-medium","player-has-buff",202754];break;case 206317:case 209417:o=["progress-bar-small","player-has-buff",209417];break;case 206328:case 197091:i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:197091}}return e};break;case 209752:case 209754:o=["progress-bar-small","player-has-buff",209754];break;case 209782:case 209783:case 209784:case 209786:case 220901:o=["icon-large","off-cooldown"];if(a.id==209786){o=["progress-bar-medium","target-has-debuff"]}else if(a.id==220901){o=["progress-bar-medium","player-has-buff"]}i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:209782};e.trigger.spellName=209782}else if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:220901}}else if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:209786}}return e};break;case 212035:case 213995:case 212150:o=["progress-bar-medium","player-has-buff"];if(a.id==212150){o=["progress-bar-medium","target-has-debuff"]}i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:213995}}else if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:212150}}return e};break;case 212283:o=["progress-bar-medium","player-has-buff"];break;case 5394:case 98008:case 108280:case 157153:case 192222:case 198838:case 204330:case 204331:case 204332:case 204336:case 207399:i.allowTotemTriggers=true;break;case 324:o=["icon-large","player-missing-buff"];i.maxStacks=20;i.customization=function(e){if(i.trigger=="player-missing-buff"){WH.ensureObjectPath(e,"load","spec","multi");e.load["spec"].multi={1:true,2:true};e.load.use_spec=false}return e};break;case 370:s.customizationsAvailable=true;o=["icon-large","target-has-buff"];i.customization=function(e){if(i.trigger.match(/^target-.*-buff$/)){delete e.trigger.spellIds;e.trigger.debuffClass="magic";e.trigger.fullscan=true;e.trigger.use_debuffClass=true;e.additional_triggers={1:{trigger:{type:"status",event:"Unit Characteristics",hostility:"hostile",unit:"target",use_hostility:true,use_unit:true}}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 403:case 188196:o=["progress-bar-medium","player-is-casting"];break;case 974:case 204288:o=["progress-bar-medium","group-member-has-buff"];i.allowGroupMemberHasBuffTrigger=true;i.showText=WH.TERMS.name;i.previewCustomization="player-names";i.customization=function(e){e.stacks=false;if(i.display.match(/^icon/)){e.stacksPoint="BOTTOM";e.fontSize=i.display=="icon-large"?10:8}return e};break;case 2645:o=["icon-medium","player-has-buff"];o.combat=true;i.previewCustomization="hide-cooldown";break;case 2825:case 32182:s.customizationsAvailable=true;o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:2825};var a=$.extend(true,{},t.stubs.trigger["player-has-buff"]);a=a.specialProcessing(a,$.extend({},i,{id:32182}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;e.disjunctive=true;delete e.load["class"];delete e.load.race;delete e.load.spec;delete e.load.talent;delete e.load.pvptalent;delete e.load.use_class;delete e.load.use_race;delete e.load.use_spec;delete e.load.use_talent;delete e.load.use_pvptalent;s.customizationsInUse=true}return e};break;case 3599:o=["icon-large","player-missing-totem"];o.combat=true;i.playerSpecs=[262,263];i.allowTotemTriggers=true;break;case 8042:s.customizationsAvailable=true;o=["icon-large","resources-available"];i.customization=function(e){if(i.trigger=="resources-available"){e.trigger.power="86";s.customizationsInUse=true}return e};break;case 8190:o=["progress-bar-medium","player-has-totem"];i.allowTotemTriggers=true;break;case 17364:s.customizationsAvailable=true;o=["icon-large","resources-available"];o.combat=true;i.customization=function(e){if(i.trigger=="resources-available"){var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.cooldown=true;e.inverse=true;e.numTriggers=2;s.customizationsInUse=true}};break;case 36936:o=["icon-medium","low-resources"];i.allowLowResourcesTrigger=true;i.customization=function(e){if(i.trigger=="low-resources"){e.trigger.powertype=0;delete e.trigger.power;delete e.trigger.power_operator;delete e.trigger.use_power;e.trigger.percentpower="15";e.trigger.percentpower_operator="<";e.trigger.use_percentpower=true}return e};break;case 51530:case 53817:o=["icon-medium","player-has-buff",53817];i.maxStacks=5;break;case 51564:case 53390:o=["icon-medium","player-has-buff",53390];i.maxStacks=2;break;case 51886:s.customizationsAvailable=true;o=["icon-large","target-has-debuff"];i.format="$1";i.previewCustomization="hide-cooldown";i.customization=function(e){if(i.trigger.match(/-debuff$/)){delete e.trigger.spellIds;e.trigger.debuffClass="curse";e.trigger.fullscan=true;e.trigger.use_debuffClass=true;var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger},2:{trigger:$.extend(true,{},t.stubs.trigger["target-is-friendly"].trigger)}}});e.numTriggers=3;s.customizationsInUse=true}return e};break;case 60103:s.customizationsAvailable=true;o=["icon-large","resources-available"];o.combat=true;i.customization=function(e){if(i.trigger=="resources-available"){e.trigger.power="90";s.customizationsInUse=true}};break;case 61295:o=["icon-medium","off-cooldown"];o.combat=true;break;case 61882:o=["progress-bar-medium","player-has-totem"];i.allowTotemTriggers=true;break;case 73685:o=["icon-large","off-cooldown"];o.combat=true;i.playerClasses=[7];i.color=e.getIdString(7);break;case 73920:o=["progress-bar-medium","player-has-buff"];break;case 77130:s.customizationsAvailable=true;i.display="icon-large";i.trigger=(a.id==88423?"target":"player")+"-has-debuff";i.combat=null;i.format="$1";i.customization=function(e){if(i.trigger.match(/-debuff$/)){delete e.trigger.spellIds;e.trigger.debuffClass="curse";e.trigger.fullscan=true;e.trigger.use_debuffClass=true;e.additional_triggers={1:{trigger:$.extend(true,{},e.trigger,{debuffClass:"magic"})}};e.numTriggers=2;e.disjunctive=true;s.customizationsInUse=true}return e};break;case 77756:case 77762:o=["icon-large","player-has-buff",77762];break;case 117012:case 118472:o=["icon-large","player-has-buff",118472];break;case 118473:case 165479:o=["icon-large","player-has-buff",118473];break;case 152257:case 157174:o=["icon-medium","player-has-buff",157174];i.maxStacks=2;break;case 165477:case 118470:o=["icon-large","player-has-buff",118470];break;case 187837:s.customizationsAvailable=true;o=["icon-large","resources-available"];o.combat=true;i.customization=function(e){if(i.trigger=="resources-available"){e.trigger.power="90";var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.cooldown=true;e.inverse=true;e.numTriggers=2;WH.ensureObjectPath(e,"load","talent","single");e.load["talent"].single=14;e.load.use_talent=true;s.customizationsInUse=true}};break;case 187874:o=["progress-bar-medium","player-has-buff"];break;case 191861:case 191877:o=["icon-medium","player-has-buff",191877];break;case 193796:case 194084:i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:194084}}return e};break;case 197211:o=["icon-medium","player-has-buff"];i.previewCustomization="hide-cooldown";break;case 197214:s.customizationsAvailable=true;o=["icon-large","resources-available"];o.combat=true;i.customization=function(e){if(i.trigger=="resources-available"){e.trigger.power="110";var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.cooldown=true;e.inverse=true;e.numTriggers=2;s.customizationsInUse=true}};break;case 197992:case 202004:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:202004};e.displayStacks=" "}return e};break;case 198292:case 198293:o=["progress-bar-medium","player-has-buff",198293];break;case 198299:case 198300:o=["progress-bar-medium","player-has-buff",198300];break;case 198736:case 199055:o=["progress-bar-medium","player-has-buff",199055];break;case 201845:case 201846:o=["icon-large","player-has-buff",201846];break;case 201897:case 218825:o=["icon-large","player-missing-buff"];o.combat=true;i.customization=function(e){if(i.trigger.match(/-buff$/)){if(i.showText!=" "){i.showText=" ";setTimeout(p,0)}e.trigger.spellIds={1:218825}}else{if(i.showText){delete i.showText;setTimeout(p,0)}}return e};break;case 201900:case 215785:o=["icon-large","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:215785};e.displayStacks=" "}return e};break;case 206642:case 206647:o=["progress-bar-medium","target-has-debuff",206647];break;case 207351:case 207527:o=["progress-bar-medium","player-has-buff",207527];i.maxStacks=6;break;case 207354:case 209950:o=["progress-bar-medium","player-has-buff",209950];break;case 207357:case 207654:o=["progress-bar-medium","player-has-buff",207654];break;case 207362:case 208205:case 228948:o=["progress-bar-medium","player-has-buff",208205];i.maxStacks=7;break;case 207401:case 207400:o=["progress-bar-medium","target-has-buff",207400];break;case 210643:o=["icon-large","player-missing-totem"];o.combat=true;i.allowTotemTriggers=true;break;case 210689:case 197209:o=["progress-bar-medium","target-has-debuff",197209];break;case 211062:case 210927:o=["icon-medium","target-has-debuff"];i.previewCustomization="hide-cooldown";i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:210927};e.displayStacks=" "}return e};break;case 211400:o=["icon-medium","player-has-buff"];i.previewCustomization="hide-cooldown";break;case 215864:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:215864};e.displayStacks=" "}return e};break;case 221678:case 221677:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:221677};e.displayStacks=" "}return e};i.playerClasses=[7];i.color=e.getIdString(7);break;case 172:case 146739:o=["progress-bar-medium","target-has-debuff",146739];break;case 348:case 157736:o=["progress-bar-medium","target-has-debuff",157736];break;case 603:case 124913:o=["progress-bar-medium","target-has-debuff",603];break;case 689:case 63106:case 198590:o=["icon-large","player-health-low"];break;case 755:o=["icon-large","pet-health-low"];break;case 1454:o=["icon-large","low-resources"];i.allowLowResourcesTrigger=true;i.customization=function(e){if(i.trigger=="low-resources"){e.trigger.powertype=0;delete e.trigger.power;delete e.trigger.power_operator;delete e.trigger.use_power;e.trigger.percentpower="55";e.trigger.percentpower_operator="<";e.trigger.use_percentpower=true}return e};break;case 1949:o=["progress-bar-medium","player-is-casting"];break;case 5740:o=["icon-medium","resources-available"];o.combat=true;break;case 5782:case 118699:o=["progress-bar-medium","target-has-debuff",118699];break;case 6201:o=["icon-medium","missing-conjured-item"];i.iconFilename="warlock_ healthstone";i.customIcon="warlock_-healthstone";i.conjuredItemId=5512;i.allowMissingConjuredItemTrigger=true;break;case 6353:case 108869:case 122351:case 122355:if(a.id==6353){s.customizationsAvailable=true}o=["icon-medium","player-has-buff"];i.maxStacks=10;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:122355};s.customizationsInUse=true}return e};break;case 17877:s.customizationsAvailable=true;o=["icon-large","target-health-low"];i.customization=function(e){if(i.trigger=="target-health-low"){var a=$.extend(true,{},t.stubs.trigger["resources-available"]);a=a.specialProcessing(a,i);e.additional_triggers={1:{trigger:a.trigger,untrigger:{}}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 20707:o=["progress-bar-medium","group-member-has-buff"];i.allowGroupMemberHasBuffTrigger=true;i.showText=WH.TERMS.name;i.previewCustomization="player-names";i.customization=function(e){e.stacks=false;if(i.display.match(/^icon/)){e.stacksPoint="BOTTOM";e.fontSize=i.display=="icon-large"?10:8}if(!i.trigger.match(/cooldown$/)){delete e.load["class"];delete e.load.race;delete e.load.spec;delete e.load.talent;delete e.load.pvptalent;delete e.load.use_class;delete e.load.use_race;delete e.load.use_spec;delete e.load.use_talent;delete e.load.use_pvptalent}return e};break;case 27243:o=["progress-bar-medium","target-has-debuff"];break;case 29722:o=["progress-bar-medium","player-is-casting"];delete i.maxStacks;break;case 30108:o=["icon-large","resources-available"];o.combat=true;break;case 48018:o=["progress-bar-medium","player-has-buff"];break;case 74434:o=["icon-large","player-has-buff"];break;case 86121:case 86211:o=["icon-medium","on-cooldown",86211,/-buff$/];break;case 103103:o=["progress-bar-medium","player-is-casting"];break;case 103958:s.customizationsAvailable=true;o=["icon-large","resources-available"];i.customization=function(e){if(i.trigger=="resources-available"){e.trigger.power="900";var a=$.extend(true,{},t.stubs.trigger["player-missing-buff"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.numTriggers=2;s.customizationsInUse=true}return e};break;case 104232:case 109784:o=["progress-bar-medium","player-has-buff",104232];break;case 104315:s.customizationsAvailable=true;o=["progress-bar-medium","resources-available"];i.maxStacks=1e3;i.format="$1";i.showText="1-1000";i.allowResourcesAvailableTrigger=true;i.customization=function(e){if(i.trigger=="resources-available"){e.stacksPoint="CENTER";e.trigger={type:"custom",custom:"function()    return true;end",custom_type:"status",customDuration:'function()    return UnitPower("player", SPELL_POWER_DEMONIC_FURY, true), 1000, true;end',customStacks:'function()    return UnitPower("player", SPELL_POWER_DEMONIC_FURY, true);end',events:"UNIT_POWER"};e.untrigger={custom:"function()    return false;end"};s.customizationsInUse=true}return e};break;case 105174:s.customizationsAvailable=true;o=["icon-large","resources-available"];i.customization=function(e){if(i.trigger=="resources-available"){e.trigger.power="4";s.customizationsInUse=true}return e};break;case 108366:case 108370:s.customizationsAvailable=true;o=["icon-medium","player-has-buff"];i.showText="5678";i.previewCustomization="hide-cooldown";i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:108366};var a=C();e.customText='function(_, _, _, _, spellName)    return select(17, UnitBuff("'+(a||"player")+'", spellName)) or 0;end';if(i.display=="progress-bar-medium"){e.displayTextRight="%c"}else{e.fontSize=10;e.displayStacks="%c"}s.customizationsInUse=true}return e};break;case 108508:o=["icon-medium","player-has-buff"];break;case 108647:s.customizationsAvailable=true;o=["progress-bar-medium","resources-available"];i.maxStacks=4;i.color="error";i.format="$1";i.allowResourcesAvailableTrigger=true;i.customization=function(e){if(i.trigger=="resources-available"){e.stacksPoint="CENTER";e.trigger={type:"custom",custom:"function()    return true;end",custom_type:"status",customDuration:'function()    return UnitPower("player", SPELL_POWER_BURNING_EMBERS, true), 40, true;end',customStacks:'function()    return UnitPower("player", SPELL_POWER_BURNING_EMBERS, true) / 10;end',events:"UNIT_POWER"};e.untrigger={custom:"function()    return false;end"};s.customizationsInUse=true}return e};break;case 108683:o=["icon-large","player-has-buff"];i.previewCustomization="hide-cooldown";break;case 111400:o=["icon-medium","player-has-buff"];i.previewCustomization="hide-cooldown";break;case 111771:case 113886:case 113890:case 113942:o=["progress-bar-medium","player-has-debuff"];i.customization=function(e){if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:113942};delete e.load["class"];delete e.load.race;delete e.load.spec;delete e.load.talent;delete e.load.pvptalent;delete e.load.use_class;delete e.load.use_race;delete e.load.use_spec;delete e.load.use_talent;delete e.load.use_pvptalent}return e};i.playerClasses=[9];i.color=e.getIdString(9);break;case 108501:case 111859:case 111895:case 111896:case 111897:case 111898:case 157900:case 157906:case 157901:case 157907:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];o.combat=true;i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:111859};e.trigger.spellName=111859;s.customizationsInUse=true}return e};break;case 114635:s.customizationsAvailable=true;o=["icon-large","player-health-low"];i.customization=function(e){if(i.trigger=="player-health-low"){var a=$.extend(true,{},t.stubs.trigger["resources-available"]);a=a.specialProcessing(a,i);e.additional_triggers={1:{trigger:a.trigger,untrigger:{}}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 116858:s.customizationsAvailable=true;o=["icon-large","resources-available"];i.maxStacks=5;i.showText=2+WH.TERMS.hyphen_punct.replace(/ /g,"")+5;i.customization=function(e){if(i.trigger=="resources-available"){e.displayStacks="%c";e.customTextUpdate="update";e.customText='function()    return UnitPower("player", SPELL_POWER_SOUL_SHARDS, true);end';s.customizationsInUse=true}return e};break;case 117198:s.customizationsAvailable=true;o=["progress-bar-medium","resources-available"];i.maxStacks=4;i.format="$1";i.allowResourcesAvailableTrigger=true;i.customization=function(e){if(i.trigger=="resources-available"){e.stacksPoint="CENTER";e.trigger={type:"custom",custom:"function()    return true;end",custom_type:"status",customDuration:'function()    return math.floor(UnitPower("player", SPELL_POWER_SOUL_SHARDS, true) / 100), 4, true;end',customStacks:'function()    return math.floor(UnitPower("player", SPELL_POWER_SOUL_SHARDS, true) / 100);end',events:"UNIT_POWER"};e.untrigger={custom:"function()    return false;end"};s.customizationsInUse=true}return e};break;case 117896:case 117828:case 196406:o=["icon-medium","player-has-buff",117828];break;case 119898:case 119905:case 132411:case 119909:case 137706:case 119913:case 19647:case 119910:case 132409:case 115781:case 119911:case 119914:case 89751:case 119907:case 132413:case 171140:case 171152:s.customizationsAvailable=true;o=["icon-medium","on-cooldown"];switch(parseInt(a.id)){case 19647:case 119910:case 132409:case 115781:case 119911:case 171140:o=["icon-large","target-interruptible"];break}i.customization=function(e){if(i.trigger=="target-interruptible"){var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.cooldown=true;e.inverse=true;e.numTriggers=2;s.customizationsInUse=true}else if(i.trigger.match(/-cooldown$/)){if(i.customIcon!="ability_warlock_demonicempowerment"){i.customIcon="ability_warlock_demonicempowerment";setTimeout(p,0)}var r=[119905,132411,119909,137706,119913,119910,132409,119911,119914,119907,132413,171140,171152];var o="local commandDemonSpells = {"+r.join(", ")+"};";e.auto=true;e.trigger={type:"custom",custom:"function()    "+o+"    for i, spellId in ipairs(commandDemonSpells) do        if select(1, GetSpellCooldown(spellId)) ~= 0 then            return true;        end    end    return false;end",custom_hide:"custom",custom_type:"event",customDuration:"function()    "+o+"    for i, spellId in ipairs(commandDemonSpells) do        local start, duration = GetSpellCooldown(spellId);        if start ~= 0 then            return duration or 0, start + duration;        end    end    return 0;end",customIcon:"function()    "+o+'    for i, spellId in ipairs(commandDemonSpells) do        if select(1, GetSpellCooldown(spellId)) ~= 0 then            return GetSpellTexture(spellId);        end    end    return "Interface\\\\Icons\\\\ability_warlock_demonicempowerment";end',events:"SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE"};e.untrigger={custom:"function()    "+o+"    for i, spellId in ipairs(commandDemonSpells) do        if select(1, GetSpellCooldown(spellId)) ~= 0 then            return false;        end    end    return true;end"};e.cooldown=true;s.customizationsInUse=true}else{if(i.customIcon){delete i.customIcon;setTimeout(p,0)}}return e};i.playerClasses=[9];i.color=e.getIdString(9);break;case 120451:s.customizationsAvailable=true;o=["icon-large","no-pet"];i.allowNoPetTrigger=true;i.customization=function(e){if(i.trigger=="no-pet"){var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.cooldown=true;e.inverse=true;e.numTriggers=2;WH.ensureObjectPath(e,"load","talent","multi");e.load["talent"].multi[13]=true;e.load["talent"].multi[14]=true;e.load.use_talent=false;s.customizationsInUse=true}return e};break;case 152109:case 157698:o=["progress-bar-medium","player-has-buff",157698];break;case 171975:case 171982:o=["progress-bar-medium","player-has-buff",171982];break;case 193396:o=["progress-bar-medium","pet-has-buff"];break;case 196269:case 196606:o=["icon-large","player-has-buff",196606];break;case 196412:case 196414:o=["progress-bar-medium","target-has-debuff",196414];break;case 199472:case 199646:o=["progress-bar-medium","player-has-buff",199646];i.maxStacks=5;break;case 196675:case 196674:o=["progress-bar-medium","player-has-buff",196674];i.playerClasses=[9];i.color=e.getIdString(9);break;case 199282:case 199281:o=["icon-medium","player-has-buff",199281];i.maxStacks=5;break;case 200586:case 212269:o=["progress-bar-medium","target-has-debuff",212269];i.playerClasses=[9];i.color=e.getIdString(9);break;case 205145:case 205146:o=["icon-large","player-has-buff",205146];break;case 211530:case 211583:o=["icon-medium","player-has-buff",211583];break;case 216698:case 216708:o=["progress-bar-medium","player-has-buff",216708];break;case 219195:case 196546:o=["icon-medium","player-has-buff",196546];break;case 221711:case 221715:o=["progress-bar-medium","target-has-debuff",221715];i.maxStacks=5;break;case 71:case 2457:case 156291:s.customizationsAvailable=true;o=["icon-large","player-missing-buff"];i.customization=function(e){if(i.trigger.match(/-buff/)){var r={2457:1,71:2,156291:1};e.trigger={type:"status",event:"Stance/Form/Aura",form:r.hasOwnProperty(a.id)?r[a.id]:0,unit:i.trigger.indexOf("target-")==0?"target":"player",use_form:true,use_inverse:false,use_unit:true};if(i.trigger.indexOf("-missing-")>-1){e.trigger.use_inverse=true}delete e.cooldown;s.customizationsInUse=true}return e};break;case 78:s.customizationsAvailable=true;o=["icon-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:122510};s.customizationsInUse=true}return e};break;case 845:case 188923:case 209462:o=["icon-medium","player-has-buff",188923];i.maxStacks=5;break;case 1464:case 1680:o=["icon-medium","resources-available"];break;case 2565:case 132404:case 145054:o=["icon-medium","off-cooldown"];o.combat=true;break;case 5308:case 163201:case 217956:s.customizationsAvailable=true;o=["icon-large","ability-is-usable"];i.customization=function(e,a){if(i.trigger="ability-is-usable"){a.trigger.spellName=5308;a.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["ability-is-usable"].trigger)}};delete a.additional_triggers[1].trigger.specialProcessing;a.additional_triggers[1].trigger.spellName=163201;a.disjunctive=true;a.numTriggers=2;WH.ensureObjectPath(a,"load","spec","multi");a.load.spec.multi={1:true,2:true};a.load.use_spec=false;s.customizationsInUse=true}else if(i.trigger=="target-health-low"){a.additional_triggers={1:{trigger:$.extend(true,{},t.stubs.trigger["resources-available"].trigger)}};delete a.additional_triggers[1].trigger.specialProcessing;a.additional_triggers[1].trigger.powertype=1;a.additional_triggers[1].trigger.power_operator=">=";a.additional_triggers[1].trigger.power=e.id==163201?"10":"25";a.numTriggers=2;s.customizationsInUse=true}return a}.bind(null,a);break;case 7384:case 60503:o=["icon-large","player-has-buff",60503];break;case 12294:case 115804:case 198819:s.customizationsAvailable=true;if(a.id==115804){o=["progress-bar-medium","target-has-debuff"]}else{o=["icon-medium","off-cooldown"];o.combat=true;r=true}delete i.maxStacks;i.customization=function(e){if(i.trigger.match(/-cooldown$/)){e.trigger.spellIds={1:12294};e.trigger.spellName=12294}else if(i.trigger.match(/-debuff$/)){e.trigger.spellIds={1:115804};var a=$.extend(true,{},t.stubs.trigger[i.trigger]);a=a.specialProcessing(a,$.extend({},i,{id:198819}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;if(i.trigger.match(/-has-/)){e.disjunctive=true}e.activeTriggerMode=-10;s.customizationsInUse=true}return e};i.playerClasses=[1];i.color=e.getIdString(1);break;case 12323:o=["progress-bar-medium","target-has-debuff"];break;case 12950:case 85739:case 190411:o=["icon-medium","player-has-buff",85739];break;case 13046:case 12880:case 76856:case 85288:case 96103:case 85384:case 131116:case 184361:case 184362:o=["progress-bar-medium","player-has-buff"];if(a.id==85288){s.customizationsAvailable=true;r=true}i.customization=function(e,a){if(e.id==85288&&i.trigger.match(/-cooldown$/)){WH.ensureObjectPath(a,"load","talent","single");a.load["talent"].single=18;a.load.use_talent=true;s.customizationsInUse=true}else if(i.trigger.match(/-buff$/)){a.trigger.spellIds={1:184362}}return a}.bind(null,a);break;case 18499:s.customizationsAvailable=true;o=["icon-large","off-cooldown"];o.combat=true;i.customization=function(e){if(i.trigger=="off-cooldown"){WH.ensureObjectPath(e,"load","spec","single");e.load["spec"].single=2;e.load.use_spec=true;WH.ensureObjectPath(e,"load","talent","single");e.load["talent"].single=8;e.load.use_talent=true;s.customizationsInUse=true}return e};break;case 20243:s.customizationsAvailable=true;o=["icon-small","on-cooldown"];i.customization=function(e){if(i.trigger=="on-cooldown"){e.trigger.spellIds={1:6572};e.trigger.spellName=6572;var a=$.extend(true,{},t.stubs.trigger["on-cooldown"]);a=a.specialProcessing(a,$.extend({},i,{id:23922}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 23881:o=["icon-medium","off-cooldown"];o.combat=true;break;case 23920:o=["icon-medium","off-cooldown"];o.combat=true;break;case 23922:s.customizationsAvailable=true;r=true;i.customization=function(e){if(i.trigger.match(/-buff$/)){e.trigger.spellIds={1:122510};s.customizationsInUse=true}return e};break;case 29725:case 52437:o=["icon-large","player-has-buff",52437];break;case 34428:case 32216:case 103840:o=["icon-large","player-has-buff",32216];break;case 46915:case 46916:o=["icon-large","player-has-buff",46916];i.playerClasses=[1];i.color=e.getIdString(1);break;case 100130:case 206333:o=["progress-bar-small","player-has-buff",206333];i.maxStacks=6;break;case 112048:case 174926:s.customizationsAvailable=true;o=["icon-large","resources-available"];o.combat=true;if(parseInt(a.id)==112048){i.playerSpecs=[73]}i.customization=function(e){if(i.trigger="resources-available"){e.trigger.power="60";var a=$.extend(true,{},t.stubs.trigger["player-missing-buff"]);a=a.specialProcessing(a,i);e=$.extend(e,{additional_triggers:{1:{trigger:a.trigger}}});e.numTriggers=2;s.customizationsInUse=true}return e};break;case 115768:case 115767:o=["progress-bar-small","target-has-debuff",115767];i.playerClasses=[1];i.color=e.getIdString(1);break;case 122509:case 122510:o=["icon-medium","player-has-buff",122510];break;case 167105:case 208086:n=[167105,208086,null,null,null,"target-has-debuff"];break;case 169685:case 169686:o=["icon-medium","player-has-buff",169686];i.maxStacks=6;break;case 184367:o=["icon-large","ability-is-usable"];break;case 188778:case 188783:o=["progress-bar-small","player-has-buff",188783];break;case 189059:case 189064:o=["progress-bar-medium","player-has-buff",189064];break;case 190456:o=["progress-bar-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){e.displayStacks="%c";e.fontSize=14;e.customTextUpdate="update";e.customText='function()    for i=1,16 do        local _,_,_,_,_,_,_,_,_,_,spellID,_,_,_,_,_,absorbAmount,_,_ = UnitBuff("player", i);        if spellId == '+a.id+" then            if value and value > 0 then                return value;            end            return 0;        end    end    return 0;end";s.customizationsInUse=true}return e};break;case 197690:o=["icon-small","player-has-buff"];i.previewCustomization="hide-cooldown";break;case 198304:case 147833:n=[198304,147833,"icon-medium","on-cooldown","progress-bar-medium","target-has-buff"];break;case 198492:case 198708:case 198498:o=["progress-bar-medium","player-has-buff",198498];break;case 198821:case 198827:o=["progress-bar-small","target-has-debuff",198827];break;case 198912:o=["progress-bar-small","target-has-debuff"];break;case 199037:case 199038:o=["progress-bar-medium","target-has-buff",199038];break;case 199045:case 199042:o=["icon-medium","target-has-debuff",199042];i.playerClasses=[1];i.color=e.getIdString(1);break;case 199086:case 199085:o=["icon-medium","target-has-debuff",199085];i.playerClasses=[1];i.color=e.getIdString(1);break;case 199202:case 199203:o=["progress-bar-small","player-has-buff",199203];break;case 200857:case 200954:o=["progress-bar-small","player-has-buff",200954];break;case 200872:case 200986:o=["progress-bar-medium","player-has-buff",200986];break;case 200845:case 200951:case 200953:o=["icon-medium","player-has-buff",200953];i.maxStacks=12;i.iconFilename="ability_warrior_intensifyrage";i.previewCustomization="hide-cooldown";break;case 200860:case 200977:o=["progress-bar-small","player-has-buff",200977];break;case 200863:case 200979:o=["icon-medium","player-has-buff",200979];break;case 200875:case 201009:o=["progress-bar-medium","player-has-buff",201009];i.maxStacks=99;break;case 202163:case 202164:o=["progress-bar-small","player-has-buff",202164];i.playerClasses=[1];i.color=e.getIdString(1);break;case 202224:case 202225:o=["icon-medium","player-has-buff",202225];break;case 202288:case 202289:o=["progress-bar-small","player-has-buff",202289];break;case 202572:case 202573:case 202574:s.customizationsAvailable=true;o=["icon-medium","player-has-buff"];i.customization=function(e){if(i.trigger.match(/-buff$/)){var a=C();var r=i.trigger.match(/-has-/)?"true":"false";var t=r=="true"?"false":"true";var o=[202573,202574];var n="local vengeanceBuffs = {"+o.join(", ")+"};";e.trigger={type:"custom",custom:"function()    "+n+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+a+'", i));        for j, buffId in ipairs(vengeanceBuffs) do            if spellId == buffId then                return '+r+";            end        end    end    return "+t+";end",custom_hide:"custom",custom_type:"event",customDuration:"function()    "+n+'    for i = 1, 16 do        local name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitBuff("'+a+'", i);        for j, buffId in ipairs(vengeanceBuffs) do            if spellId == buffId then                return duration or 0, expirationTime or 0;            end        end    end    return 0;end',customIcon:"function()    "+n+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+a+'", i));        for j, buffId in ipairs(vengeanceBuffs) do            if spellId == 202573 then                return "Interface\\\\Icons\\\\ability_warrior_focusedrage";            elseif spellId == buffId then                return "Interface\\\\Icons\\\\ability_warrior_renewedvigor";            end        end    end    return "Interface\\\\Icons\\\\ability_warrior_unrelentingassault"; end',events:"SPELL_COOLDOWN_READY, SPELL_COOLDOWN_CHANGED, SPELL_COOLDOWN_STARTED, SPELL_UPDATE_USABLE, UNIT_AURA"};e.untrigger={custom:"function()    "+n+'    for i = 1, 16 do        local spellId = select(11, UnitBuff("'+a+'", i));        for j, buffId in ipairs(vengeanceBuffs) do            if spellId == buffId then                return '+t+";            end        end    end    return "+r+";end"};e.auto=true;s.customizationsInUse=true}return e};break;case 202603:case 202602:o=["icon-small","player-has-buff",202602];i.maxStacks=5;i.playerClasses=[1];i.color=e.getIdString(1);break;case 203576:case 203581:o=["icon-medium","player-has-buff",203581];break;case 205545:case 205546:case 205547:n=[205545,205546,null,null,null,"target-has-debuff"];i.playerSpecs=[72];break;case 206313:case 202539:o=["progress-bar-small","player-has-buff",202539];i.maxStacks=3;break;case 206315:case 206316:o=["icon-large","player-has-buff",206316];i.iconFilename="ability_warrior_rampage";break;case 209483:case 209484:o=["progress-bar-small","player-has-buff",209484];break;case 209492:case 209493:o=["icon-medium","player-has-buff",209493];break;case 209566:case 209567:o=["progress-bar-small","player-has-buff",209567];break;case 209574:case 209706:o=["icon-medium","player-has-buff",209706];break;case 209577:s.customizationsAvailable=true;o=["icon-large","target-missing-debuff"];o.combat=true;i.customization=function(e){if(i.trigger=="target-missing-debuff"){e.trigger.spellIds={1:208086};var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,$.extend({},i,{id:209577}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 213857:case 213858:o=["progress-bar-small","player-has-buff",213858];break;case 213871:o=["progress-bar-medium","group-member-has-buff"];i.allowGroupMemberHasBuffTrigger=true;i.showText=WH.TERMS.name;i.previewCustomization="player-names";i.customization=function(e){e.stacks=false;if(i.display.match(/^icon/)){e.stacksPoint="BOTTOM";e.fontSize=i.display=="icon-large"?10:8}if(!i.trigger.match(/-cooldown$/)&&i.trigger!="target-has-buff"){delete e.load["class"];delete e.load.race;delete e.load.spec;delete e.load.talent;delete e.load.pvptalent;delete e.load.use_class;delete e.load.use_race;delete e.load.use_spec;delete e.load.use_talent;delete e.load.use_pvptalent}return e};break;case 215538:case 215537:o=["progress-bar-small","target-has-debuff",215537];break;case 215550:s.customizationsAvailable=true;o=["icon-medium","target-health-low"];i.customization=function(e){if(i.trigger=="target-health-low"){var a=$.extend(true,{},t.stubs.trigger["off-cooldown"]);a=a.specialProcessing(a,$.extend({},i,{id:12294}));e.additional_triggers={1:{trigger:a.trigger}};e.numTriggers=2;s.customizationsInUse=true}return e};break;case 215556:case 215557:case 215562:o=["progress-bar-medium","player-has-buff",215562];break;case 215569:case 215570:o=["icon-large","player-has-buff",215570];break;case 215571:case 215572:o=["progress-bar-medium","player-has-buff",215572];break;case 215573:o=["icon-medium","off-cooldown",85288,/-cooldown$/];o.combat=true;i.iconFilename="warrior_wild_strike";break;case 228920:case 227744:o=["icon-large","off-cooldown",227744,/-buff$/];break;default:return}if(n){if(!n[2]){n[2]="icon-large"}if(!n[3]){n[3]="off-cooldown"}if(!n[4]){n[4]="progress-bar-medium"}if(!n[5]){n[5]="player-has-buff"}if(a.id==n[0]){o=[n[2],n[3]]}if(a.id==n[1]){o=[n[4],n[5]]}i.customization=function(e,a){if(i.trigger.match(new RegExp("-"+e[3].replace(/.*-([^-]+)/,"$1")+"$"))){a.trigger.spellIds={1:e[0]};a.trigger.spellName=e[0]}if(i.trigger.match(new RegExp("-"+e[5].replace(/.*-([^-]+)/,"$1")+"$"))){a.trigger.spellIds={1:e[1]}}return a}.bind(null,n)}if(o){i.display=o[0];i.trigger=o[1];i.combat=o.hasOwnProperty("combat")?o.combat:null;if(o[2]){var c=o[3];if(!c&&o[1].match(/.*(-(de)?buff)$/)){c=new RegExp(o[1].replace(/.*(-(de)?buff)$/,"$1")+"$")}if(c){i.customization=function(e,a,r){if(i.trigger.match(a)){r.trigger.spellIds={1:e[2]};r.trigger.spellName=e[2]}return r}.bind(null,o,c)}else{WH.error("Cannot create standard tracker spell customization with data.",o)}}}s.customizationsInUse=!r}function H(e){if(i.customIcon!="priest_icon_chakra"){i.format=WH.TERMS.stagger_monk;i.customIcon="priest_icon_chakra";i.showText="37%";s.originalIcon=i.iconFilename;i.iconFilename="priest_icon_chakra_blue";setTimeout(p,0)}var a=C();var r=i.trigger.match(/-has-/)?"true":"false";var t=r=="true"?"false":"true";var o="local spellId1 = 124273;    local spellId2 = 124274;    local spellId3 = 124275;";e.trigger={type:"custom",custom:'function(self, unit)    if unit ~= "'+a+'" then        return false;    end    WA_STAGGER = WA_STAGGER or {};    WA_STAGGER.value = UnitStagger("'+a+'");    if UnitStagger("'+a+'") > 0 then        return '+r+";    end    return "+t+";end",custom_hide:"custom",custom_type:"event",customDuration:'function()    WA_STAGGER = WA_STAGGER or {};    WA_STAGGER.maxValue = UnitHealthMax("'+a+'");    return WA_STAGGER.value, WA_STAGGER.maxValue, UnitStagger("'+a+'");end',customIcon:"function()    "+o+'    for i=1,16 do        name, rank, icon, count, debuffType, duration, expirationTime, unitCaster, isStealable, shouldConsolidate, spellId = UnitDebuff("'+a+'", i);        if spellId == spellId1 or spellId == spellId2 or spellId == spellId3 then            return GetSpellTexture(spellId);        end    end    return "Interface\\\\Icons\\\\priest_icon_chakra_blue";end',events:"UNIT_AURA"};e.untrigger={custom:'function(self, unit)    if unit ~= "'+a+'" then        return false;    end    WA_STAGGER = WA_STAGGER or {};    WA_STAGGER.value = UnitStagger("'+a+'");    if UnitStagger("'+a+'") > 0 then        return '+t+";    end    return "+r+";end"};if(i.display.match(/^progress-bar-/)){e.animation={start:{type:"none"},finish:{type:"none"},main:{duration_type:"seconds",duration:"0.5",type:"custom",use_color:true,colorType:"custom",colorA:1,colorR:.3,colorG:.6,colorB:1,colorFunc:"return function(progress, r1, g1, b1, a1, r2, g2, b2, a2)    local color = {        {r = 0.0, g = 1.0, b = 0.2},        {r = 1.0, g = 0.7, b = 0.0},        {r = 1.0, g = 0.0, b = 0.0},        {r = 0.3, g = 0.6, b = 1.0}    }    if WA_STAGGER == nil then        return color[4].r, color[4].g, color[4].b;    end    WA_STAGGER.percent = WA_STAGGER.value / WA_STAGGER.maxValue    if WA_STAGGER.percent == 0 then        return color[4].r, color[4].g, color[4].b;    end    if (WA_STAGGER.percent > 0.3 and WA_STAGGER.percent < STAGGER_RED_TRANSITION) then        color = color[2];    elseif (WA_STAGGER.percent > STAGGER_RED_TRANSITION) then        color = color[3];    else        color = color[1];    end    return color.r, color.g, color.b; end"}}}e.cooldown=false;e.displayTextRight=e.displayStacks="%c";e.customText='function()    local staggerValue = UnitStagger("'+a+'");    return format("%i", 100 / UnitHealthMax("'+a+'") * staggerValue) .. "%%";end';e.fontSize=14;e.auto=true;s.customizationsInUse=true;return e}function C(e){if(!e){e=i.trigger}switch(e){case"target-has-buff":case"target-missing-buff":case"target-has-debuff":case"target-missing-debuff":case"target-health-low":case"target-is-casting":case"target-interruptible":case"target-needs-rez":case"target-is-friendly":case"target-is-enraged":return"target";case"player-has-buff":case"player-missing-buff":case"player-has-debuff":case"player-missing-debuff":case"player-health-low":case"player-has-totem":case"player-missing-totem":case"off-cooldown":case"on-cooldown":case"no-pet":case"pet-health-low":case"pet-is-dead":case"resources-available":case"low-resources":case"combo-points":return"player";case"always":default:return null}}function A(){$(n.stringDisplayInput).focus().select();var e=false;try{if(!document.execCommand("copy")){e=true}}catch(a){e=true}if(e){n.stringdisplayError.innerHTML=WH.TERMS.nocopysupport_tip}else{WH.st(this,WH.TERMS.copied_clipboard);this.className=this.className.replace(" fa-clipboard"," fa-check")}}function R(e){var a=["^1"];var r=1;var t=L(e,a,r);a=t[0];a.push(["^^"]);return a.join("")}function U(e){for(var a=0,r;r=o[a];a++){e=e.replace(r[0],r[1])}return e}function P(e){return e.replace(/[^\x00-\x7F]/g,"?")}function L(e,a,r){var t=typeof e;if(t=="object"&&e instanceof Array){t="array"}switch(t){case"string":a[r+1]="^S";a[r+2]=P(U(e));r=r+2;break;case"number":a[r+1]="^N";a[r+2]=e.toString();r=r+2;break;case"object":r=r+1;a[r]="^T";var s;for(var i in e){s=typeof i=="string"&&i.match(/^[0-9]+$/)?L(parseInt(i),a,r):L(i,a,r);a=s[0];r=s[1];s=L(e[i],a,r);a=s[0];r=s[1]}r=r+1;a[r]="^t";break;case"boolean":r=r+1;if(e){a[r]="^B"}else{a[r]="^b"}break;case"null":r=r+1;a[r]="^Z";break;default:WH.error('Cannot serialize a value of type "'+t+'"')}return[a,r]}function N(e){if(typeof e!=="number")throw new TypeError("value must be a Number");var a={isNegative:false,exponent:0,mantissa:0};if(e===0){return a}if(!isFinite(e)){a.exponent=2047;if(isNaN(e)){a.isNegative=false;a.mantissa=0x8000000000000}else{a.isNegative=e===-Infinity;a.mantissa=0}return a}if(e<0){a.isNegative=true;e=-e}var r=0;if(e>=Math.pow(2,-1022)){var t=e;while(t<1){r-=1;t*=2}while(t>=2){r+=1;t/=2}r+=1023}a.exponent=r;if(r!=0){var s=e/Math.pow(2,r-1023);a.mantissa=Math.floor((s-1)*Math.pow(2,52))}else{a.mantissa=Math.floor(e/Math.pow(2,-1074))}return a}function M(e){var a=String.fromCharCode(1)+e;var r=[];var t=0;var s=0;var i=-1;var o=a.length;for(var n=0;n<o;++n){var l=a.charCodeAt(n);t+=l<<s;s+=8;while(s>=6){i+=1;r[i]=c[t&63];t=t>>6;s-=6}}if(s>0){i+=1;r[i]=c[t]}return r.join("")}function O(e){var a="";switch(e.length){case 3:var r=e.split("");for(var t=0,s;s=r[t];t++){a+=s+s}break;case 6:a+=e;break;default:return null}var i={4:1};var o=0;for(var n=0;n<=4;n=n+2){var c=a.substr(n,2);var l=D(c);if(isNaN(l)){return null}o++;i[o]=l/255}return i}function D(e){if(e.length!=2){return null}return parseInt(e,16)}};